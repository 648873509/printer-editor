<div
    class="dropdown-toggle"
    mx-click="@{toggle}()"
    title="<%=i18n(selectedText)%>"
>
    <span class="dropdown-toggle-label<%if(selected===''){%> dropdown-toggle-label-ph<%}%>"><%=i18n(selectedText)%></span>
    <span class="mc-iconfont arrow">&#xe692;</span>
</div>

<div class="dropdown-menu-wrapper">
    <%if(rList){%>
        <%if(searchbox){%>
        <div class="searchbox">
            <label class="searchbox-wrapper">
                <span class="mc-iconfont search-icon">&#xe608;</span>
                <input type="text"
                    placeholder="<%=i18n('@{dropdown.search.tip}')%>"
                    mx-keyup="@{search}()"
                    mx-paste="@{search}()"
                    mx-change="@{stop}()"
                    mx-focusin="@{stop}()"
                    mx-focusout="@{stop}()"
                    class="input search-input"
                    value="<%=keyword%>"/>
            </label>
        </div>
        <%}%>
        <ul class="dropdown-menu" id="list_<%=viewId%>">
            <%let text,value%>
            <%for(let item of list){%>
                <%if(textKey&&valueKey){%>
                    <%text=i18n(item[textKey]);value=item[valueKey]%>
                <%}else{%>
                    <%text=item;value=item;%>
                <%}%>
                <li title="<%=text%>" class="dropdown-item">
                    <%let equal=(value+'')===(selected+'')%>
                    <span
                        class="item-link ellipsis<%if(equal){%> active<%}%>"
                        mx-click="@{select}({item:'<%@item%>'})">
                        <%=text%>
                    </span>
                </li>
            <%}%>
        </ul>
    <%}%>
</div>
