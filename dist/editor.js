(function(o,a){if(!o.seajs){var s=o.seajs={version:"2.2.3"},l=s.data={},A=P("Object"),n=P("String"),c=Array.isArray||P("Array"),u=P("Function"),d=P("Undefined"),e=0,i=l.events={};s.on=function(e,t){return(i[e]||(i[e]=[])).push(t),s},s.off=function(e,t){if(!e&&!t)return i=l.events={},s;var r=i[e];if(r)if(t)for(var n=r.length-1;0<=n;n--)r[n]===t&&r.splice(n,1);else delete i[e];return s};var t,f=s.emit=function(e,t){var r,n=i[e];if(n)for(n=n.slice();r=n.shift();)r(t);return s},r=/[^?#]*\//,p=/\/\.\//g,h=/\/[^/]+\/\.\.\//,g=/([^:/])\/\//g,v=/^([^/:]+)(\/.+)$/,m=/{([^{]+)}/g,_=/^\/\/.|:\//,w=/^.*?\/\/.*?\//,B=document,y=X(B.URL),x=B.scripts,b=B.getElementById("seajsnode")||x[x.length-1],C=X(((t=b).hasAttribute?t.src:t.getAttribute("src",4))||y);s.resolve=function(e,t){if(!e)return"";var r=W(e=function(e){var t=e.length-1,r=e.charAt(t);return"#"===r?e.substring(0,t):".js"===e.substring(t-2)||0<e.indexOf("?")||".css"===e.substring(t-3)||"/"===r?e:e+".js"}(e=function(e){var r=l.vars;return r&&-1<e.indexOf("{")&&(e=e.replace(m,function(e,t){return n(r[t])?r[t]:e})),e}(e=function(e){var t,r=l.paths;return r&&(t=e.match(v))&&n(r[t[1]])&&(e=r[t[1]]+t[2]),e}(e=function(e){var t=l.alias;return t&&n(t[e])?t[e]:e}(e)))),t);return r=function(e){var t=l.map,r=e;if(t)for(var n=0,i=t.length;n<i;n++){var A=t[n];if((r=u(A)?A(e)||e:e.replace(A[0],A[1]))!==e)break}return r}(r)};var Q,E,U=B.head||B.getElementsByTagName("head")[0]||B.documentElement,F=U.getElementsByTagName("base")[0],S=/\.css(?:\?|$)/i,H=+navigator.userAgent.replace(/.*(?:AppleWebKit|AndroidWebKit)\/(\d+).*/,"$1")<536;s.request=function(e,t,r,n){var i=S.test(e),A=B.createElement(i?"link":"script");r&&(A.charset=r),d(n)||A.setAttribute("crossorigin",n),function(e,t,r,n){var i="onload"in e;if(r&&(H||!i))return setTimeout(function(){!function e(t,r){var n,i=t.sheet;if(H)i&&(n=!0);else if(i)try{i.cssRules&&(n=!0)}catch(e){"NS_ERROR_DOM_SECURITY_ERR"===e.name&&(n=!0)}setTimeout(function(){n?r():e(t,r)},20)}(e,t)},1);function A(){e.onload=e.onerror=e.onreadystatechange=null,r||l.debug||U.removeChild(e),e=null,t()}i?(e.onload=A,e.onerror=function(){f("error",{uri:n,node:e}),A()}):e.onreadystatechange=function(){/loaded|complete/.test(e.readyState)&&A()}}(A,t,i,e),i?(A.rel="stylesheet",A.href=e):(A.async=!0,A.src=e),Q=A,F?U.insertBefore(A,F):U.appendChild(A),Q=null};var T,k=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^\/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g,N=/\\\\/g,I=s.cache={},M={},L={},D={},O=V.STATUS={FETCHING:1,SAVED:2,LOADING:3,LOADED:4,EXECUTING:5,EXECUTED:6};V.prototype.resolve=function(){for(var e=this.dependencies,t=[],r=0,n=e.length;r<n;r++)t[r]=V.resolve(e[r],this.uri);return t},V.prototype.load=function(){var e=this;if(!(e.status>=O.LOADING)){e.status=O.LOADING;var t=e.resolve();f("load",t);for(var r,n=e._remain=t.length,i=0;i<n;i++)(r=V.get(t[i])).status<O.LOADED?r._waitings[e.uri]=(r._waitings[e.uri]||0)+1:e._remain--;if(0!==e._remain){var A={};for(i=0;i<n;i++)(r=I[t[i]]).status<O.FETCHING?r.fetch(A):r.status===O.SAVED&&r.load();for(var o in A)A.hasOwnProperty(o)&&A[o]()}else e.onload()}},V.prototype.onload=function(){var e=this;e.status=O.LOADED,e.callback&&e.callback();var t,r,n=e._waitings;for(t in n)n.hasOwnProperty(t)&&((r=I[t])._remain-=n[t],0===r._remain&&r.onload());delete e._waitings,delete e._remain},V.prototype.fetch=function(e){var t=this,r=t.uri;t.status=O.FETCHING;var n={uri:r};f("fetch",n);var i=n.requestUri||r;function A(){s.request(n.requestUri,n.onRequest,n.charset,n.crossorigin)}i&&!L[i]?M[i]?D[i].push(t):(M[i]=!0,D[i]=[t],f("request",n={uri:r,requestUri:i,onRequest:function(){delete M[i],L[i]=!0,T&&(V.save(r,T),T=null);var e,t=D[i];delete D[i];for(;e=t.shift();)e.load()},charset:u(l.charset)?l.charset(i):l.charset,crossorigin:u(l.crossorigin)?l.crossorigin(i):l.crossorigin}),n.requested||(e?e[n.requestUri]=A:A())):t.load()},V.prototype.exec=function(){var e=this;if(e.status>=O.EXECUTING)return e.exports;e.status=O.EXECUTING;var r=e.uri;function n(e){return V.get(n.resolve(e)).exec()}n.resolve=function(e){return V.resolve(e,r)},n.async=function(e,t){return V.use(e,t,r+"_async_"+z()),n};var t=e.factory,i=u(t)?t(n,e.exports={},e):t;return i===a&&(i=e.exports),delete e.factory,e.exports=i,e.status=O.EXECUTED,f("exec",e),i},V.resolve=function(e,t){var r={id:e,refUri:t};return f("resolve",r),r.uri||s.resolve(r.id,t)},V.define=function(e,t,r){var n=arguments.length;1===n?(r=e,e=a):2===n&&(r=t,c(e)?(t=e,e=a):t=a),!c(t)&&u(r)&&(t=function(e){var n=[];return e.replace(N,"").replace(k,function(e,t,r){r&&n.push(r)}),n}(r.toString()));var i={id:e,uri:V.resolve(e),deps:t,factory:r};if(!i.uri&&B.attachEvent){var A=function(){if(Q)return Q;if(E&&"interactive"===E.readyState)return E;for(var e=U.getElementsByTagName("script"),t=e.length-1;0<=t;t--){var r=e[t];if("interactive"===r.readyState)return E=r}}();A&&(i.uri=A.src)}f("define",i),i.uri?V.save(i.uri,i):T=i},V.save=function(e,t){var r=V.get(e);r.status<O.SAVED&&(r.id=t.id||e,r.dependencies=t.deps||[],r.factory=t.factory,r.status=O.SAVED)},V.get=function(e,t){return I[e]||(I[e]=new V(e,t))},V.use=function(e,i,t){var A=V.get(t,c(e)?e:[e]);A.callback=function(){for(var e=[],t=A.resolve(),r=0,n=t.length;r<n;r++)e[r]=I[t[r]].exec();i&&i.apply(o,e),delete A.callback},A.load()},V.preload=function(e){var t=l.preload,r=t.length;r?V.use(t,function(){t.splice(0,r),V.preload(e)},l.cwd+"_preload_"+z()):e()},s.use=function(e,t){return V.preload(function(){V.use(e,t,l.cwd+"_use_"+z())}),s},V.define.cmd={},o.define=V.define,s.Module=V,l.fetchedList=L,l.cid=z,s.require=function(e){var t=V.get(V.resolve(e));return t.status<O.EXECUTING&&(t.onload(),t.exec()),t.exports};var K,R;l.base=(C.match(/^(.+?\/)(\?\?)?(seajs\/)+/)||["",C])[1],l.dir=C,l.cwd=y,l.charset="utf-8",l.history={},l.preload=(K=[],R=location.search.replace(/(seajs-\w+)(&|$)/g,"$1=1$2"),(R+=" "+B.cookie).replace(/(seajs-\w+)=1/g,function(e,t){K.push(t)}),K),s.config=function(e){for(var t in e){var r=e[t],n=l[t];if(l.history[t]=l.history[t]||[],l.history[t].push(G(r)),n&&A(n))for(var i in r)n[i]=r[i];else c(n)?r=n.concat(r):"base"===t&&("/"!==r.slice(-1)&&(r+="/"),r=W(r)),l[t]=r}return f("config",e),s}}function P(t){return function(e){return{}.toString.call(e)=="[object "+t+"]"}}function z(){return e++}function X(e){return e.match(r)[0]}function W(e,t){var r,n=e.charAt(0);if(_.test(e))r=e;else if("."===n)r=function(e){for(e=e.replace(p,"/");e.match(h);)e=e.replace(h,"/");return e=e.replace(g,"$1/")}((t?X(t):l.cwd)+e);else if("/"===n){var i=l.cwd.match(w);r=i?i[0]+e.substring(1):e}else r=l.base+e;return 0===r.indexOf("//")&&(r=location.protocol+r),r}function V(e,t){this.uri=e,this.dependencies=t||[],this.exports=null,this.status=0,this._waitings={},this._remain=0}function G(e){if(A(e)){var t={};for(var r in e)t[r]=e[r];return t}return e}})(this),function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(x,e){"use strict";function h(e){return null!=e&&e===e.window}var t=[],b=x.document,n=Object.getPrototypeOf,a=t.slice,g=t.concat,s=t.push,i=t.indexOf,r={},A=r.toString,v=r.hasOwnProperty,o=v.toString,l=o.call(Object),m={},_=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},c={type:!0,src:!0,noModule:!0};function w(e,t,r){var n,i=(t=t||b).createElement("script");if(i.text=e,r)for(n in c)r[n]&&(i[n]=r[n]);t.head.appendChild(i).parentNode.removeChild(i)}function B(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?r[A.call(e)]||"object":typeof e}var C=function(e,t){return new C.fn.init(e,t)},u=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function d(e){var t=!!e&&"length"in e&&e.length,r=B(e);return!_(e)&&!h(e)&&("array"===r||0===t||"number"==typeof t&&0<t&&t-1 in e)}C.fn=C.prototype={jquery:"3.3.1",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=C.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return C.each(this,e)},map:function(r){return this.pushStack(C.map(this,function(e,t){return r.call(e,t,e)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,r=+e+(e<0?t:0);return this.pushStack(0<=r&&r<t?[this[r]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:t.sort,splice:t.splice},C.extend=C.fn.extend=function(){var e,t,r,n,i,A,o=arguments[0]||{},a=1,s=arguments.length,l=!1;for("boolean"==typeof o&&(l=o,o=arguments[a]||{},a++),"object"==typeof o||_(o)||(o={}),a===s&&(o=this,a--);a<s;a++)if(null!=(e=arguments[a]))for(t in e)r=o[t],o!==(n=e[t])&&(l&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(A=i?(i=!1,r&&Array.isArray(r)?r:[]):r&&C.isPlainObject(r)?r:{},o[t]=C.extend(l,A,n)):void 0!==n&&(o[t]=n));return o},C.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,r;return!(!e||"[object Object]"!==A.call(e))&&(!(t=n(e))||"function"==typeof(r=v.call(t,"constructor")&&t.constructor)&&o.call(r)===l)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){w(e)},each:function(e,t){var r,n=0;if(d(e))for(r=e.length;n<r&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:function(e){return null==e?"":(e+"").replace(u,"")},makeArray:function(e,t){var r=t||[];return null!=e&&(d(Object(e))?C.merge(r,"string"==typeof e?[e]:e):s.call(r,e)),r},inArray:function(e,t,r){return null==t?-1:i.call(t,e,r)},merge:function(e,t){for(var r=+t.length,n=0,i=e.length;n<r;n++)e[i++]=t[n];return e.length=i,e},grep:function(e,t,r){for(var n=[],i=0,A=e.length,o=!r;i<A;i++)!t(e[i],i)!=o&&n.push(e[i]);return n},map:function(e,t,r){var n,i,A=0,o=[];if(d(e))for(n=e.length;A<n;A++)null!=(i=t(e[A],A,r))&&o.push(i);else for(A in e)null!=(i=t(e[A],A,r))&&o.push(i);return g.apply([],o)},guid:1,support:m}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=t[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){r["[object "+t+"]"]=t.toLowerCase()});var f=function(r){function u(e,t,r){var n="0x"+t-65536;return n!=n||r?t:n<0?String.fromCharCode(65536+n):String.fromCharCode(n>>10|55296,1023&n|56320)}function i(){y()}var e,f,w,A,o,p,d,h,B,s,l,y,x,a,b,g,c,v,m,C="sizzle"+1*new Date,_=r.document,Q=0,n=0,E=oe(),U=oe(),F=oe(),S=function(e,t){return e===t&&(l=!0),0},H={}.hasOwnProperty,t=[],T=t.pop,k=t.push,N=t.push,I=t.slice,M=function(e,t){for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",D="[\\x20\\t\\r\\n\\f]",O="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",K="\\["+D+"*("+O+")(?:"+D+"*([*^$|!~]?=)"+D+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+O+"))|)"+D+"*\\]",R=":("+O+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+K+")*)|.*)\\)|)",P=new RegExp(D+"+","g"),z=new RegExp("^"+D+"+|((?:^|[^\\\\])(?:\\\\.)*)"+D+"+$","g"),X=new RegExp("^"+D+"*,"+D+"*"),W=new RegExp("^"+D+"*([>+~]|"+D+")"+D+"*"),V=new RegExp("="+D+"*([^\\]'\"]*?)"+D+"*\\]","g"),G=new RegExp(R),Y=new RegExp("^"+O+"$"),j={ID:new RegExp("^#("+O+")"),CLASS:new RegExp("^\\.("+O+")"),TAG:new RegExp("^("+O+"|[*])"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+R),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+D+"*(even|odd|(([+-]|)(\\d*)n|)"+D+"*(?:([+-]|)"+D+"*(\\d+)|))"+D+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+D+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+D+"*((?:-\\d)?\\d*)"+D+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,q=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\([\\da-f]{1,6}"+D+"?|("+D+")|.)","ig"),re=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=me(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{N.apply(t=I.call(_.childNodes),_.childNodes),t[_.childNodes.length].nodeType}catch(e){N={apply:t.length?function(e,t){k.apply(e,I.call(t))}:function(e,t){for(var r=e.length,n=0;e[r++]=t[n++];);e.length=r-1}}}function Ae(e,t,r,n){var i,A,o,a,s,l,c,u=t&&t.ownerDocument,d=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==d&&9!==d&&11!==d)return r;if(!n&&((t?t.ownerDocument||t:_)!==x&&y(t),t=t||x,b)){if(11!==d&&(s=Z.exec(e)))if(i=s[1]){if(9===d){if(!(o=t.getElementById(i)))return r;if(o.id===i)return r.push(o),r}else if(u&&(o=u.getElementById(i))&&m(t,o)&&o.id===i)return r.push(o),r}else{if(s[2])return N.apply(r,t.getElementsByTagName(e)),r;if((i=s[3])&&f.getElementsByClassName&&t.getElementsByClassName)return N.apply(r,t.getElementsByClassName(i)),r}if(f.qsa&&!F[e+" "]&&(!g||!g.test(e))){if(1!==d)u=t,c=e;else if("object"!==t.nodeName.toLowerCase()){for((a=t.getAttribute("id"))?a=a.replace(re,ne):t.setAttribute("id",a=C),A=(l=p(e)).length;A--;)l[A]="#"+a+" "+ve(l[A]);c=l.join(","),u=ee.test(e)&&he(t.parentNode)||t}if(c)try{return N.apply(r,u.querySelectorAll(c)),r}catch(e){}finally{a===C&&t.removeAttribute("id")}}}return h(e.replace(z,"$1"),t,r,n)}function oe(){var n=[];return function e(t,r){return n.push(t+" ")>w.cacheLength&&delete e[n.shift()],e[t+" "]=r}}function ae(e){return e[C]=!0,e}function se(e){var t=x.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function le(e,t){for(var r=e.split("|"),n=r.length;n--;)w.attrHandle[r[n]]=t}function ce(e,t){var r=t&&e,n=r&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(n)return n;if(r)for(;r=r.nextSibling;)if(r===t)return-1;return e?1:-1}function ue(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function de(r){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===r}}function fe(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&ie(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function pe(o){return ae(function(A){return A=+A,ae(function(e,t){for(var r,n=o([],e.length,A),i=n.length;i--;)e[r=n[i]]&&(e[r]=!(t[r]=e[r]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(e in f=Ae.support={},o=Ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},y=Ae.setDocument=function(e){var t,r,n=e?e.ownerDocument||e:_;return n!==x&&9===n.nodeType&&n.documentElement&&(a=(x=n).documentElement,b=!o(x),_!==x&&(r=x.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",i,!1):r.attachEvent&&r.attachEvent("onunload",i)),f.attributes=se(function(e){return e.className="i",!e.getAttribute("className")}),f.getElementsByTagName=se(function(e){return e.appendChild(x.createComment("")),!e.getElementsByTagName("*").length}),f.getElementsByClassName=$.test(x.getElementsByClassName),f.getById=se(function(e){return a.appendChild(e).id=C,!x.getElementsByName||!x.getElementsByName(C).length}),f.getById?(w.filter.ID=function(e){var t=e.replace(te,u);return function(e){return e.getAttribute("id")===t}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&b){var r=t.getElementById(e);return r?[r]:[]}}):(w.filter.ID=function(e){var r=e.replace(te,u);return function(e){var t=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return t&&t.value===r}},w.find.ID=function(e,t){if(void 0!==t.getElementById&&b){var r,n,i,A=t.getElementById(e);if(A){if((r=A.getAttributeNode("id"))&&r.value===e)return[A];for(i=t.getElementsByName(e),n=0;A=i[n++];)if((r=A.getAttributeNode("id"))&&r.value===e)return[A]}return[]}}),w.find.TAG=f.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):f.qsa?t.querySelectorAll(e):void 0}:function(e,t){var r,n=[],i=0,A=t.getElementsByTagName(e);if("*"!==e)return A;for(;r=A[i++];)1===r.nodeType&&n.push(r);return n},w.find.CLASS=f.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&b)return t.getElementsByClassName(e)},c=[],g=[],(f.qsa=$.test(x.querySelectorAll))&&(se(function(e){a.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+D+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+D+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+C+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||g.push(".#.+[+~]")}),se(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=x.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+D+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),a.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(f.matchesSelector=$.test(v=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.oMatchesSelector||a.msMatchesSelector))&&se(function(e){f.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),c.push("!=",R)}),g=g.length&&new RegExp(g.join("|")),c=c.length&&new RegExp(c.join("|")),t=$.test(a.compareDocumentPosition),m=t||$.test(a.contains)?function(e,t){var r=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(r.contains?r.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return l=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!f.sortDetached&&t.compareDocumentPosition(e)===r?e===x||e.ownerDocument===_&&m(_,e)?-1:t===x||t.ownerDocument===_&&m(_,t)?1:s?M(s,e)-M(s,t):0:4&r?-1:1)}:function(e,t){if(e===t)return l=!0,0;var r,n=0,i=e.parentNode,A=t.parentNode,o=[e],a=[t];if(!i||!A)return e===x?-1:t===x?1:i?-1:A?1:s?M(s,e)-M(s,t):0;if(i===A)return ce(e,t);for(r=e;r=r.parentNode;)o.unshift(r);for(r=t;r=r.parentNode;)a.unshift(r);for(;o[n]===a[n];)n++;return n?ce(o[n],a[n]):o[n]===_?-1:a[n]===_?1:0}),x},Ae.matches=function(e,t){return Ae(e,null,null,t)},Ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==x&&y(e),t=t.replace(V,"='$1']"),f.matchesSelector&&b&&!F[t+" "]&&(!c||!c.test(t))&&(!g||!g.test(t)))try{var r=v.call(e,t);if(r||f.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return 0<Ae(t,x,null,[e]).length},Ae.contains=function(e,t){return(e.ownerDocument||e)!==x&&y(e),m(e,t)},Ae.attr=function(e,t){(e.ownerDocument||e)!==x&&y(e);var r=w.attrHandle[t.toLowerCase()],n=r&&H.call(w.attrHandle,t.toLowerCase())?r(e,t,!b):void 0;return void 0!==n?n:f.attributes||!b?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null},Ae.escape=function(e){return(e+"").replace(re,ne)},Ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},Ae.uniqueSort=function(e){var t,r=[],n=0,i=0;if(l=!f.detectDuplicates,s=!f.sortStable&&e.slice(0),e.sort(S),l){for(;t=e[i++];)t===e[i]&&(n=r.push(i));for(;n--;)e.splice(r[n],1)}return s=null,e},A=Ae.getText=function(e){var t,r="",n=0,i=e.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)r+=A(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[n++];)r+=A(t);return r},(w=Ae.selectors={cacheLength:50,createPseudo:ae,match:j,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,u),e[3]=(e[3]||e[4]||e[5]||"").replace(te,u),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||Ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&Ae.error(e[0]),e},PSEUDO:function(e){var t,r=!e[6]&&e[2];return j.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":r&&G.test(r)&&(t=p(r,!0))&&(t=r.indexOf(")",r.length-t)-r.length)&&(e[0]=e[0].slice(0,t),e[2]=r.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,u).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=E[e+" "];return t||(t=new RegExp("(^|"+D+")"+e+"("+D+"|$)"))&&E(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(r,n,i){return function(e){var t=Ae.attr(e,r);return null==t?"!="===n:!n||(t+="","="===n?t===i:"!="===n?t!==i:"^="===n?i&&0===t.indexOf(i):"*="===n?i&&-1<t.indexOf(i):"$="===n?i&&t.slice(-i.length)===i:"~="===n?-1<(" "+t.replace(P," ")+" ").indexOf(i):"|="===n&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(p,e,t,h,g){var v="nth"!==p.slice(0,3),m="last"!==p.slice(-4),_="of-type"===e;return 1===h&&0===g?function(e){return!!e.parentNode}:function(e,t,r){var n,i,A,o,a,s,l=v!=m?"nextSibling":"previousSibling",c=e.parentNode,u=_&&e.nodeName.toLowerCase(),d=!r&&!_,f=!1;if(c){if(v){for(;l;){for(o=e;o=o[l];)if(_?o.nodeName.toLowerCase()===u:1===o.nodeType)return!1;s=l="only"===p&&!s&&"nextSibling"}return!0}if(s=[m?c.firstChild:c.lastChild],m&&d){for(f=(a=(n=(i=(A=(o=c)[C]||(o[C]={}))[o.uniqueID]||(A[o.uniqueID]={}))[p]||[])[0]===Q&&n[1])&&n[2],o=a&&c.childNodes[a];o=++a&&o&&o[l]||(f=a=0)||s.pop();)if(1===o.nodeType&&++f&&o===e){i[p]=[Q,a,f];break}}else if(d&&(f=a=(n=(i=(A=(o=e)[C]||(o[C]={}))[o.uniqueID]||(A[o.uniqueID]={}))[p]||[])[0]===Q&&n[1]),!1===f)for(;(o=++a&&o&&o[l]||(f=a=0)||s.pop())&&((_?o.nodeName.toLowerCase()!==u:1!==o.nodeType)||!++f||(d&&((i=(A=o[C]||(o[C]={}))[o.uniqueID]||(A[o.uniqueID]={}))[p]=[Q,f]),o!==e)););return(f-=g)===h||f%h==0&&0<=f/h}}},PSEUDO:function(e,A){var t,o=w.pseudos[e]||w.setFilters[e.toLowerCase()]||Ae.error("unsupported pseudo: "+e);return o[C]?o(A):1<o.length?(t=[e,e,"",A],w.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,t){for(var r,n=o(e,A),i=n.length;i--;)e[r=M(e,n[i])]=!(t[r]=n[i])}):function(e){return o(e,0,t)}):o}},pseudos:{not:ae(function(e){var n=[],i=[],a=d(e.replace(z,"$1"));return a[C]?ae(function(e,t,r,n){for(var i,A=a(e,null,n,[]),o=e.length;o--;)(i=A[o])&&(e[o]=!(t[o]=i))}):function(e,t,r){return n[0]=e,a(n,null,r,i),n[0]=null,!i.pop()}}),has:ae(function(t){return function(e){return 0<Ae(t,e).length}}),contains:ae(function(t){return t=t.replace(te,u),function(e){return-1<(e.textContent||e.innerText||A(e)).indexOf(t)}}),lang:ae(function(r){return Y.test(r||"")||Ae.error("unsupported lang: "+r),r=r.replace(te,u).toLowerCase(),function(e){var t;do{if(t=b?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===r||0===t.indexOf(r+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=r.location&&r.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===a},focus:function(e){return e===x.activeElement&&(!x.hasFocus||x.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!w.pseudos.empty(e)},header:function(e){return q.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,r){return[r<0?r+t:r]}),even:pe(function(e,t){for(var r=0;r<t;r+=2)e.push(r);return e}),odd:pe(function(e,t){for(var r=1;r<t;r+=2)e.push(r);return e}),lt:pe(function(e,t,r){for(var n=r<0?r+t:r;0<=--n;)e.push(n);return e}),gt:pe(function(e,t,r){for(var n=r<0?r+t:r;++n<t;)e.push(n);return e})}}).pseudos.nth=w.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})w.pseudos[e]=ue(e);for(e in{submit:!0,reset:!0})w.pseudos[e]=de(e);function ge(){}function ve(e){for(var t=0,r=e.length,n="";t<r;t++)n+=e[t].value;return n}function me(a,e,t){var s=e.dir,l=e.next,c=l||s,u=t&&"parentNode"===c,d=n++;return e.first?function(e,t,r){for(;e=e[s];)if(1===e.nodeType||u)return a(e,t,r);return!1}:function(e,t,r){var n,i,A,o=[Q,d];if(r){for(;e=e[s];)if((1===e.nodeType||u)&&a(e,t,r))return!0}else for(;e=e[s];)if(1===e.nodeType||u)if(i=(A=e[C]||(e[C]={}))[e.uniqueID]||(A[e.uniqueID]={}),l&&l===e.nodeName.toLowerCase())e=e[s]||e;else{if((n=i[c])&&n[0]===Q&&n[1]===d)return o[2]=n[2];if((i[c]=o)[2]=a(e,t,r))return!0}return!1}}function _e(i){return 1<i.length?function(e,t,r){for(var n=i.length;n--;)if(!i[n](e,t,r))return!1;return!0}:i[0]}function we(e,t,r,n,i){for(var A,o=[],a=0,s=e.length,l=null!=t;a<s;a++)(A=e[a])&&(r&&!r(A,n,i)||(o.push(A),l&&t.push(a)));return o}function Be(f,p,h,g,v,e){return g&&!g[C]&&(g=Be(g)),v&&!v[C]&&(v=Be(v,e)),ae(function(e,t,r,n){var i,A,o,a=[],s=[],l=t.length,c=e||function(e,t,r){for(var n=0,i=t.length;n<i;n++)Ae(e,t[n],r);return r}(p||"*",r.nodeType?[r]:r,[]),u=!f||!e&&p?c:we(c,a,f,r,n),d=h?v||(e?f:l||g)?[]:t:u;if(h&&h(u,d,r,n),g)for(i=we(d,s),g(i,[],r,n),A=i.length;A--;)(o=i[A])&&(d[s[A]]=!(u[s[A]]=o));if(e){if(v||f){if(v){for(i=[],A=d.length;A--;)(o=d[A])&&i.push(u[A]=o);v(null,d=[],i,n)}for(A=d.length;A--;)(o=d[A])&&-1<(i=v?M(e,o):a[A])&&(e[i]=!(t[i]=o))}}else d=we(d===t?d.splice(l,d.length):d),v?v(null,t,d,n):N.apply(t,d)})}function ye(e){for(var i,t,r,n=e.length,A=w.relative[e[0].type],o=A||w.relative[" "],a=A?1:0,s=me(function(e){return e===i},o,!0),l=me(function(e){return-1<M(i,e)},o,!0),c=[function(e,t,r){var n=!A&&(r||t!==B)||((i=t).nodeType?s(e,t,r):l(e,t,r));return i=null,n}];a<n;a++)if(t=w.relative[e[a].type])c=[me(_e(c),t)];else{if((t=w.filter[e[a].type].apply(null,e[a].matches))[C]){for(r=++a;r<n&&!w.relative[e[r].type];r++);return Be(1<a&&_e(c),1<a&&ve(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(z,"$1"),t,a<r&&ye(e.slice(a,r)),r<n&&ye(e=e.slice(r)),r<n&&ve(e))}c.push(t)}return _e(c)}return ge.prototype=w.filters=w.pseudos,w.setFilters=new ge,p=Ae.tokenize=function(e,t){var r,n,i,A,o,a,s,l=U[e+" "];if(l)return t?0:l.slice(0);for(o=e,a=[],s=w.preFilter;o;){for(A in r&&!(n=X.exec(o))||(n&&(o=o.slice(n[0].length)||o),a.push(i=[])),r=!1,(n=W.exec(o))&&(r=n.shift(),i.push({value:r,type:n[0].replace(z," ")}),o=o.slice(r.length)),w.filter)!(n=j[A].exec(o))||s[A]&&!(n=s[A](n))||(r=n.shift(),i.push({value:r,type:A,matches:n}),o=o.slice(r.length));if(!r)break}return t?o.length:o?Ae.error(e):U(e,a).slice(0)},d=Ae.compile=function(e,t){var r,n=[],i=[],A=F[e+" "];if(!A){for(t||(t=p(e)),r=t.length;r--;)(A=ye(t[r]))[C]?n.push(A):i.push(A);(A=F(e,function(g,v){function e(e,t,r,n,i){var A,o,a,s=0,l="0",c=e&&[],u=[],d=B,f=e||_&&w.find.TAG("*",i),p=Q+=null==d?1:Math.random()||.1,h=f.length;for(i&&(B=t===x||t||i);l!==h&&null!=(A=f[l]);l++){if(_&&A){for(o=0,t||A.ownerDocument===x||(y(A),r=!b);a=g[o++];)if(a(A,t||x,r)){n.push(A);break}i&&(Q=p)}m&&((A=!a&&A)&&s--,e&&c.push(A))}if(s+=l,m&&l!==s){for(o=0;a=v[o++];)a(c,u,t,r);if(e){if(0<s)for(;l--;)c[l]||u[l]||(u[l]=T.call(n));u=we(u)}N.apply(n,u),i&&!e&&0<u.length&&1<s+v.length&&Ae.uniqueSort(n)}return i&&(Q=p,B=d),c}var m=0<v.length,_=0<g.length;return m?ae(e):e}(i,n))).selector=e}return A},h=Ae.select=function(e,t,r,n){var i,A,o,a,s,l="function"==typeof e&&e,c=!n&&p(e=l.selector||e);if(r=r||[],1===c.length){if(2<(A=c[0]=c[0].slice(0)).length&&"ID"===(o=A[0]).type&&9===t.nodeType&&b&&w.relative[A[1].type]){if(!(t=(w.find.ID(o.matches[0].replace(te,u),t)||[])[0]))return r;l&&(t=t.parentNode),e=e.slice(A.shift().value.length)}for(i=j.needsContext.test(e)?0:A.length;i--&&(o=A[i],!w.relative[a=o.type]);)if((s=w.find[a])&&(n=s(o.matches[0].replace(te,u),ee.test(A[0].type)&&he(t.parentNode)||t))){if(A.splice(i,1),!(e=n.length&&ve(A)))return N.apply(r,n),r;break}}return(l||d(e,c))(n,t,!b,r,!t||ee.test(e)&&he(t.parentNode)||t),r},f.sortStable=C.split("").sort(S).join("")===C,f.detectDuplicates=!!l,y(),f.sortDetached=se(function(e){return 1&e.compareDocumentPosition(x.createElement("fieldset"))}),se(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||le("type|href|height|width",function(e,t,r){if(!r)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),f.attributes&&se(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||le("value",function(e,t,r){if(!r&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),se(function(e){return null==e.getAttribute("disabled")})||le(L,function(e,t,r){var n;if(!r)return!0===e[t]?t.toLowerCase():(n=e.getAttributeNode(t))&&n.specified?n.value:null}),Ae}(x);C.find=f,C.expr=f.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=f.uniqueSort,C.text=f.getText,C.isXMLDoc=f.isXML,C.contains=f.contains,C.escapeSelector=f.escape;function p(e,t,r){for(var n=[],i=void 0!==r;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&C(e).is(r))break;n.push(e)}return n}function y(e,t){for(var r=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&r.push(e);return r}var Q=C.expr.match.needsContext;function E(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var U=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function F(e,r,n){return _(r)?C.grep(e,function(e,t){return!!r.call(e,t,e)!==n}):r.nodeType?C.grep(e,function(e){return e===r!==n}):"string"!=typeof r?C.grep(e,function(e){return-1<i.call(r,e)!==n}):C.filter(r,e,n)}C.filter=function(e,t,r){var n=t[0];return r&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?C.find.matchesSelector(n,e)?[n]:[]:C.find.matches(e,C.grep(t,function(e){return 1===e.nodeType}))},C.fn.extend({find:function(e){var t,r,n=this.length,i=this;if("string"!=typeof e)return this.pushStack(C(e).filter(function(){for(t=0;t<n;t++)if(C.contains(i[t],this))return!0}));for(r=this.pushStack([]),t=0;t<n;t++)C.find(e,i[t],r);return 1<n?C.uniqueSort(r):r},filter:function(e){return this.pushStack(F(this,e||[],!1))},not:function(e){return this.pushStack(F(this,e||[],!0))},is:function(e){return!!F(this,"string"==typeof e&&Q.test(e)?C(e):e||[],!1).length}});var S,H=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(C.fn.init=function(e,t,r){var n,i;if(!e)return this;if(r=r||S,"string"!=typeof e)return e.nodeType?(this[0]=e,this.length=1,this):_(e)?void 0!==r.ready?r.ready(e):e(C):C.makeArray(e,this);if(!(n="<"===e[0]&&">"===e[e.length-1]&&3<=e.length?[null,e,null]:H.exec(e))||!n[1]&&t)return!t||t.jquery?(t||r).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof C?t[0]:t,C.merge(this,C.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:b,!0)),U.test(n[1])&&C.isPlainObject(t))for(n in t)_(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(i=b.getElementById(n[2]))&&(this[0]=i,this.length=1),this}).prototype=C.fn,S=C(b);var T=/^(?:parents|prev(?:Until|All))/,k={children:!0,contents:!0,next:!0,prev:!0};function N(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}C.fn.extend({has:function(e){var t=C(e,this),r=t.length;return this.filter(function(){for(var e=0;e<r;e++)if(C.contains(this,t[e]))return!0})},closest:function(e,t){var r,n=0,i=this.length,A=[],o="string"!=typeof e&&C(e);if(!Q.test(e))for(;n<i;n++)for(r=this[n];r&&r!==t;r=r.parentNode)if(r.nodeType<11&&(o?-1<o.index(r):1===r.nodeType&&C.find.matchesSelector(r,e))){A.push(r);break}return this.pushStack(1<A.length?C.uniqueSort(A):A)},index:function(e){return e?"string"==typeof e?i.call(C(e),this[0]):i.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),C.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p(e,"parentNode")},parentsUntil:function(e,t,r){return p(e,"parentNode",r)},next:function(e){return N(e,"nextSibling")},prev:function(e){return N(e,"previousSibling")},nextAll:function(e){return p(e,"nextSibling")},prevAll:function(e){return p(e,"previousSibling")},nextUntil:function(e,t,r){return p(e,"nextSibling",r)},prevUntil:function(e,t,r){return p(e,"previousSibling",r)},siblings:function(e){return y((e.parentNode||{}).firstChild,e)},children:function(e){return y(e.firstChild)},contents:function(e){return E(e,"iframe")?e.contentDocument:(E(e,"template")&&(e=e.content||e),C.merge([],e.childNodes))}},function(n,i){C.fn[n]=function(e,t){var r=C.map(this,i,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(r=C.filter(t,r)),1<this.length&&(k[n]||C.uniqueSort(r),T.test(n)&&r.reverse()),this.pushStack(r)}});var I=/[^\x20\t\r\n\f]+/g;function M(e){return e}function L(e){throw e}function D(e,t,r,n){var i;try{e&&_(i=e.promise)?i.call(e).done(t).fail(r):e&&_(i=e.then)?i.call(e,t,r):t.apply(void 0,[e].slice(n))}catch(e){r.apply(void 0,[e])}}C.Callbacks=function(n){n="string"==typeof n?function(e){var r={};return C.each(e.match(I)||[],function(e,t){r[t]=!0}),r}(n):C.extend({},n);function r(){for(A=A||n.once,t=i=!0;a.length;s=-1)for(e=a.shift();++s<o.length;)!1===o[s].apply(e[0],e[1])&&n.stopOnFalse&&(s=o.length,e=!1);n.memory||(e=!1),i=!1,A&&(o=e?[]:"")}var i,e,t,A,o=[],a=[],s=-1,l={add:function(){return o&&(e&&!i&&(s=o.length-1,a.push(e)),function r(e){C.each(e,function(e,t){_(t)?n.unique&&l.has(t)||o.push(t):t&&t.length&&"string"!==B(t)&&r(t)})}(arguments),e&&!i&&r()),this},remove:function(){return C.each(arguments,function(e,t){for(var r;-1<(r=C.inArray(t,o,r));)o.splice(r,1),r<=s&&s--}),this},has:function(e){return e?-1<C.inArray(e,o):0<o.length},empty:function(){return o&&(o=[]),this},disable:function(){return A=a=[],o=e="",this},disabled:function(){return!o},lock:function(){return A=a=[],e||i||(o=e=""),this},locked:function(){return!!A},fireWith:function(e,t){return A||(t=[e,(t=t||[]).slice?t.slice():t],a.push(t),i||r()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!t}};return l},C.extend({Deferred:function(e){var A=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],i="pending",o={state:function(){return i},always:function(){return a.done(arguments).fail(arguments),this},catch:function(e){return o.then(null,e)},pipe:function(){var i=arguments;return C.Deferred(function(n){C.each(A,function(e,t){var r=_(i[t[4]])&&i[t[4]];a[t[1]](function(){var e=r&&r.apply(this,arguments);e&&_(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[t[0]+"With"](this,r?[e]:arguments)})}),i=null}).promise()},then:function(t,r,n){var s=0;function l(i,A,o,a){return function(){function e(){var e,t;if(!(i<s)){if((e=o.apply(r,n))===A.promise())throw new TypeError("Thenable self-resolution");t=e&&("object"==typeof e||"function"==typeof e)&&e.then,_(t)?a?t.call(e,l(s,A,M,a),l(s,A,L,a)):(s++,t.call(e,l(s,A,M,a),l(s,A,L,a),l(s,A,M,A.notifyWith))):(o!==M&&(r=void 0,n=[e]),(a||A.resolveWith)(r,n))}}var r=this,n=arguments,t=a?e:function(){try{e()}catch(e){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(e,t.stackTrace),s<=i+1&&(o!==L&&(r=void 0,n=[e]),A.rejectWith(r,n))}};i?t():(C.Deferred.getStackHook&&(t.stackTrace=C.Deferred.getStackHook()),x.setTimeout(t))}}return C.Deferred(function(e){A[0][3].add(l(0,e,_(n)?n:M,e.notifyWith)),A[1][3].add(l(0,e,_(t)?t:M)),A[2][3].add(l(0,e,_(r)?r:L))}).promise()},promise:function(e){return null!=e?C.extend(e,o):o}},a={};return C.each(A,function(e,t){var r=t[2],n=t[5];o[t[1]]=r.add,n&&r.add(function(){i=n},A[3-e][2].disable,A[3-e][3].disable,A[0][2].lock,A[0][3].lock),r.add(t[3].fire),a[t[0]]=function(){return a[t[0]+"With"](this===a?void 0:this,arguments),this},a[t[0]+"With"]=r.fireWith}),o.promise(a),e&&e.call(a,a),a},when:function(e){function t(t){return function(e){i[t]=this,A[t]=1<arguments.length?a.call(arguments):e,--r||o.resolveWith(i,A)}}var r=arguments.length,n=r,i=Array(n),A=a.call(arguments),o=C.Deferred();if(r<=1&&(D(e,o.done(t(n)).resolve,o.reject,!r),"pending"===o.state()||_(A[n]&&A[n].then)))return o.then();for(;n--;)D(A[n],t(n),o.reject);return o.promise()}});var O=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;C.Deferred.exceptionHook=function(e,t){x.console&&x.console.warn&&e&&O.test(e.name)&&x.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},C.readyException=function(e){x.setTimeout(function(){throw e})};var K=C.Deferred();function R(){b.removeEventListener("DOMContentLoaded",R),x.removeEventListener("load",R),C.ready()}C.fn.ready=function(e){return K.then(e).catch(function(e){C.readyException(e)}),this},C.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--C.readyWait:C.isReady)||(C.isReady=!0)!==e&&0<--C.readyWait||K.resolveWith(b,[C])}}),C.ready.then=K.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?x.setTimeout(C.ready):(b.addEventListener("DOMContentLoaded",R),x.addEventListener("load",R));var P=function(e,t,r,n,i,A,o){var a=0,s=e.length,l=null==r;if("object"===B(r))for(a in i=!0,r)P(e,t,a,r[a],!0,A,o);else if(void 0!==n&&(i=!0,_(n)||(o=!0),l&&(t=o?(t.call(e,n),null):(l=t,function(e,t,r){return l.call(C(e),r)})),t))for(;a<s;a++)t(e[a],r,o?n:n.call(e[a],a,t(e[a],r)));return i?e:l?t.call(e):s?t(e[0],r):A},z=/^-ms-/,X=/-([a-z])/g;function W(e,t){return t.toUpperCase()}function V(e){return e.replace(z,"ms-").replace(X,W)}function G(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType}function Y(){this.expando=C.expando+Y.uid++}Y.uid=1,Y.prototype={cache:function(e){var t=e[this.expando];return t||(t={},G(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,r){var n,i=this.cache(e);if("string"==typeof t)i[V(t)]=r;else for(n in t)i[V(n)]=t[n];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][V(t)]},access:function(e,t,r){return void 0===t||t&&"string"==typeof t&&void 0===r?this.get(e,t):(this.set(e,t,r),void 0!==r?r:t)},remove:function(e,t){var r,n=e[this.expando];if(void 0!==n){if(void 0!==t){r=(t=Array.isArray(t)?t.map(V):(t=V(t))in n?[t]:t.match(I)||[]).length;for(;r--;)delete n[t[r]]}(void 0===t||C.isEmptyObject(n))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var j=new Y,J=new Y,q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,$=/[A-Z]/g;function Z(e,t,r){var n;if(void 0===r&&1===e.nodeType)if(n="data-"+t.replace($,"-$&").toLowerCase(),"string"==typeof(r=e.getAttribute(n))){try{r=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:q.test(e)?JSON.parse(e):e)}(r)}catch(e){}J.set(e,t,r)}else r=void 0;return r}C.extend({hasData:function(e){return J.hasData(e)||j.hasData(e)},data:function(e,t,r){return J.access(e,t,r)},removeData:function(e,t){J.remove(e,t)},_data:function(e,t,r){return j.access(e,t,r)},_removeData:function(e,t){j.remove(e,t)}}),C.fn.extend({data:function(r,e){var t,n,i,A=this[0],o=A&&A.attributes;if(void 0!==r)return"object"==typeof r?this.each(function(){J.set(this,r)}):P(this,function(e){var t;if(A&&void 0===e)return void 0!==(t=J.get(A,r))?t:void 0!==(t=Z(A,r))?t:void 0;this.each(function(){J.set(this,r,e)})},null,e,1<arguments.length,null,!0);if(this.length&&(i=J.get(A),1===A.nodeType&&!j.get(A,"hasDataAttrs"))){for(t=o.length;t--;)o[t]&&0===(n=o[t].name).indexOf("data-")&&(n=V(n.slice(5)),Z(A,n,i[n]));j.set(A,"hasDataAttrs",!0)}return i},removeData:function(e){return this.each(function(){J.remove(this,e)})}}),C.extend({queue:function(e,t,r){var n;if(e)return t=(t||"fx")+"queue",n=j.get(e,t),r&&(!n||Array.isArray(r)?n=j.access(e,t,C.makeArray(r)):n.push(r)),n||[]},dequeue:function(e,t){t=t||"fx";var r=C.queue(e,t),n=r.length,i=r.shift(),A=C._queueHooks(e,t);"inprogress"===i&&(i=r.shift(),n--),i&&("fx"===t&&r.unshift("inprogress"),delete A.stop,i.call(e,function(){C.dequeue(e,t)},A)),!n&&A&&A.empty.fire()},_queueHooks:function(e,t){var r=t+"queueHooks";return j.get(e,r)||j.access(e,r,{empty:C.Callbacks("once memory").add(function(){j.remove(e,[t+"queue",r])})})}}),C.fn.extend({queue:function(t,r){var e=2;return"string"!=typeof t&&(r=t,t="fx",e--),arguments.length<e?C.queue(this[0],t):void 0===r?this:this.each(function(){var e=C.queue(this,t,r);C._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&C.dequeue(this,t)})},dequeue:function(e){return this.each(function(){C.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){function r(){--i||A.resolveWith(o,[o])}var n,i=1,A=C.Deferred(),o=this,a=this.length;for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=j.get(o[a],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(r));return r(),A.promise(t)}});function ee(e,t,r,n){var i,A,o={};for(A in t)o[A]=e.style[A],e.style[A]=t[A];for(A in i=r.apply(e,n||[]),t)e.style[A]=o[A];return i}var te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+te+")([a-z%]*)$","i"),ne=["Top","Right","Bottom","Left"],ie=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&C.contains(e.ownerDocument,e)&&"none"===C.css(e,"display")};function Ae(e,t,r,n){var i,A,o=20,a=n?function(){return n.cur()}:function(){return C.css(e,t,"")},s=a(),l=r&&r[3]||(C.cssNumber[t]?"":"px"),c=(C.cssNumber[t]||"px"!==l&&+s)&&re.exec(C.css(e,t));if(c&&c[3]!==l){for(s/=2,l=l||c[3],c=+s||1;o--;)C.style(e,t,c+l),(1-A)*(1-(A=a()/s||.5))<=0&&(o=0),c/=A;c*=2,C.style(e,t,c+l),r=r||[]}return r&&(c=+c||+s||0,i=r[1]?c+(r[1]+1)*r[2]:+r[2],n&&(n.unit=l,n.start=c,n.end=i)),i}var oe={};function ae(e,t){for(var r,n,i,A,o,a,s,l=[],c=0,u=e.length;c<u;c++)(n=e[c]).style&&(r=n.style.display,t?("none"===r&&(l[c]=j.get(n,"display")||null,l[c]||(n.style.display="")),""===n.style.display&&ie(n)&&(l[c]=(s=o=A=void 0,o=(i=n).ownerDocument,a=i.nodeName,(s=oe[a])||(A=o.body.appendChild(o.createElement(a)),s=C.css(A,"display"),A.parentNode.removeChild(A),"none"===s&&(s="block"),oe[a]=s)))):"none"!==r&&(l[c]="none",j.set(n,"display",r)));for(c=0;c<u;c++)null!=l[c]&&(e[c].style.display=l[c]);return e}C.fn.extend({show:function(){return ae(this,!0)},hide:function(){return ae(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){ie(this)?C(this).show():C(this).hide()})}});var se=/^(?:checkbox|radio)$/i,le=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ce=/^$|^module$|\/(?:java|ecma)script/i,ue={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function de(e,t){var r;return r=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&E(e,t)?C.merge([e],r):r}function fe(e,t){for(var r=0,n=e.length;r<n;r++)j.set(e[r],"globalEval",!t||j.get(t[r],"globalEval"))}ue.optgroup=ue.option,ue.tbody=ue.tfoot=ue.colgroup=ue.caption=ue.thead,ue.th=ue.td;var pe,he,ge=/<|&#?\w+;/;function ve(e,t,r,n,i){for(var A,o,a,s,l,c,u=t.createDocumentFragment(),d=[],f=0,p=e.length;f<p;f++)if((A=e[f])||0===A)if("object"===B(A))C.merge(d,A.nodeType?[A]:A);else if(ge.test(A)){for(o=o||u.appendChild(t.createElement("div")),a=(le.exec(A)||["",""])[1].toLowerCase(),s=ue[a]||ue._default,o.innerHTML=s[1]+C.htmlPrefilter(A)+s[2],c=s[0];c--;)o=o.lastChild;C.merge(d,o.childNodes),(o=u.firstChild).textContent=""}else d.push(t.createTextNode(A));for(u.textContent="",f=0;A=d[f++];)if(n&&-1<C.inArray(A,n))i&&i.push(A);else if(l=C.contains(A.ownerDocument,A),o=de(u.appendChild(A),"script"),l&&fe(o),r)for(c=0;A=o[c++];)ce.test(A.type||"")&&r.push(A);return u}pe=b.createDocumentFragment().appendChild(b.createElement("div")),(he=b.createElement("input")).setAttribute("type","radio"),he.setAttribute("checked","checked"),he.setAttribute("name","t"),pe.appendChild(he),m.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue;var me=b.documentElement,_e=/^key/,we=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Be=/^([^.]*)(?:\.(.+)|)/;function ye(){return!0}function xe(){return!1}function be(){try{return b.activeElement}catch(e){}}function Ce(e,t,r,n,i,A){var o,a;if("object"==typeof t){for(a in"string"!=typeof r&&(n=n||r,r=void 0),t)Ce(e,a,r,n,t[a],A);return e}if(null==n&&null==i?(i=r,n=r=void 0):null==i&&("string"==typeof r?(i=n,n=void 0):(i=n,n=r,r=void 0)),!1===i)i=xe;else if(!i)return e;return 1===A&&(o=i,(i=function(e){return C().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=C.guid++)),e.each(function(){C.event.add(this,t,i,n,r)})}C.event={global:{},add:function(t,e,r,n,i){var A,o,a,s,l,c,u,d,f,p,h,g=j.get(t);if(g)for(r.handler&&(r=(A=r).handler,i=A.selector),i&&C.find.matchesSelector(me,i),r.guid||(r.guid=C.guid++),(s=g.events)||(s=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==C&&C.event.triggered!==e.type?C.event.dispatch.apply(t,arguments):void 0}),l=(e=(e||"").match(I)||[""]).length;l--;)f=h=(a=Be.exec(e[l])||[])[1],p=(a[2]||"").split(".").sort(),f&&(u=C.event.special[f]||{},f=(i?u.delegateType:u.bindType)||f,u=C.event.special[f]||{},c=C.extend({type:f,origType:h,data:n,handler:r,guid:r.guid,selector:i,needsContext:i&&C.expr.match.needsContext.test(i),namespace:p.join(".")},A),(d=s[f])||((d=s[f]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(t,n,p,o)||t.addEventListener&&t.addEventListener(f,o)),u.add&&(u.add.call(t,c),c.handler.guid||(c.handler.guid=r.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),C.event.global[f]=!0)},remove:function(e,t,r,n,i){var A,o,a,s,l,c,u,d,f,p,h,g=j.hasData(e)&&j.get(e);if(g&&(s=g.events)){for(l=(t=(t||"").match(I)||[""]).length;l--;)if(f=h=(a=Be.exec(t[l])||[])[1],p=(a[2]||"").split(".").sort(),f){for(u=C.event.special[f]||{},d=s[f=(n?u.delegateType:u.bindType)||f]||[],a=a[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=A=d.length;A--;)c=d[A],!i&&h!==c.origType||r&&r.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(A,1),c.selector&&d.delegateCount--,u.remove&&u.remove.call(e,c));o&&!d.length&&(u.teardown&&!1!==u.teardown.call(e,p,g.handle)||C.removeEvent(e,f,g.handle),delete s[f])}else for(f in s)C.event.remove(e,f+t[l],r,n,!0);C.isEmptyObject(s)&&j.remove(e,"handle events")}},dispatch:function(e){var t,r,n,i,A,o,a=C.event.fix(e),s=new Array(arguments.length),l=(j.get(this,"events")||{})[a.type]||[],c=C.event.special[a.type]||{};for(s[0]=a,t=1;t<arguments.length;t++)s[t]=arguments[t];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(o=C.event.handlers.call(this,a,l),t=0;(i=o[t++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,r=0;(A=i.handlers[r++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(A.namespace)||(a.handleObj=A,a.data=A.data,void 0!==(n=((C.event.special[A.origType]||{}).handle||A.handler).apply(i.elem,s))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(e,t){var r,n,i,A,o,a=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&!("click"===e.type&&1<=e.button))for(;l!==this;l=l.parentNode||this)if(1===l.nodeType&&("click"!==e.type||!0!==l.disabled)){for(A=[],o={},r=0;r<s;r++)void 0===o[i=(n=t[r]).selector+" "]&&(o[i]=n.needsContext?-1<C(i,this).index(l):C.find(i,this,null,[l]).length),o[i]&&A.push(n);A.length&&a.push({elem:l,handlers:A})}return l=this,s<t.length&&a.push({elem:l,handlers:t.slice(s)}),a},addProp:function(t,e){Object.defineProperty(C.Event.prototype,t,{enumerable:!0,configurable:!0,get:_(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(e){return e[C.expando]?e:new C.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==be()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===be()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&E(this,"input"))return this.click(),!1},_default:function(e){return E(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},C.removeEvent=function(e,t,r){e.removeEventListener&&e.removeEventListener(t,r)},C.Event=function(e,t){if(!(this instanceof C.Event))return new C.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ye:xe,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&C.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:xe,isPropagationStopped:xe,isImmediatePropagationStopped:xe,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ye,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ye,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ye,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&_e.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&we.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},C.event.addProp),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,i){C.event.special[e]={delegateType:i,bindType:i,handle:function(e){var t,r=e.relatedTarget,n=e.handleObj;return r&&(r===this||C.contains(this,r))||(e.type=n.origType,t=n.handler.apply(this,arguments),e.type=i),t}}}),C.fn.extend({on:function(e,t,r,n){return Ce(this,e,t,r,n)},one:function(e,t,r,n){return Ce(this,e,t,r,n,1)},off:function(e,t,r){var n,i;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,C(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return!1!==t&&"function"!=typeof t||(r=t,t=void 0),!1===r&&(r=xe),this.each(function(){C.event.remove(this,e,r,t)});for(i in e)this.off(i,t,e[i]);return this}});var Qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Ee=/<script|<style|<link/i,Ue=/checked\s*(?:[^=]|=\s*.checked.)/i,Fe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Se(e,t){return E(e,"table")&&E(11!==t.nodeType?t:t.firstChild,"tr")&&C(e).children("tbody")[0]||e}function He(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Te(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function ke(e,t){var r,n,i,A,o,a,s,l;if(1===t.nodeType){if(j.hasData(e)&&(A=j.access(e),o=j.set(t,A),l=A.events))for(i in delete o.handle,o.events={},l)for(r=0,n=l[i].length;r<n;r++)C.event.add(t,i,l[i][r]);J.hasData(e)&&(a=J.access(e),s=C.extend({},a),J.set(t,s))}}function Ne(r,n,i,A){n=g.apply([],n);var e,t,o,a,s,l,c=0,u=r.length,d=u-1,f=n[0],p=_(f);if(p||1<u&&"string"==typeof f&&!m.checkClone&&Ue.test(f))return r.each(function(e){var t=r.eq(e);p&&(n[0]=f.call(this,e,t.html())),Ne(t,n,i,A)});if(u&&(t=(e=ve(n,r[0].ownerDocument,!1,r,A)).firstChild,1===e.childNodes.length&&(e=t),t||A)){for(a=(o=C.map(de(e,"script"),He)).length;c<u;c++)s=e,c!==d&&(s=C.clone(s,!0,!0),a&&C.merge(o,de(s,"script"))),i.call(r[c],s,c);if(a)for(l=o[o.length-1].ownerDocument,C.map(o,Te),c=0;c<a;c++)s=o[c],ce.test(s.type||"")&&!j.access(s,"globalEval")&&C.contains(l,s)&&(s.src&&"module"!==(s.type||"").toLowerCase()?C._evalUrl&&C._evalUrl(s.src):w(s.textContent.replace(Fe,""),l,s))}return r}function Ie(e,t,r){for(var n,i=t?C.filter(t,e):e,A=0;null!=(n=i[A]);A++)r||1!==n.nodeType||C.cleanData(de(n)),n.parentNode&&(r&&C.contains(n.ownerDocument,n)&&fe(de(n,"script")),n.parentNode.removeChild(n));return e}C.extend({htmlPrefilter:function(e){return e.replace(Qe,"<$1></$2>")},clone:function(e,t,r){var n,i,A,o,a,s,l,c=e.cloneNode(!0),u=C.contains(e.ownerDocument,e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||C.isXMLDoc(e)))for(o=de(c),n=0,i=(A=de(e)).length;n<i;n++)a=A[n],s=o[n],void 0,"input"===(l=s.nodeName.toLowerCase())&&se.test(a.type)?s.checked=a.checked:"input"!==l&&"textarea"!==l||(s.defaultValue=a.defaultValue);if(t)if(r)for(A=A||de(e),o=o||de(c),n=0,i=A.length;n<i;n++)ke(A[n],o[n]);else ke(e,c);return 0<(o=de(c,"script")).length&&fe(o,!u&&de(e,"script")),c},cleanData:function(e){for(var t,r,n,i=C.event.special,A=0;void 0!==(r=e[A]);A++)if(G(r)){if(t=r[j.expando]){if(t.events)for(n in t.events)i[n]?C.event.remove(r,n):C.removeEvent(r,n,t.handle);r[j.expando]=void 0}r[J.expando]&&(r[J.expando]=void 0)}}}),C.fn.extend({detach:function(e){return Ie(this,e,!0)},remove:function(e){return Ie(this,e)},text:function(e){return P(this,function(e){return void 0===e?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Ne(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Se(this,e).appendChild(e)})},prepend:function(){return Ne(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=Se(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Ne(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(C.cleanData(de(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return C.clone(this,e,t)})},html:function(e){return P(this,function(e){var t=this[0]||{},r=0,n=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Ee.test(e)&&!ue[(le.exec(e)||["",""])[1].toLowerCase()]){e=C.htmlPrefilter(e);try{for(;r<n;r++)1===(t=this[r]||{}).nodeType&&(C.cleanData(de(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var r=[];return Ne(this,arguments,function(e){var t=this.parentNode;C.inArray(this,r)<0&&(C.cleanData(de(this)),t&&t.replaceChild(e,this))},r)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,o){C.fn[e]=function(e){for(var t,r=[],n=C(e),i=n.length-1,A=0;A<=i;A++)t=A===i?this:this.clone(!0),C(n[A])[o](t),s.apply(r,t.get());return this.pushStack(r)}});var Me,Le,De,Oe,Ke,Re,Pe,ze=new RegExp("^("+te+")(?!px)[a-z%]+$","i"),Xe=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=x),t.getComputedStyle(e)},We=new RegExp(ne.join("|"),"i");function Ve(){if(Pe){Re.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Pe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",me.appendChild(Re).appendChild(Pe);var e=x.getComputedStyle(Pe);Me="1%"!==e.top,Ke=12===Ge(e.marginLeft),Pe.style.right="60%",Oe=36===Ge(e.right),Le=36===Ge(e.width),Pe.style.position="absolute",De=36===Pe.offsetWidth||"absolute",me.removeChild(Re),Pe=null}}function Ge(e){return Math.round(parseFloat(e))}function Ye(e,t,r){var n,i,A,o,a=e.style;return(r=r||Xe(e))&&(""!==(o=r.getPropertyValue(t)||r[t])||C.contains(e.ownerDocument,e)||(o=C.style(e,t)),!m.pixelBoxStyles()&&ze.test(o)&&We.test(t)&&(n=a.width,i=a.minWidth,A=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=r.width,a.width=n,a.minWidth=i,a.maxWidth=A)),void 0!==o?o+"":o}function je(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}Re=b.createElement("div"),(Pe=b.createElement("div")).style&&(Pe.style.backgroundClip="content-box",Pe.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===Pe.style.backgroundClip,C.extend(m,{boxSizingReliable:function(){return Ve(),Le},pixelBoxStyles:function(){return Ve(),Oe},pixelPosition:function(){return Ve(),Me},reliableMarginLeft:function(){return Ve(),Ke},scrollboxSize:function(){return Ve(),De}}));var Je=/^(none|table(?!-c[ea]).+)/,qe=/^--/,$e={position:"absolute",visibility:"hidden",display:"block"},Ze={letterSpacing:"0",fontWeight:"400"},et=["Webkit","Moz","ms"],tt=b.createElement("div").style;function rt(e){var t=C.cssProps[e];return t||(t=C.cssProps[e]=function(e){if(e in tt)return e;for(var t=e[0].toUpperCase()+e.slice(1),r=et.length;r--;)if((e=et[r]+t)in tt)return e}(e)||e),t}function nt(e,t,r){var n=re.exec(t);return n?Math.max(0,n[2]-(r||0))+(n[3]||"px"):t}function it(e,t,r,n,i,A){var o="width"===t?1:0,a=0,s=0;if(r===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===r&&(s+=C.css(e,r+ne[o],!0,i)),n?("content"===r&&(s-=C.css(e,"padding"+ne[o],!0,i)),"margin"!==r&&(s-=C.css(e,"border"+ne[o]+"Width",!0,i))):(s+=C.css(e,"padding"+ne[o],!0,i),"padding"!==r?s+=C.css(e,"border"+ne[o]+"Width",!0,i):a+=C.css(e,"border"+ne[o]+"Width",!0,i));return!n&&0<=A&&(s+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-A-s-a-.5))),s}function At(e,t,r){var n=Xe(e),i=Ye(e,t,n),A="border-box"===C.css(e,"boxSizing",!1,n),o=A;if(ze.test(i)){if(!r)return i;i="auto"}return o=o&&(m.boxSizingReliable()||i===e.style[t]),("auto"===i||!parseFloat(i)&&"inline"===C.css(e,"display",!1,n))&&(i=e["offset"+t[0].toUpperCase()+t.slice(1)],o=!0),(i=parseFloat(i)||0)+it(e,t,r||(A?"border":"content"),o,n,i)+"px"}function ot(e,t,r,n,i){return new ot.prototype.init(e,t,r,n,i)}C.extend({cssHooks:{opacity:{get:function(e,t){if(t){var r=Ye(e,"opacity");return""===r?"1":r}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,r,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,A,o,a=V(t),s=qe.test(t),l=e.style;if(s||(t=rt(a)),o=C.cssHooks[t]||C.cssHooks[a],void 0===r)return o&&"get"in o&&void 0!==(i=o.get(e,!1,n))?i:l[t];"string"===(A=typeof r)&&(i=re.exec(r))&&i[1]&&(r=Ae(e,t,i),A="number"),null!=r&&r==r&&("number"===A&&(r+=i&&i[3]||(C.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==r||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(r=o.set(e,r,n))||(s?l.setProperty(t,r):l[t]=r))}},css:function(e,t,r,n){var i,A,o,a=V(t);return qe.test(t)||(t=rt(a)),(o=C.cssHooks[t]||C.cssHooks[a])&&"get"in o&&(i=o.get(e,!0,r)),void 0===i&&(i=Ye(e,t,n)),"normal"===i&&t in Ze&&(i=Ze[t]),""===r||r?(A=parseFloat(i),!0===r||isFinite(A)?A||0:i):i}}),C.each(["height","width"],function(e,a){C.cssHooks[a]={get:function(e,t,r){if(t)return!Je.test(C.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?At(e,a,r):ee(e,$e,function(){return At(e,a,r)})},set:function(e,t,r){var n,i=Xe(e),A="border-box"===C.css(e,"boxSizing",!1,i),o=r&&it(e,a,r,A,i);return A&&m.scrollboxSize()===i.position&&(o-=Math.ceil(e["offset"+a[0].toUpperCase()+a.slice(1)]-parseFloat(i[a])-it(e,a,"border",!1,i)-.5)),o&&(n=re.exec(t))&&"px"!==(n[3]||"px")&&(e.style[a]=t,t=C.css(e,a)),nt(0,t,o)}}}),C.cssHooks.marginLeft=je(m.reliableMarginLeft,function(e,t){if(t)return(parseFloat(Ye(e,"marginLeft"))||e.getBoundingClientRect().left-ee(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(i,A){C.cssHooks[i+A]={expand:function(e){for(var t=0,r={},n="string"==typeof e?e.split(" "):[e];t<4;t++)r[i+ne[t]+A]=n[t]||n[t-2]||n[0];return r}},"margin"!==i&&(C.cssHooks[i+A].set=nt)}),C.fn.extend({css:function(e,t){return P(this,function(e,t,r){var n,i,A={},o=0;if(Array.isArray(t)){for(n=Xe(e),i=t.length;o<i;o++)A[t[o]]=C.css(e,t[o],!1,n);return A}return void 0!==r?C.style(e,t,r):C.css(e,t)},e,t,1<arguments.length)}}),((C.Tween=ot).prototype={constructor:ot,init:function(e,t,r,n,i,A){this.elem=e,this.prop=r,this.easing=i||C.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=A||(C.cssNumber[r]?"":"px")},cur:function(){var e=ot.propHooks[this.prop];return e&&e.get?e.get(this):ot.propHooks._default.get(this)},run:function(e){var t,r=ot.propHooks[this.prop];return this.options.duration?this.pos=t=C.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),r&&r.set?r.set(this):ot.propHooks._default.set(this),this}}).init.prototype=ot.prototype,(ot.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=C.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){C.fx.step[e.prop]?C.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[C.cssProps[e.prop]]&&!C.cssHooks[e.prop]?e.elem[e.prop]=e.now:C.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=ot.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},C.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},C.fx=ot.prototype.init,C.fx.step={};var at,st,lt,ct,ut=/^(?:toggle|show|hide)$/,dt=/queueHooks$/;function ft(){st&&(!1===b.hidden&&x.requestAnimationFrame?x.requestAnimationFrame(ft):x.setTimeout(ft,C.fx.interval),C.fx.tick())}function pt(){return x.setTimeout(function(){at=void 0}),at=Date.now()}function ht(e,t){var r,n=0,i={height:e};for(t=t?1:0;n<4;n+=2-t)i["margin"+(r=ne[n])]=i["padding"+r]=e;return t&&(i.opacity=i.width=e),i}function gt(e,t,r){for(var n,i=(vt.tweeners[t]||[]).concat(vt.tweeners["*"]),A=0,o=i.length;A<o;A++)if(n=i[A].call(r,t,e))return n}function vt(A,e,t){var r,o,n=0,i=vt.prefilters.length,a=C.Deferred().always(function(){delete s.elem}),s=function(){if(o)return!1;for(var e=at||pt(),t=Math.max(0,l.startTime+l.duration-e),r=1-(t/l.duration||0),n=0,i=l.tweens.length;n<i;n++)l.tweens[n].run(r);return a.notifyWith(A,[l,r,t]),r<1&&i?t:(i||a.notifyWith(A,[l,1,0]),a.resolveWith(A,[l]),!1)},l=a.promise({elem:A,props:C.extend({},e),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},t),originalProperties:e,originalOptions:t,startTime:at||pt(),duration:t.duration,tweens:[],createTween:function(e,t){var r=C.Tween(A,l.opts,e,t,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(r),r},stop:function(e){var t=0,r=e?l.tweens.length:0;if(o)return this;for(o=!0;t<r;t++)l.tweens[t].run(1);return e?(a.notifyWith(A,[l,1,0]),a.resolveWith(A,[l,e])):a.rejectWith(A,[l,e]),this}}),c=l.props;for(!function(e,t){var r,n,i,A,o;for(r in e)if(i=t[n=V(r)],A=e[r],Array.isArray(A)&&(i=A[1],A=e[r]=A[0]),r!==n&&(e[n]=A,delete e[r]),(o=C.cssHooks[n])&&"expand"in o)for(r in A=o.expand(A),delete e[n],A)r in e||(e[r]=A[r],t[r]=i);else t[n]=i}(c,l.opts.specialEasing);n<i;n++)if(r=vt.prefilters[n].call(l,A,c,l.opts))return _(r.stop)&&(C._queueHooks(l.elem,l.opts.queue).stop=r.stop.bind(r)),r;return C.map(c,gt,l),_(l.opts.start)&&l.opts.start.call(A,l),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always),C.fx.timer(C.extend(s,{elem:A,anim:l,queue:l.opts.queue})),l}C.Animation=C.extend(vt,{tweeners:{"*":[function(e,t){var r=this.createTween(e,t);return Ae(r.elem,e,re.exec(t),r),r}]},tweener:function(e,t){for(var r,n=0,i=(e=_(e)?(t=e,["*"]):e.match(I)).length;n<i;n++)r=e[n],vt.tweeners[r]=vt.tweeners[r]||[],vt.tweeners[r].unshift(t)},prefilters:[function(e,t,r){var n,i,A,o,a,s,l,c,u="width"in t||"height"in t,d=this,f={},p=e.style,h=e.nodeType&&ie(e),g=j.get(e,"fxshow");for(n in r.queue||(null==(o=C._queueHooks(e,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,C.queue(e,"fx").length||o.empty.fire()})})),t)if(i=t[n],ut.test(i)){if(delete t[n],A=A||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[n])continue;h=!0}f[n]=g&&g[n]||C.style(e,n)}if((s=!C.isEmptyObject(t))||!C.isEmptyObject(f))for(n in u&&1===e.nodeType&&(r.overflow=[p.overflow,p.overflowX,p.overflowY],null==(l=g&&g.display)&&(l=j.get(e,"display")),"none"===(c=C.css(e,"display"))&&(l?c=l:(ae([e],!0),l=e.style.display||l,c=C.css(e,"display"),ae([e]))),("inline"===c||"inline-block"===c&&null!=l)&&"none"===C.css(e,"float")&&(s||(d.done(function(){p.display=l}),null==l&&(c=p.display,l="none"===c?"":c)),p.display="inline-block")),r.overflow&&(p.overflow="hidden",d.always(function(){p.overflow=r.overflow[0],p.overflowX=r.overflow[1],p.overflowY=r.overflow[2]})),s=!1,f)s||(g?"hidden"in g&&(h=g.hidden):g=j.access(e,"fxshow",{display:l}),A&&(g.hidden=!h),h&&ae([e],!0),d.done(function(){for(n in h||ae([e]),j.remove(e,"fxshow"),f)C.style(e,n,f[n])})),s=gt(h?g[n]:0,n,d),n in g||(g[n]=s.start,h&&(s.end=s.start,s.start=0))}],prefilter:function(e,t){t?vt.prefilters.unshift(e):vt.prefilters.push(e)}}),C.speed=function(e,t,r){var n=e&&"object"==typeof e?C.extend({},e):{complete:r||!r&&t||_(e)&&e,duration:e,easing:r&&t||t&&!_(t)&&t};return C.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in C.fx.speeds?n.duration=C.fx.speeds[n.duration]:n.duration=C.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){_(n.old)&&n.old.call(this),n.queue&&C.dequeue(this,n.queue)},n},C.fn.extend({fadeTo:function(e,t,r,n){return this.filter(ie).css("opacity",0).show().end().animate({opacity:t},e,r,n)},animate:function(t,e,r,n){function i(){var e=vt(this,C.extend({},t),o);(A||j.get(this,"finish"))&&e.stop(!0)}var A=C.isEmptyObject(t),o=C.speed(e,r,n);return i.finish=i,A||!1===o.queue?this.each(i):this.queue(o.queue,i)},stop:function(i,e,A){function o(e){var t=e.stop;delete e.stop,t(A)}return"string"!=typeof i&&(A=e,e=i,i=void 0),e&&!1!==i&&this.queue(i||"fx",[]),this.each(function(){var e=!0,t=null!=i&&i+"queueHooks",r=C.timers,n=j.get(this);if(t)n[t]&&n[t].stop&&o(n[t]);else for(t in n)n[t]&&n[t].stop&&dt.test(t)&&o(n[t]);for(t=r.length;t--;)r[t].elem!==this||null!=i&&r[t].queue!==i||(r[t].anim.stop(A),e=!1,r.splice(t,1));!e&&A||C.dequeue(this,i)})},finish:function(o){return!1!==o&&(o=o||"fx"),this.each(function(){var e,t=j.get(this),r=t[o+"queue"],n=t[o+"queueHooks"],i=C.timers,A=r?r.length:0;for(t.finish=!0,C.queue(this,o,[]),n&&n.stop&&n.stop.call(this,!0),e=i.length;e--;)i[e].elem===this&&i[e].queue===o&&(i[e].anim.stop(!0),i.splice(e,1));for(e=0;e<A;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete t.finish})}}),C.each(["toggle","show","hide"],function(e,n){var i=C.fn[n];C.fn[n]=function(e,t,r){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(ht(n,!0),e,t,r)}}),C.each({slideDown:ht("show"),slideUp:ht("hide"),slideToggle:ht("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){C.fn[e]=function(e,t,r){return this.animate(n,e,t,r)}}),C.timers=[],C.fx.tick=function(){var e,t=0,r=C.timers;for(at=Date.now();t<r.length;t++)(e=r[t])()||r[t]!==e||r.splice(t--,1);r.length||C.fx.stop(),at=void 0},C.fx.timer=function(e){C.timers.push(e),C.fx.start()},C.fx.interval=13,C.fx.start=function(){st||(st=!0,ft())},C.fx.stop=function(){st=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(n,e){return n=C.fx&&C.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var r=x.setTimeout(e,n);t.stop=function(){x.clearTimeout(r)}})},lt=b.createElement("input"),ct=b.createElement("select").appendChild(b.createElement("option")),lt.type="checkbox",m.checkOn=""!==lt.value,m.optSelected=ct.selected,(lt=b.createElement("input")).value="t",lt.type="radio",m.radioValue="t"===lt.value;var mt,_t=C.expr.attrHandle;C.fn.extend({attr:function(e,t){return P(this,C.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){C.removeAttr(this,e)})}}),C.extend({attr:function(e,t,r){var n,i,A=e.nodeType;if(3!==A&&8!==A&&2!==A)return void 0===e.getAttribute?C.prop(e,t,r):(1===A&&C.isXMLDoc(e)||(i=C.attrHooks[t.toLowerCase()]||(C.expr.match.bool.test(t)?mt:void 0)),void 0!==r?null===r?void C.removeAttr(e,t):i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:(e.setAttribute(t,r+""),r):i&&"get"in i&&null!==(n=i.get(e,t))?n:null==(n=C.find.attr(e,t))?void 0:n)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&E(e,"input")){var r=e.value;return e.setAttribute("type",t),r&&(e.value=r),t}}}},removeAttr:function(e,t){var r,n=0,i=t&&t.match(I);if(i&&1===e.nodeType)for(;r=i[n++];)e.removeAttribute(r)}}),mt={set:function(e,t,r){return!1===t?C.removeAttr(e,r):e.setAttribute(r,r),r}},C.each(C.expr.match.bool.source.match(/\w+/g),function(e,t){var o=_t[t]||C.find.attr;_t[t]=function(e,t,r){var n,i,A=t.toLowerCase();return r||(i=_t[A],_t[A]=n,n=null!=o(e,t,r)?A:null,_t[A]=i),n}});var wt=/^(?:input|select|textarea|button)$/i,Bt=/^(?:a|area)$/i;function yt(e){return(e.match(I)||[]).join(" ")}function xt(e){return e.getAttribute&&e.getAttribute("class")||""}function bt(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(I)||[]}C.fn.extend({prop:function(e,t){return P(this,C.prop,e,t,1<arguments.length)},removeProp:function(e){return this.each(function(){delete this[C.propFix[e]||e]})}}),C.extend({prop:function(e,t,r){var n,i,A=e.nodeType;if(3!==A&&8!==A&&2!==A)return 1===A&&C.isXMLDoc(e)||(t=C.propFix[t]||t,i=C.propHooks[t]),void 0!==r?i&&"set"in i&&void 0!==(n=i.set(e,r,t))?n:e[t]=r:i&&"get"in i&&null!==(n=i.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=C.find.attr(e,"tabindex");return t?parseInt(t,10):wt.test(e.nodeName)||Bt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(C.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(t){var e,r,n,i,A,o,a,s=0;if(_(t))return this.each(function(e){C(this).addClass(t.call(this,e,xt(this)))});if((e=bt(t)).length)for(;r=this[s++];)if(i=xt(r),n=1===r.nodeType&&" "+yt(i)+" "){for(o=0;A=e[o++];)n.indexOf(" "+A+" ")<0&&(n+=A+" ");i!==(a=yt(n))&&r.setAttribute("class",a)}return this},removeClass:function(t){var e,r,n,i,A,o,a,s=0;if(_(t))return this.each(function(e){C(this).removeClass(t.call(this,e,xt(this)))});if(!arguments.length)return this.attr("class","");if((e=bt(t)).length)for(;r=this[s++];)if(i=xt(r),n=1===r.nodeType&&" "+yt(i)+" "){for(o=0;A=e[o++];)for(;-1<n.indexOf(" "+A+" ");)n=n.replace(" "+A+" "," ");i!==(a=yt(n))&&r.setAttribute("class",a)}return this},toggleClass:function(i,t){var A=typeof i,o="string"==A||Array.isArray(i);return"boolean"==typeof t&&o?t?this.addClass(i):this.removeClass(i):_(i)?this.each(function(e){C(this).toggleClass(i.call(this,e,xt(this),t),t)}):this.each(function(){var e,t,r,n;if(o)for(t=0,r=C(this),n=bt(i);e=n[t++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==i&&"boolean"!=A||((e=xt(this))&&j.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===i?"":j.get(this,"__className__")||""))})},hasClass:function(e){var t,r,n=0;for(t=" "+e+" ";r=this[n++];)if(1===r.nodeType&&-1<(" "+yt(xt(r))+" ").indexOf(t))return!0;return!1}});var Ct=/\r/g;C.fn.extend({val:function(r){var n,e,i,t=this[0];return arguments.length?(i=_(r),this.each(function(e){var t;1===this.nodeType&&(null==(t=i?r.call(this,e,C(this).val()):r)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=C.map(t,function(e){return null==e?"":e+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):t?(n=C.valHooks[t.type]||C.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&void 0!==(e=n.get(t,"value"))?e:"string"==typeof(e=t.value)?e.replace(Ct,""):null==e?"":e:void 0}}),C.extend({valHooks:{option:{get:function(e){var t=C.find.attr(e,"value");return null!=t?t:yt(C.text(e))}},select:{get:function(e){var t,r,n,i=e.options,A=e.selectedIndex,o="select-one"===e.type,a=o?null:[],s=o?A+1:i.length;for(n=A<0?s:o?A:0;n<s;n++)if(((r=i[n]).selected||n===A)&&!r.disabled&&(!r.parentNode.disabled||!E(r.parentNode,"optgroup"))){if(t=C(r).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var r,n,i=e.options,A=C.makeArray(t),o=i.length;o--;)((n=i[o]).selected=-1<C.inArray(C.valHooks.option.get(n),A))&&(r=!0);return r||(e.selectedIndex=-1),A}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=-1<C.inArray(C(e).val(),t)}},m.checkOn||(C.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),m.focusin="onfocusin"in x;function Qt(e){e.stopPropagation()}var Et=/^(?:focusinfocus|focusoutblur)$/;C.extend(C.event,{trigger:function(e,t,r,n){var i,A,o,a,s,l,c,u,d=[r||b],f=v.call(e,"type")?e.type:e,p=v.call(e,"namespace")?e.namespace.split("."):[];if(A=u=o=r=r||b,3!==r.nodeType&&8!==r.nodeType&&!Et.test(f+C.event.triggered)&&(-1<f.indexOf(".")&&(f=(p=f.split(".")).shift(),p.sort()),s=f.indexOf(":")<0&&"on"+f,(e=e[C.expando]?e:new C.Event(f,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:C.makeArray(t,[e]),c=C.event.special[f]||{},n||!c.trigger||!1!==c.trigger.apply(r,t))){if(!n&&!c.noBubble&&!h(r)){for(a=c.delegateType||f,Et.test(a+f)||(A=A.parentNode);A;A=A.parentNode)d.push(A),o=A;o===(r.ownerDocument||b)&&d.push(o.defaultView||o.parentWindow||x)}for(i=0;(A=d[i++])&&!e.isPropagationStopped();)u=A,e.type=1<i?a:c.bindType||f,(l=(j.get(A,"events")||{})[e.type]&&j.get(A,"handle"))&&l.apply(A,t),(l=s&&A[s])&&l.apply&&G(A)&&(e.result=l.apply(A,t),!1===e.result&&e.preventDefault());return e.type=f,n||e.isDefaultPrevented()||c._default&&!1!==c._default.apply(d.pop(),t)||!G(r)||s&&_(r[f])&&!h(r)&&((o=r[s])&&(r[s]=null),C.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,Qt),r[f](),e.isPropagationStopped()&&u.removeEventListener(f,Qt),C.event.triggered=void 0,o&&(r[s]=o)),e.result}},simulate:function(e,t,r){var n=C.extend(new C.Event,r,{type:e,isSimulated:!0});C.event.trigger(n,null,t)}}),C.fn.extend({trigger:function(e,t){return this.each(function(){C.event.trigger(e,t,this)})},triggerHandler:function(e,t){var r=this[0];if(r)return C.event.trigger(e,t,r,!0)}}),m.focusin||C.each({focus:"focusin",blur:"focusout"},function(r,n){function i(e){C.event.simulate(n,e.target,C.event.fix(e))}C.event.special[n]={setup:function(){var e=this.ownerDocument||this,t=j.access(e,n);t||e.addEventListener(r,i,!0),j.access(e,n,(t||0)+1)},teardown:function(){var e=this.ownerDocument||this,t=j.access(e,n)-1;t?j.access(e,n,t):(e.removeEventListener(r,i,!0),j.remove(e,n))}}});var Ut=x.location,Ft=Date.now(),St=/\?/;C.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new x.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||C.error("Invalid XML: "+e),t};var Ht=/\[\]$/,Tt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Nt=/^(?:input|select|textarea|keygen)/i;function It(r,e,n,i){var t;if(Array.isArray(e))C.each(e,function(e,t){n||Ht.test(r)?i(r,t):It(r+"["+("object"==typeof t&&null!=t?e:"")+"]",t,n,i)});else if(n||"object"!==B(e))i(r,e);else for(t in e)It(r+"["+t+"]",e[t],n,i)}C.param=function(e,t){function r(e,t){var r=_(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==r?"":r)}var n,i=[];if(Array.isArray(e)||e.jquery&&!C.isPlainObject(e))C.each(e,function(){r(this.name,this.value)});else for(n in e)It(n,e[n],t,r);return i.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=C.prop(this,"elements");return e?C.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!C(this).is(":disabled")&&Nt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!se.test(e))}).map(function(e,t){var r=C(this).val();return null==r?null:Array.isArray(r)?C.map(r,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:r.replace(Tt,"\r\n")}}).get()}});var Mt=/%20/g,Lt=/#.*$/,Dt=/([?&])_=[^&]*/,Ot=/^(.*?):[ \t]*([^\r\n]*)$/gm,Kt=/^(?:GET|HEAD)$/,Rt=/^\/\//,Pt={},zt={},Xt="*/".concat("*"),Wt=b.createElement("a");function Vt(A){return function(e,t){"string"!=typeof e&&(t=e,e="*");var r,n=0,i=e.toLowerCase().match(I)||[];if(_(t))for(;r=i[n++];)"+"===r[0]?(r=r.slice(1)||"*",(A[r]=A[r]||[]).unshift(t)):(A[r]=A[r]||[]).push(t)}}function Gt(t,i,A,o){var a={},s=t===zt;function l(e){var n;return a[e]=!0,C.each(t[e]||[],function(e,t){var r=t(i,A,o);return"string"!=typeof r||s||a[r]?s?!(n=r):void 0:(i.dataTypes.unshift(r),l(r),!1)}),n}return l(i.dataTypes[0])||!a["*"]&&l("*")}function Yt(e,t){var r,n,i=C.ajaxSettings.flatOptions||{};for(r in t)void 0!==t[r]&&((i[r]?e:n||(n={}))[r]=t[r]);return n&&C.extend(!0,e,n),e}Wt.href=Ut.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ut.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ut.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Xt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Yt(Yt(e,C.ajaxSettings),t):Yt(C.ajaxSettings,e)},ajaxPrefilter:Vt(Pt),ajaxTransport:Vt(zt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var c,u,d,r,f,n,p,h,i,A,g=C.ajaxSetup({},t),v=g.context||g,m=g.context&&(v.nodeType||v.jquery)?C(v):C.event,_=C.Deferred(),w=C.Callbacks("once memory"),B=g.statusCode||{},o={},a={},s="canceled",y={readyState:0,getResponseHeader:function(e){var t;if(p){if(!r)for(r={};t=Ot.exec(d);)r[t[1].toLowerCase()]=t[2];t=r[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return p?d:null},setRequestHeader:function(e,t){return null==p&&(e=a[e.toLowerCase()]=a[e.toLowerCase()]||e,o[e]=t),this},overrideMimeType:function(e){return null==p&&(g.mimeType=e),this},statusCode:function(e){var t;if(e)if(p)y.always(e[y.status]);else for(t in e)B[t]=[B[t],e[t]];return this},abort:function(e){var t=e||s;return c&&c.abort(t),l(0,t),this}};if(_.promise(y),g.url=((e||g.url||Ut.href)+"").replace(Rt,Ut.protocol+"//"),g.type=t.method||t.type||g.method||g.type,g.dataTypes=(g.dataType||"*").toLowerCase().match(I)||[""],null==g.crossDomain){n=b.createElement("a");try{n.href=g.url,n.href=n.href,g.crossDomain=Wt.protocol+"//"+Wt.host!=n.protocol+"//"+n.host}catch(e){g.crossDomain=!0}}if(g.data&&g.processData&&"string"!=typeof g.data&&(g.data=C.param(g.data,g.traditional)),Gt(Pt,g,t,y),p)return y;for(i in(h=C.event&&g.global)&&0==C.active++&&C.event.trigger("ajaxStart"),g.type=g.type.toUpperCase(),g.hasContent=!Kt.test(g.type),u=g.url.replace(Lt,""),g.hasContent?g.data&&g.processData&&0===(g.contentType||"").indexOf("application/x-www-form-urlencoded")&&(g.data=g.data.replace(Mt,"+")):(A=g.url.slice(u.length),g.data&&(g.processData||"string"==typeof g.data)&&(u+=(St.test(u)?"&":"?")+g.data,delete g.data),!1===g.cache&&(u=u.replace(Dt,"$1"),A=(St.test(u)?"&":"?")+"_="+Ft+++A),g.url=u+A),g.ifModified&&(C.lastModified[u]&&y.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u]&&y.setRequestHeader("If-None-Match",C.etag[u])),(g.data&&g.hasContent&&!1!==g.contentType||t.contentType)&&y.setRequestHeader("Content-Type",g.contentType),y.setRequestHeader("Accept",g.dataTypes[0]&&g.accepts[g.dataTypes[0]]?g.accepts[g.dataTypes[0]]+("*"!==g.dataTypes[0]?", "+Xt+"; q=0.01":""):g.accepts["*"]),g.headers)y.setRequestHeader(i,g.headers[i]);if(g.beforeSend&&(!1===g.beforeSend.call(v,y,g)||p))return y.abort();if(s="abort",w.add(g.complete),y.done(g.success),y.fail(g.error),c=Gt(zt,g,t,y)){if(y.readyState=1,h&&m.trigger("ajaxSend",[y,g]),p)return y;g.async&&0<g.timeout&&(f=x.setTimeout(function(){y.abort("timeout")},g.timeout));try{p=!1,c.send(o,l)}catch(e){if(p)throw e;l(-1,e)}}else l(-1,"No Transport");function l(e,t,r,n){var i,A,o,a,s,l=t;p||(p=!0,f&&x.clearTimeout(f),c=void 0,d=n||"",y.readyState=0<e?4:0,i=200<=e&&e<300||304===e,r&&(a=function(e,t,r){for(var n,i,A,o,a=e.contents,s=e.dataTypes;"*"===s[0];)s.shift(),void 0===n&&(n=e.mimeType||t.getResponseHeader("Content-Type"));if(n)for(i in a)if(a[i]&&a[i].test(n)){s.unshift(i);break}if(s[0]in r)A=s[0];else{for(i in r){if(!s[0]||e.converters[i+" "+s[0]]){A=i;break}o||(o=i)}A=A||o}if(A)return A!==s[0]&&s.unshift(A),r[A]}(g,y,r)),a=function(e,t,r,n){var i,A,o,a,s,l={},c=e.dataTypes.slice();if(c[1])for(o in e.converters)l[o.toLowerCase()]=e.converters[o];for(A=c.shift();A;)if(e.responseFields[A]&&(r[e.responseFields[A]]=t),!s&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),s=A,A=c.shift())if("*"===A)A=s;else if("*"!==s&&s!==A){if(!(o=l[s+" "+A]||l["* "+A]))for(i in l)if((a=i.split(" "))[1]===A&&(o=l[s+" "+a[0]]||l["* "+a[0]])){!0===o?o=l[i]:!0!==l[i]&&(A=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+s+" to "+A}}}return{state:"success",data:t}}(g,a,y,i),i?(g.ifModified&&((s=y.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=s),(s=y.getResponseHeader("etag"))&&(C.etag[u]=s)),204===e||"HEAD"===g.type?l="nocontent":304===e?l="notmodified":(l=a.state,A=a.data,i=!(o=a.error))):(o=l,!e&&l||(l="error",e<0&&(e=0))),y.status=e,y.statusText=(t||l)+"",i?_.resolveWith(v,[A,l,y]):_.rejectWith(v,[y,l,o]),y.statusCode(B),B=void 0,h&&m.trigger(i?"ajaxSuccess":"ajaxError",[y,g,i?A:o]),w.fireWith(v,[y,l]),h&&(m.trigger("ajaxComplete",[y,g]),--C.active||C.event.trigger("ajaxStop")))}return y},getJSON:function(e,t,r){return C.get(e,t,r,"json")},getScript:function(e,t){return C.get(e,void 0,t,"script")}}),C.each(["get","post"],function(e,i){C[i]=function(e,t,r,n){return _(t)&&(n=n||r,r=t,t=void 0),C.ajax(C.extend({url:e,type:i,dataType:n,data:t,success:r},C.isPlainObject(e)&&e))}}),C._evalUrl=function(e){return C.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},C.fn.extend({wrapAll:function(e){var t;return this[0]&&(_(e)&&(e=e.call(this[0])),t=C(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(r){return _(r)?this.each(function(e){C(this).wrapInner(r.call(this,e))}):this.each(function(){var e=C(this),t=e.contents();t.length?t.wrapAll(r):e.append(r)})},wrap:function(t){var r=_(t);return this.each(function(e){C(this).wrapAll(r?t.call(this,e):t)})},unwrap:function(e){return this.parent(e).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(e){return!C.expr.pseudos.visible(e)},C.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(e){}};var jt={0:200,1223:204},Jt=C.ajaxSettings.xhr();m.cors=!!Jt&&"withCredentials"in Jt,m.ajax=Jt=!!Jt,C.ajaxTransport(function(i){var A,o;if(m.cors||Jt&&!i.crossDomain)return{send:function(e,t){var r,n=i.xhr();if(n.open(i.type,i.url,i.async,i.username,i.password),i.xhrFields)for(r in i.xhrFields)n[r]=i.xhrFields[r];for(r in i.mimeType&&n.overrideMimeType&&n.overrideMimeType(i.mimeType),i.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest"),e)n.setRequestHeader(r,e[r]);A=function(e){return function(){A&&(A=o=n.onload=n.onerror=n.onabort=n.ontimeout=n.onreadystatechange=null,"abort"===e?n.abort():"error"===e?"number"!=typeof n.status?t(0,"error"):t(n.status,n.statusText):t(jt[n.status]||n.status,n.statusText,"text"!==(n.responseType||"text")||"string"!=typeof n.responseText?{binary:n.response}:{text:n.responseText},n.getAllResponseHeaders()))}},n.onload=A(),o=n.onerror=n.ontimeout=A("error"),void 0!==n.onabort?n.onabort=o:n.onreadystatechange=function(){4===n.readyState&&x.setTimeout(function(){A&&o()})},A=A("abort");try{n.send(i.hasContent&&i.data||null)}catch(e){if(A)throw e}},abort:function(){A&&A()}}}),C.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return C.globalEval(e),e}}}),C.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),C.ajaxTransport("script",function(r){var n,i;if(r.crossDomain)return{send:function(e,t){n=C("<script>").prop({charset:r.scriptCharset,src:r.url}).on("load error",i=function(e){n.remove(),i=null,e&&t("error"===e.type?404:200,e.type)}),b.head.appendChild(n[0])},abort:function(){i&&i()}}});var qt,$t=[],Zt=/(=)\?(?=&|$)|\?\?/;C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=$t.pop()||C.expando+"_"+Ft++;return this[e]=!0,e}}),C.ajaxPrefilter("json jsonp",function(e,t,r){var n,i,A,o=!1!==e.jsonp&&(Zt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Zt.test(e.data)&&"data");if(o||"jsonp"===e.dataTypes[0])return n=e.jsonpCallback=_(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(Zt,"$1"+n):!1!==e.jsonp&&(e.url+=(St.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return A||C.error(n+" was not called"),A[0]},e.dataTypes[0]="json",i=x[n],x[n]=function(){A=arguments},r.always(function(){void 0===i?C(x).removeProp(n):x[n]=i,e[n]&&(e.jsonpCallback=t.jsonpCallback,$t.push(n)),A&&_(i)&&i(A[0]),A=i=void 0}),"script"}),m.createHTMLDocument=((qt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===qt.childNodes.length),C.parseHTML=function(e,t,r){return"string"!=typeof e?[]:("boolean"==typeof t&&(r=t,t=!1),t||(m.createHTMLDocument?((n=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(n)):t=b),A=!r&&[],(i=U.exec(e))?[t.createElement(i[1])]:(i=ve([e],t,A),A&&A.length&&C(A).remove(),C.merge([],i.childNodes)));var n,i,A},C.fn.load=function(e,t,r){var n,i,A,o=this,a=e.indexOf(" ");return-1<a&&(n=yt(e.slice(a)),e=e.slice(0,a)),_(t)?(r=t,t=void 0):t&&"object"==typeof t&&(i="POST"),0<o.length&&C.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){A=arguments,o.html(n?C("<div>").append(C.parseHTML(e)).find(n):e)}).always(r&&function(e,t){o.each(function(){r.apply(this,A||[e.responseText,t,e])})}),this},C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){C.fn[t]=function(e){return this.on(t,e)}}),C.expr.pseudos.animated=function(t){return C.grep(C.timers,function(e){return t===e.elem}).length},C.offset={setOffset:function(e,t,r){var n,i,A,o,a,s,l=C.css(e,"position"),c=C(e),u={};"static"===l&&(e.style.position="relative"),a=c.offset(),A=C.css(e,"top"),s=C.css(e,"left"),i=("absolute"===l||"fixed"===l)&&-1<(A+s).indexOf("auto")?(o=(n=c.position()).top,n.left):(o=parseFloat(A)||0,parseFloat(s)||0),_(t)&&(t=t.call(e,r,C.extend({},a))),null!=t.top&&(u.top=t.top-a.top+o),null!=t.left&&(u.left=t.left-a.left+i),"using"in t?t.using.call(e,u):c.css(u)}},C.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){C.offset.setOffset(this,t,e)});var e,r,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),r=n.ownerDocument.defaultView,{top:e.top+r.pageYOffset,left:e.left+r.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,r,n=this[0],i={top:0,left:0};if("fixed"===C.css(n,"position"))t=n.getBoundingClientRect();else{for(t=this.offset(),r=n.ownerDocument,e=n.offsetParent||r.documentElement;e&&(e===r.body||e===r.documentElement)&&"static"===C.css(e,"position");)e=e.parentNode;e&&e!==n&&1===e.nodeType&&((i=C(e).offset()).top+=C.css(e,"borderTopWidth",!0),i.left+=C.css(e,"borderLeftWidth",!0))}return{top:t.top-i.top-C.css(n,"marginTop",!0),left:t.left-i.left-C.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===C.css(e,"position");)e=e.offsetParent;return e||me})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var A="pageYOffset"===i;C.fn[t]=function(e){return P(this,function(e,t,r){var n;if(h(e)?n=e:9===e.nodeType&&(n=e.defaultView),void 0===r)return n?n[i]:e[t];n?n.scrollTo(A?n.pageXOffset:r,A?r:n.pageYOffset):e[t]=r},t,e,arguments.length)}}),C.each(["top","left"],function(e,r){C.cssHooks[r]=je(m.pixelPosition,function(e,t){if(t)return t=Ye(e,r),ze.test(t)?C(e).position()[r]+"px":t})}),C.each({Height:"height",Width:"width"},function(o,a){C.each({padding:"inner"+o,content:a,"":"outer"+o},function(n,A){C.fn[A]=function(e,t){var r=arguments.length&&(n||"boolean"!=typeof e),i=n||(!0===e||!0===t?"margin":"border");return P(this,function(e,t,r){var n;return h(e)?0===A.indexOf("outer")?e["inner"+o]:e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):void 0===r?C.css(e,t,i):C.style(e,t,r,i)},a,r?e:void 0,r)}})}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,r){C.fn[r]=function(e,t){return 0<arguments.length?this.on(r,null,e,t):this.trigger(r)}}),C.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),C.fn.extend({bind:function(e,t,r){return this.on(e,null,t,r)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,r,n){return this.on(t,e,r,n)},undelegate:function(e,t,r){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",r)}}),C.proxy=function(e,t){var r,n,i;if("string"==typeof t&&(r=e[t],t=e,e=r),_(e))return n=a.call(arguments,2),(i=function(){return e.apply(t||this,n.concat(a.call(arguments)))}).guid=e.guid=e.guid||C.guid++,i},C.holdReady=function(e){e?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=E,C.isFunction=_,C.isWindow=h,C.camelCase=V,C.type=B,C.now=Date.now,C.isNumeric=function(e){var t=C.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C});var er=x.jQuery,tr=x.$;return C.noConflict=function(e){return x.$===C&&(x.$=tr),e&&x.jQuery===C&&(x.jQuery=er),C},e||(x.jQuery=x.$=C),C}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.html2canvas=t():e.html2canvas=t()}(this,function(){return i={},n.m=r=[function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var s=/^#([a-f0-9]{3})$/i,l=/^#([a-f0-9]{6})$/i,c=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/,u=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/,i=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(d,[{key:"isTransparent",value:function(){return 0===this.a}},{key:"toString",value:function(){return null!==this.a&&1!==this.a?"rgba("+this.r+","+this.g+","+this.b+","+this.a+")":"rgb("+this.r+","+this.g+","+this.b+")"}}]),d);function d(e){!function(e,t){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")}(this);var t=Array.isArray(e)?function(e){return[Math.min(e[0],255),Math.min(e[1],255),Math.min(e[2],255),3<e.length?e[3]:null]}(e):function(e){var t=e.match(s);return!!t&&[parseInt(t[1][0]+t[1][0],16),parseInt(t[1][1]+t[1][1],16),parseInt(t[1][2]+t[1][2],16),null]}(e)||function(e){var t=e.match(c);return!!t&&[Number(t[1]),Number(t[2]),Number(t[3]),null]}(e)||function(e){var t=e.match(u);return!!(t&&4<t.length)&&[Number(t[1]),Number(t[2]),Number(t[3]),Number(t[4])]}(e)||function(e){return f[e.toLowerCase()]||!1}(e)||function(e){var t=e.match(l);return!!t&&[parseInt(t[1].substring(0,2),16),parseInt(t[1].substring(2,4),16),parseInt(t[1].substring(4,6),16),null]}(e)||[0,0,0,null],r=a(t,4),n=r[0],i=r[1],A=r[2],o=r[3];this.r=n,this.g=i,this.b=A,this.a=o}t.default=i;var f={transparent:[0,0,0,0],aliceblue:[240,248,255,null],antiquewhite:[250,235,215,null],aqua:[0,255,255,null],aquamarine:[127,255,212,null],azure:[240,255,255,null],beige:[245,245,220,null],bisque:[255,228,196,null],black:[0,0,0,null],blanchedalmond:[255,235,205,null],blue:[0,0,255,null],blueviolet:[138,43,226,null],brown:[165,42,42,null],burlywood:[222,184,135,null],cadetblue:[95,158,160,null],chartreuse:[127,255,0,null],chocolate:[210,105,30,null],coral:[255,127,80,null],cornflowerblue:[100,149,237,null],cornsilk:[255,248,220,null],crimson:[220,20,60,null],cyan:[0,255,255,null],darkblue:[0,0,139,null],darkcyan:[0,139,139,null],darkgoldenrod:[184,134,11,null],darkgray:[169,169,169,null],darkgreen:[0,100,0,null],darkgrey:[169,169,169,null],darkkhaki:[189,183,107,null],darkmagenta:[139,0,139,null],darkolivegreen:[85,107,47,null],darkorange:[255,140,0,null],darkorchid:[153,50,204,null],darkred:[139,0,0,null],darksalmon:[233,150,122,null],darkseagreen:[143,188,143,null],darkslateblue:[72,61,139,null],darkslategray:[47,79,79,null],darkslategrey:[47,79,79,null],darkturquoise:[0,206,209,null],darkviolet:[148,0,211,null],deeppink:[255,20,147,null],deepskyblue:[0,191,255,null],dimgray:[105,105,105,null],dimgrey:[105,105,105,null],dodgerblue:[30,144,255,null],firebrick:[178,34,34,null],floralwhite:[255,250,240,null],forestgreen:[34,139,34,null],fuchsia:[255,0,255,null],gainsboro:[220,220,220,null],ghostwhite:[248,248,255,null],gold:[255,215,0,null],goldenrod:[218,165,32,null],gray:[128,128,128,null],green:[0,128,0,null],greenyellow:[173,255,47,null],grey:[128,128,128,null],honeydew:[240,255,240,null],hotpink:[255,105,180,null],indianred:[205,92,92,null],indigo:[75,0,130,null],ivory:[255,255,240,null],khaki:[240,230,140,null],lavender:[230,230,250,null],lavenderblush:[255,240,245,null],lawngreen:[124,252,0,null],lemonchiffon:[255,250,205,null],lightblue:[173,216,230,null],lightcoral:[240,128,128,null],lightcyan:[224,255,255,null],lightgoldenrodyellow:[250,250,210,null],lightgray:[211,211,211,null],lightgreen:[144,238,144,null],lightgrey:[211,211,211,null],lightpink:[255,182,193,null],lightsalmon:[255,160,122,null],lightseagreen:[32,178,170,null],lightskyblue:[135,206,250,null],lightslategray:[119,136,153,null],lightslategrey:[119,136,153,null],lightsteelblue:[176,196,222,null],lightyellow:[255,255,224,null],lime:[0,255,0,null],limegreen:[50,205,50,null],linen:[250,240,230,null],magenta:[255,0,255,null],maroon:[128,0,0,null],mediumaquamarine:[102,205,170,null],mediumblue:[0,0,205,null],mediumorchid:[186,85,211,null],mediumpurple:[147,112,219,null],mediumseagreen:[60,179,113,null],mediumslateblue:[123,104,238,null],mediumspringgreen:[0,250,154,null],mediumturquoise:[72,209,204,null],mediumvioletred:[199,21,133,null],midnightblue:[25,25,112,null],mintcream:[245,255,250,null],mistyrose:[255,228,225,null],moccasin:[255,228,181,null],navajowhite:[255,222,173,null],navy:[0,0,128,null],oldlace:[253,245,230,null],olive:[128,128,0,null],olivedrab:[107,142,35,null],orange:[255,165,0,null],orangered:[255,69,0,null],orchid:[218,112,214,null],palegoldenrod:[238,232,170,null],palegreen:[152,251,152,null],paleturquoise:[175,238,238,null],palevioletred:[219,112,147,null],papayawhip:[255,239,213,null],peachpuff:[255,218,185,null],peru:[205,133,63,null],pink:[255,192,203,null],plum:[221,160,221,null],powderblue:[176,224,230,null],purple:[128,0,128,null],rebeccapurple:[102,51,153,null],red:[255,0,0,null],rosybrown:[188,143,143,null],royalblue:[65,105,225,null],saddlebrown:[139,69,19,null],salmon:[250,128,114,null],sandybrown:[244,164,96,null],seagreen:[46,139,87,null],seashell:[255,245,238,null],sienna:[160,82,45,null],silver:[192,192,192,null],skyblue:[135,206,235,null],slateblue:[106,90,205,null],slategray:[112,128,144,null],slategrey:[112,128,144,null],snow:[255,250,250,null],springgreen:[0,255,127,null],steelblue:[70,130,180,null],tan:[210,180,140,null],teal:[0,128,128,null],thistle:[216,191,216,null],tomato:[255,99,71,null],turquoise:[64,224,208,null],violet:[238,130,238,null],wheat:[245,222,179,null],white:[255,255,255,null],whitesmoke:[245,245,245,null],yellow:[255,255,0,null],yellowgreen:[154,205,50,null]};t.TRANSPARENT=new i([0,0,0,0])},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.calculateLengthFromValueWithUnit=t.LENGTH_TYPE=void 0;var n,i=function(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e};function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n=r(3))&&n.__esModule;var o=t.LENGTH_TYPE={PX:0,PERCENTAGE:1},a=(i(s,[{key:"isPercentage",value:function(){return this.type===o.PERCENTAGE}},{key:"getAbsoluteValue",value:function(e){return this.isPercentage()?e*(this.value/100):this.value}}],[{key:"create",value:function(e){return new s(e)}}]),s);function s(e){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.type="%"===e.substr(e.length-1)?o.PERCENTAGE:o.PX;var t=parseFloat(e);this.value=isNaN(t)?0:t}t.default=a,t.calculateLengthFromValueWithUnit=function(e,t,r){switch(r){case"px":case"%":return new a(t+r);case"em":case"rem":var n=new a(t);return n.value*="em"===r?parseFloat(e.style.font.fontSize):function e(t){var r=t.parent;return r?e(r):parseFloat(t.style.font.fontSize)}(e),n;default:return new a("0")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBoundCurves=t.calculatePaddingBoxPath=t.calculateBorderBoxPath=t.parsePathForBorder=t.parseDocumentSize=t.calculateContentBox=t.calculatePaddingBox=t.parseBounds=t.Bounds=void 0;var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},v=A(r(7)),c=A(r(32));function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e){return e&&e.__esModule?e:{default:e}}var a=t.Bounds=(n(s,null,[{key:"fromClientRect",value:function(e,t,r){return new s(e.left+t,e.top+r,e.width,e.height)}}]),s),o=(t.parseBounds=function(e,t,r){return a.fromClientRect(e.getBoundingClientRect(),t,r)},t.calculatePaddingBox=function(e,t){return new a(e.left+t[3].borderWidth,e.top+t[0].borderWidth,e.width-(t[1].borderWidth+t[3].borderWidth),e.height-(t[0].borderWidth+t[2].borderWidth))},t.calculateContentBox=function(e,t,r){var n=t[0].value,i=t[1].value,A=t[2].value,o=t[3].value;return new a(e.left+o+r[3].borderWidth,e.top+n+r[0].borderWidth,e.width-(r[1].borderWidth+r[3].borderWidth+o+i),e.height-(r[0].borderWidth+r[2].borderWidth+n+A))},t.parseDocumentSize=function(e){var t=e.body,r=e.documentElement;if(!t||!r)throw new Error("");var n=Math.max(Math.max(t.scrollWidth,r.scrollWidth),Math.max(t.offsetWidth,r.offsetWidth),Math.max(t.clientWidth,r.clientWidth)),i=Math.max(Math.max(t.scrollHeight,r.scrollHeight),Math.max(t.offsetHeight,r.offsetHeight),Math.max(t.clientHeight,r.clientHeight));return new a(0,0,n,i)},t.parsePathForBorder=function(e,t){switch(t){case 0:return o(e.topLeftOuter,e.topLeftInner,e.topRightOuter,e.topRightInner);case 1:return o(e.topRightOuter,e.topRightInner,e.bottomRightOuter,e.bottomRightInner);case 2:return o(e.bottomRightOuter,e.bottomRightInner,e.bottomLeftOuter,e.bottomLeftInner);case 3:default:return o(e.bottomLeftOuter,e.bottomLeftInner,e.topLeftOuter,e.topLeftInner)}},function(e,t,r,n){var i=[];return e instanceof c.default?i.push(e.subdivide(.5,!1)):i.push(e),r instanceof c.default?i.push(r.subdivide(.5,!0)):i.push(r),n instanceof c.default?i.push(n.subdivide(.5,!0).reverse()):i.push(n),t instanceof c.default?i.push(t.subdivide(.5,!1).reverse()):i.push(t),i}),m=(t.calculateBorderBoxPath=function(e){return[e.topLeftOuter,e.topRightOuter,e.bottomRightOuter,e.bottomLeftOuter]},t.calculatePaddingBoxPath=function(e){return[e.topLeftInner,e.topRightInner,e.bottomRightInner,e.bottomLeftInner]},t.parseBoundCurves=function(e,t,r){var n=r[m.TOP_LEFT][0].getAbsoluteValue(e.width),i=r[m.TOP_LEFT][1].getAbsoluteValue(e.height),A=r[m.TOP_RIGHT][0].getAbsoluteValue(e.width),o=r[m.TOP_RIGHT][1].getAbsoluteValue(e.height),a=r[m.BOTTOM_RIGHT][0].getAbsoluteValue(e.width),s=r[m.BOTTOM_RIGHT][1].getAbsoluteValue(e.height),l=r[m.BOTTOM_LEFT][0].getAbsoluteValue(e.width),c=r[m.BOTTOM_LEFT][1].getAbsoluteValue(e.height),u=[];u.push((n+A)/e.width),u.push((l+a)/e.width),u.push((i+c)/e.height),u.push((o+s)/e.height);var d=Math.max.apply(Math,u);1<d&&(n/=d,i/=d,A/=d,o/=d,a/=d,s/=d,l/=d,c/=d);var f=e.width-A,p=e.height-s,h=e.width-a,g=e.height-c;return{topLeftOuter:0<n||0<i?_(e.left,e.top,n,i,m.TOP_LEFT):new v.default(e.left,e.top),topLeftInner:0<n||0<i?_(e.left+t[3].borderWidth,e.top+t[0].borderWidth,Math.max(0,n-t[3].borderWidth),Math.max(0,i-t[0].borderWidth),m.TOP_LEFT):new v.default(e.left+t[3].borderWidth,e.top+t[0].borderWidth),topRightOuter:0<A||0<o?_(e.left+f,e.top,A,o,m.TOP_RIGHT):new v.default(e.left+e.width,e.top),topRightInner:0<A||0<o?_(e.left+Math.min(f,e.width+t[3].borderWidth),e.top+t[0].borderWidth,f>e.width+t[3].borderWidth?0:A-t[3].borderWidth,o-t[0].borderWidth,m.TOP_RIGHT):new v.default(e.left+e.width-t[1].borderWidth,e.top+t[0].borderWidth),bottomRightOuter:0<a||0<s?_(e.left+h,e.top+p,a,s,m.BOTTOM_RIGHT):new v.default(e.left+e.width,e.top+e.height),bottomRightInner:0<a||0<s?_(e.left+Math.min(h,e.width-t[3].borderWidth),e.top+Math.min(p,e.height+t[0].borderWidth),Math.max(0,a-t[1].borderWidth),s-t[2].borderWidth,m.BOTTOM_RIGHT):new v.default(e.left+e.width-t[1].borderWidth,e.top+e.height-t[2].borderWidth),bottomLeftOuter:0<l||0<c?_(e.left,e.top+g,l,c,m.BOTTOM_LEFT):new v.default(e.left,e.top+e.height),bottomLeftInner:0<l||0<c?_(e.left+t[3].borderWidth,e.top+g,Math.max(0,l-t[3].borderWidth),c-t[2].borderWidth,m.BOTTOM_LEFT):new v.default(e.left+t[3].borderWidth,e.top+e.height-t[2].borderWidth)}},{TOP_LEFT:0,TOP_RIGHT:1,BOTTOM_RIGHT:2,BOTTOM_LEFT:3}),_=function(e,t,r,n,i){var A=(Math.sqrt(2)-1)/3*4,o=r*A,a=n*A,s=e+r,l=t+n;switch(i){case m.TOP_LEFT:return new c.default(new v.default(e,l),new v.default(e,l-a),new v.default(s-o,t),new v.default(s,t));case m.TOP_RIGHT:return new c.default(new v.default(e,t),new v.default(e+o,t),new v.default(s,l-a),new v.default(s,l));case m.BOTTOM_RIGHT:return new c.default(new v.default(s,t),new v.default(s,t+a),new v.default(e+o,l),new v.default(e,l));case m.BOTTOM_LEFT:default:return new c.default(new v.default(s,l),new v.default(s-o,l),new v.default(e,t+a),new v.default(e,t))}};function s(e,t,r,n){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.left=e,this.top=t,this.width=r,this.height=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e},p=(n=r(0))&&n.__esModule?n:{default:n},A=r(4),h=r(5),g=r(12),v=r(33),m=r(34),_=r(35),w=r(36),B=r(37),y=r(38),x=r(8),b=r(39),C=r(40),Q=r(18),E=r(17),U=r(19),F=r(11),S=r(41),H=r(20),T=r(42),k=r(43),N=r(44),I=r(45),M=r(2),L=r(21),D=r(14);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var O=["INPUT","TEXTAREA","SELECT"],a=(i(K,[{key:"getClipPaths",value:function(){var e=this.parent?this.parent.getClipPaths():[];return this.style.overflow!==C.OVERFLOW.VISIBLE?e.concat([(0,M.calculatePaddingBoxPath)(this.curvedBounds)]):e}},{key:"isInFlow",value:function(){return this.isRootElement()&&!this.isFloating()&&!this.isAbsolutelyPositioned()}},{key:"isVisible",value:function(){return!(0,A.contains)(this.style.display,m.DISPLAY.NONE)&&0<this.style.opacity&&this.style.visibility===k.VISIBILITY.VISIBLE}},{key:"isAbsolutelyPositioned",value:function(){return this.style.position!==U.POSITION.STATIC&&this.style.position!==U.POSITION.RELATIVE}},{key:"isPositioned",value:function(){return this.style.position!==U.POSITION.STATIC}},{key:"isFloating",value:function(){return this.style.float!==_.FLOAT.NONE}},{key:"isRootElement",value:function(){return null===this.parent}},{key:"isTransformed",value:function(){return null!==this.style.transform}},{key:"isPositionedWithZIndex",value:function(){return this.isPositioned()&&!this.style.zIndex.auto}},{key:"isInlineLevel",value:function(){return(0,A.contains)(this.style.display,m.DISPLAY.INLINE)||(0,A.contains)(this.style.display,m.DISPLAY.INLINE_BLOCK)||(0,A.contains)(this.style.display,m.DISPLAY.INLINE_FLEX)||(0,A.contains)(this.style.display,m.DISPLAY.INLINE_GRID)||(0,A.contains)(this.style.display,m.DISPLAY.INLINE_LIST_ITEM)||(0,A.contains)(this.style.display,m.DISPLAY.INLINE_TABLE)}},{key:"isInlineBlockOrInlineTable",value:function(){return(0,A.contains)(this.style.display,m.DISPLAY.INLINE_BLOCK)||(0,A.contains)(this.style.display,m.DISPLAY.INLINE_TABLE)}}]),K);function K(e,t,r,n){var i=this;!function(e,t){if(!(e instanceof K))throw new TypeError("Cannot call a class as a function")}(this),this.parent=t,this.tagName=e.tagName,this.index=n,this.childNodes=[],this.listItems=[],"number"==typeof e.start&&(this.listStart=e.start);var A=e.ownerDocument.defaultView,o=A.pageXOffset,a=A.pageYOffset,s=A.getComputedStyle(e,null),l=(0,m.parseDisplay)(s.display),c="radio"===e.type||"checkbox"===e.type,u=(0,U.parsePosition)(s.position);if(this.style={background:c?L.INPUT_BACKGROUND:(0,h.parseBackground)(s,r),border:c?L.INPUT_BORDERS:(0,g.parseBorder)(s),borderRadius:(e instanceof A.HTMLInputElement||e instanceof HTMLInputElement)&&c?(0,L.getInputBorderRadius)(e):(0,v.parseBorderRadius)(s),color:c?L.INPUT_COLOR:new p.default(s.color),display:l,float:(0,_.parseCSSFloat)(s.float),font:(0,w.parseFont)(s),letterSpacing:(0,B.parseLetterSpacing)(s.letterSpacing),listStyle:l===m.DISPLAY.LIST_ITEM?(0,x.parseListStyle)(s):null,lineBreak:(0,y.parseLineBreak)(s.lineBreak),margin:(0,b.parseMargin)(s),opacity:parseFloat(s.opacity),overflow:-1===O.indexOf(e.tagName)?(0,C.parseOverflow)(s.overflow):C.OVERFLOW.HIDDEN,overflowWrap:(0,Q.parseOverflowWrap)(s.overflowWrap?s.overflowWrap:s.wordWrap),padding:(0,E.parsePadding)(s),position:u,textDecoration:(0,F.parseTextDecoration)(s),textShadow:(0,S.parseTextShadow)(s.textShadow),textTransform:(0,H.parseTextTransform)(s.textTransform),transform:(0,T.parseTransform)(s),visibility:(0,k.parseVisibility)(s.visibility),wordBreak:(0,N.parseWordBreak)(s.wordBreak),zIndex:(0,I.parseZIndex)(u!==U.POSITION.STATIC?s.zIndex:"auto")},this.isTransformed()&&(e.style.transform="matrix(1,0,0,1,0,0)"),l===m.DISPLAY.LIST_ITEM){var d=(0,D.getListOwner)(this);if(d){var f=d.listItems.length;d.listItems.push(this),this.listIndex=e.hasAttribute("value")&&"number"==typeof e.value?e.value:0===f?"number"==typeof d.listStart?d.listStart:1:d.listItems[f-1].listIndex+1}}"IMG"===e.tagName&&e.addEventListener("load",function(){i.bounds=(0,M.parseBounds)(e,o,a),i.curvedBounds=(0,M.parseBoundCurves)(i.bounds,i.style.border,i.style.borderRadius)}),this.image=R(e,r),this.bounds=c?(0,L.reformatInputBounds)((0,M.parseBounds)(e,o,a)):(0,M.parseBounds)(e,o,a),this.curvedBounds=(0,M.parseBoundCurves)(this.bounds,this.style.border,this.style.borderRadius)}t.default=a;var R=function(e,t){if(e instanceof e.ownerDocument.defaultView.SVGSVGElement||e instanceof SVGSVGElement){var r=new XMLSerializer;return t.loadImage("data:image/svg+xml,"+encodeURIComponent(r.serializeToString(e)))}switch(e.tagName){case"IMG":var n=e;return t.loadImage(n.currentSrc||n.src);case"CANVAS":var i=e;return t.loadCanvas(i);case"IFRAME":var A=e.getAttribute("data-html2canvas-internal-iframe-key");if(A)return A}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.contains=function(e,t){return 0!=(e&t)},t.distance=function(e,t){return Math.sqrt(e*e+t*t)},t.copyCSSStyles=function(e,t){for(var r=e.length-1;0<=r;r--){var n=e.item(r);"content"!==n&&t.style.setProperty(n,e.getPropertyValue(n))}return t},t.SMALL_IMAGE="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBackgroundImage=t.parseBackground=t.calculateBackgroundRepeatPath=t.calculateBackgroundPosition=t.calculateBackgroungPositioningArea=t.calculateBackgroungPaintingArea=t.calculateGradientBackgroundSize=t.calculateBackgroundSize=t.BACKGROUND_ORIGIN=t.BACKGROUND_CLIP=t.BACKGROUND_SIZE=t.BACKGROUND_REPEAT=void 0;var n=o(r(0)),i=o(r(1)),s=o(r(31)),A=o(r(7)),l=r(2),c=r(17);function o(e){return e&&e.__esModule?e:{default:e}}function a(e){switch(function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),e){case"contain":this.size=d.CONTAIN;break;case"cover":this.size=d.COVER;break;case"auto":this.size=d.AUTO;break;default:this.value=new i.default(e)}}var u=t.BACKGROUND_REPEAT={REPEAT:0,NO_REPEAT:1,REPEAT_X:2,REPEAT_Y:3},d=t.BACKGROUND_SIZE={AUTO:0,CONTAIN:1,COVER:2,LENGTH:3},f=t.BACKGROUND_CLIP={BORDER_BOX:0,PADDING_BOX:1,CONTENT_BOX:2},p=t.BACKGROUND_ORIGIN=f,h=(t.calculateBackgroundSize=function(e,t,r){var n=0,i=0,A=e.size;if(A[0].size!==d.CONTAIN&&A[0].size!==d.COVER)return A[0].value&&(n=A[0].value.getAbsoluteValue(r.width)),A[0].size===d.AUTO&&A[1].size===d.AUTO?i=t.height:A[1].size===d.AUTO?i=n/t.width*t.height:A[1].value&&(i=A[1].value.getAbsoluteValue(r.height)),A[0].size===d.AUTO&&(n=i/t.height*t.width),new s.default(n,i);var o=r.width/r.height,a=t.width/t.height;return o<a!=(A[0].size===d.COVER)?new s.default(r.width,r.width/a):new s.default(r.height*a,r.height)},t.calculateGradientBackgroundSize=function(e,t){var r=e.size,n=r[0].value?r[0].value.getAbsoluteValue(t.width):t.width,i=r[1].value?r[1].value.getAbsoluteValue(t.height):r[0].value?n:t.height;return new s.default(n,i)},new a("auto")),g=(t.calculateBackgroungPaintingArea=function(e,t){switch(t){case f.BORDER_BOX:return(0,l.calculateBorderBoxPath)(e);case f.PADDING_BOX:default:return(0,l.calculatePaddingBoxPath)(e)}},t.calculateBackgroungPositioningArea=function(e,t,r,n){var i=(0,l.calculatePaddingBox)(t,n);switch(e){case p.BORDER_BOX:return t;case p.CONTENT_BOX:var A=r[c.PADDING_SIDES.LEFT].getAbsoluteValue(t.width),o=r[c.PADDING_SIDES.RIGHT].getAbsoluteValue(t.width),a=r[c.PADDING_SIDES.TOP].getAbsoluteValue(t.width),s=r[c.PADDING_SIDES.BOTTOM].getAbsoluteValue(t.width);return new l.Bounds(i.left+A,i.top+a,i.width-A-o,i.height-a-s);case p.PADDING_BOX:default:return i}},t.calculateBackgroundPosition=function(e,t,r){return new A.default(e[0].getAbsoluteValue(r.width-t.width),e[1].getAbsoluteValue(r.height-t.height))},t.calculateBackgroundRepeatPath=function(e,t,r,n,i){switch(e.repeat){case u.REPEAT_X:return[new A.default(Math.round(i.left),Math.round(n.top+t.y)),new A.default(Math.round(i.left+i.width),Math.round(n.top+t.y)),new A.default(Math.round(i.left+i.width),Math.round(r.height+n.top+t.y)),new A.default(Math.round(i.left),Math.round(r.height+n.top+t.y))];case u.REPEAT_Y:return[new A.default(Math.round(n.left+t.x),Math.round(i.top)),new A.default(Math.round(n.left+t.x+r.width),Math.round(i.top)),new A.default(Math.round(n.left+t.x+r.width),Math.round(i.height+i.top)),new A.default(Math.round(n.left+t.x),Math.round(i.height+i.top))];case u.NO_REPEAT:return[new A.default(Math.round(n.left+t.x),Math.round(n.top+t.y)),new A.default(Math.round(n.left+t.x+r.width),Math.round(n.top+t.y)),new A.default(Math.round(n.left+t.x+r.width),Math.round(n.top+t.y+r.height)),new A.default(Math.round(n.left+t.x),Math.round(n.top+t.y+r.height))];default:return[new A.default(Math.round(i.left),Math.round(i.top)),new A.default(Math.round(i.left+i.width),Math.round(i.top)),new A.default(Math.round(i.left+i.width),Math.round(i.height+i.top)),new A.default(Math.round(i.left),Math.round(i.height+i.top))]}},t.parseBackground=function(e,t){return{backgroundColor:new n.default(e.backgroundColor),backgroundImage:m(e,t),backgroundClip:g(e.backgroundClip),backgroundOrigin:v(e.backgroundOrigin)}},function(e){switch(e){case"padding-box":return f.PADDING_BOX;case"content-box":return f.CONTENT_BOX}return f.BORDER_BOX}),v=function(e){switch(e){case"padding-box":return p.PADDING_BOX;case"content-box":return p.CONTENT_BOX}return p.BORDER_BOX},m=function(e,r){var t=B(e.backgroundImage).map(function(e){if("url"===e.method){var t=r.loadImage(e.args[0]);e.args=t?[t]:[]}return e}),i=e.backgroundPosition.split(","),A=e.backgroundRepeat.split(","),o=e.backgroundSize.split(",");return t.map(function(e,t){var r=(o[t]||"auto").trim().split(" ").map(_),n=(i[t]||"auto").trim().split(" ").map(w);return{source:e,repeat:function(e){switch(("string"==typeof A[t]?A[t]:A[0]).trim()){case"no-repeat":return u.NO_REPEAT;case"repeat-x":case"repeat no-repeat":return u.REPEAT_X;case"repeat-y":case"no-repeat repeat":return u.REPEAT_Y;case"repeat":return u.REPEAT}return u.REPEAT}(),size:r.length<2?[r[0],h]:[r[0],r[1]],position:n.length<2?[n[0],n[0]]:[n[0],n[1]]}})},_=function(e){return"auto"===e?h:new a(e)},w=function(e){switch(e){case"bottom":case"right":return new i.default("100%");case"left":case"top":return new i.default("0%");case"auto":return new i.default("0")}return new i.default(e)},B=t.parseBackgroundImage=function(e){function t(){var e="";if(A){'"'===a.substr(0,1)&&(a=a.substr(1,a.length-2)),a&&i.push(a.trim());var t=A.indexOf("-",1)+1;"-"===A.substr(0,1)&&0<t&&(e=A.substr(0,t).toLowerCase(),A=A.substr(t)),"none"!==(A=A.toLowerCase())&&n.push({prefix:e,method:A,args:i})}i=[],A=a=""}var r=/^\s$/,n=[],i=[],A="",o=null,a="",s=0,l=0;return e.split("").forEach(function(e){if(0!==s||!r.test(e)){switch(e){case'"':o?o===e&&(o=null):o=e;break;case"(":if(o)break;if(0===s)return void(s=1);l++;break;case")":if(o)break;if(1===s){if(0===l)return s=0,void t();l--}break;case",":if(o)break;if(0===s)return void t();if(1===s&&0===l&&!A.match(/^url$/i))return i.push(a.trim()),void(a="")}0===s?A+=e:a+=e}}),t(),n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PATH={VECTOR:0,BEZIER_CURVE:1,CIRCLE:2}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6);t.default=function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.type=n.PATH.VECTOR,this.x=e,this.y=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseListStyle=t.parseListStyleType=t.LIST_STYLE_TYPE=t.LIST_STYLE_POSITION=void 0;var n=r(5),i=t.LIST_STYLE_POSITION={INSIDE:0,OUTSIDE:1},A=t.LIST_STYLE_TYPE={NONE:-1,DISC:0,CIRCLE:1,SQUARE:2,DECIMAL:3,CJK_DECIMAL:4,DECIMAL_LEADING_ZERO:5,LOWER_ROMAN:6,UPPER_ROMAN:7,LOWER_GREEK:8,LOWER_ALPHA:9,UPPER_ALPHA:10,ARABIC_INDIC:11,ARMENIAN:12,BENGALI:13,CAMBODIAN:14,CJK_EARTHLY_BRANCH:15,CJK_HEAVENLY_STEM:16,CJK_IDEOGRAPHIC:17,DEVANAGARI:18,ETHIOPIC_NUMERIC:19,GEORGIAN:20,GUJARATI:21,GURMUKHI:22,HEBREW:22,HIRAGANA:23,HIRAGANA_IROHA:24,JAPANESE_FORMAL:25,JAPANESE_INFORMAL:26,KANNADA:27,KATAKANA:28,KATAKANA_IROHA:29,KHMER:30,KOREAN_HANGUL_FORMAL:31,KOREAN_HANJA_FORMAL:32,KOREAN_HANJA_INFORMAL:33,LAO:34,LOWER_ARMENIAN:35,MALAYALAM:36,MONGOLIAN:37,MYANMAR:38,ORIYA:39,PERSIAN:40,SIMP_CHINESE_FORMAL:41,SIMP_CHINESE_INFORMAL:42,TAMIL:43,TELUGU:44,THAI:45,TIBETAN:46,TRAD_CHINESE_FORMAL:47,TRAD_CHINESE_INFORMAL:48,UPPER_ARMENIAN:49,DISCLOSURE_OPEN:50,DISCLOSURE_CLOSED:51},o=t.parseListStyleType=function(e){switch(e){case"disc":return A.DISC;case"circle":return A.CIRCLE;case"square":return A.SQUARE;case"decimal":return A.DECIMAL;case"cjk-decimal":return A.CJK_DECIMAL;case"decimal-leading-zero":return A.DECIMAL_LEADING_ZERO;case"lower-roman":return A.LOWER_ROMAN;case"upper-roman":return A.UPPER_ROMAN;case"lower-greek":return A.LOWER_GREEK;case"lower-alpha":return A.LOWER_ALPHA;case"upper-alpha":return A.UPPER_ALPHA;case"arabic-indic":return A.ARABIC_INDIC;case"armenian":return A.ARMENIAN;case"bengali":return A.BENGALI;case"cambodian":return A.CAMBODIAN;case"cjk-earthly-branch":return A.CJK_EARTHLY_BRANCH;case"cjk-heavenly-stem":return A.CJK_HEAVENLY_STEM;case"cjk-ideographic":return A.CJK_IDEOGRAPHIC;case"devanagari":return A.DEVANAGARI;case"ethiopic-numeric":return A.ETHIOPIC_NUMERIC;case"georgian":return A.GEORGIAN;case"gujarati":return A.GUJARATI;case"gurmukhi":return A.GURMUKHI;case"hebrew":return A.HEBREW;case"hiragana":return A.HIRAGANA;case"hiragana-iroha":return A.HIRAGANA_IROHA;case"japanese-formal":return A.JAPANESE_FORMAL;case"japanese-informal":return A.JAPANESE_INFORMAL;case"kannada":return A.KANNADA;case"katakana":return A.KATAKANA;case"katakana-iroha":return A.KATAKANA_IROHA;case"khmer":return A.KHMER;case"korean-hangul-formal":return A.KOREAN_HANGUL_FORMAL;case"korean-hanja-formal":return A.KOREAN_HANJA_FORMAL;case"korean-hanja-informal":return A.KOREAN_HANJA_INFORMAL;case"lao":return A.LAO;case"lower-armenian":return A.LOWER_ARMENIAN;case"malayalam":return A.MALAYALAM;case"mongolian":return A.MONGOLIAN;case"myanmar":return A.MYANMAR;case"oriya":return A.ORIYA;case"persian":return A.PERSIAN;case"simp-chinese-formal":return A.SIMP_CHINESE_FORMAL;case"simp-chinese-informal":return A.SIMP_CHINESE_INFORMAL;case"tamil":return A.TAMIL;case"telugu":return A.TELUGU;case"thai":return A.THAI;case"tibetan":return A.TIBETAN;case"trad-chinese-formal":return A.TRAD_CHINESE_FORMAL;case"trad-chinese-informal":return A.TRAD_CHINESE_INFORMAL;case"upper-armenian":return A.UPPER_ARMENIAN;case"disclosure-open":return A.DISCLOSURE_OPEN;case"disclosure-closed":return A.DISCLOSURE_CLOSED;case"none":default:return A.NONE}},a=(t.parseListStyle=function(e){var t=(0,n.parseBackgroundImage)(e.getPropertyValue("list-style-image"));return{listStyleType:o(e.getPropertyValue("list-style-type")),listStyleImage:t.length?t[0]:null,listStylePosition:a(e.getPropertyValue("list-style-position"))}},function(e){switch(e){case"inside":return i.INSIDE;case"outside":default:return i.OUTSIDE}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e},i=r(20),A=r(22);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var a=(n(s,null,[{key:"fromTextNode",value:function(e,t){var r=c(e.data,t.style.textTransform);return new s(r,t,(0,A.parseTextBounds)(r,t,e))}}]),s);function s(e,t,r){!function(e,t){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}(this),this.text=e,this.parent=t,this.bounds=r}t.default=a;var l=/(^|\s|:|-|\(|\))([a-z])/g,c=function(e,t){switch(t){case i.TEXT_TRANSFORM.LOWERCASE:return e.toLowerCase();case i.TEXT_TRANSFORM.CAPITALIZE:return e.replace(l,u);case i.TEXT_TRANSFORM.UPPERCASE:return e.toUpperCase();default:return e}};function u(e,t,r){return 0<e.length?t+r.toUpperCase():e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function o(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]}var a=r(23),s={get SUPPORT_RANGE_BOUNDS(){var e=function(e){if(e.createRange){var t=e.createRange();if(t.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height="123px",r.style.display="block",e.body.appendChild(r),t.selectNode(r);var n=t.getBoundingClientRect(),i=Math.round(n.height);if(e.body.removeChild(r),123===i)return!0}}return!1}(document);return Object.defineProperty(s,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=function(e){var t=new Image,r=e.createElement("canvas"),n=r.getContext("2d");t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{n.drawImage(t,0,0),r.toDataURL()}catch(e){return!1}return!0}(document);return Object.defineProperty(s,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_BASE64_DRAWING(){return function(e){var t,r,n,i,A,o=(t=document,r=e,n=new Image,i=t.createElement("canvas"),A=i.getContext("2d"),new Promise(function(t){function e(){try{A.drawImage(n,0,0),i.toDataURL()}catch(e){return t(!1)}return t(!0)}n.src=r,n.onload=e,n.onerror=function(){return t(!1)},!0===n.complete&&setTimeout(function(){e()},500)}));return Object.defineProperty(s,"SUPPORT_BASE64_DRAWING",{value:function(){return o}}),o}},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"==typeof Array.from&&"function"==typeof window.fetch?function(n){var e=n.createElement("canvas");e.width=100,e.height=100;var i=e.getContext("2d");i.fillStyle="rgb(0, 255, 0)",i.fillRect(0,0,100,100);var t=new Image,A=e.toDataURL();t.src=A;var r=(0,a.createForeignObjectSVG)(100,100,0,0,t);return i.fillStyle="red",i.fillRect(0,0,100,100),(0,a.loadSerializedSVG)(r).then(function(e){i.drawImage(e,0,0);var t=i.getImageData(0,0,100,100).data;i.fillStyle="red",i.fillRect(0,0,100,100);var r=n.createElement("div");return r.style.backgroundImage="url("+A+")",r.style.height="100px",o(t)?(0,a.loadSerializedSVG)((0,a.createForeignObjectSVG)(100,100,0,0,r)):Promise.reject(!1)}).then(function(e){return i.drawImage(e,0,0),o(i.getImageData(0,0,100,100).data)}).catch(function(e){return!1})}(document):Promise.resolve(!1);return Object.defineProperty(s,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=void 0!==(new Image).crossOrigin;return Object.defineProperty(s,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(s,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(s,"SUPPORT_CORS_XHR",{value:e}),e}};t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextDecoration=t.TEXT_DECORATION_LINE=t.TEXT_DECORATION=t.TEXT_DECORATION_STYLE=void 0;function n(e){switch(e){case"underline":return s.UNDERLINE;case"overline":return s.OVERLINE;case"line-through":return s.LINE_THROUGH}return s.BLINK}var i,A=(i=r(0))&&i.__esModule?i:{default:i},o=t.TEXT_DECORATION_STYLE={SOLID:0,DOUBLE:1,DOTTED:2,DASHED:3,WAVY:4},a=t.TEXT_DECORATION={NONE:null},s=t.TEXT_DECORATION_LINE={UNDERLINE:1,OVERLINE:2,LINE_THROUGH:3,BLINK:4};t.parseTextDecoration=function(t){var e,r="none"===(e=t.textDecorationLine?t.textDecorationLine:t.textDecoration)?null:e.split(" ").map(n);return null===r?a.NONE:{textDecorationLine:r,textDecorationColor:t.textDecorationColor?new A.default(t.textDecorationColor):null,textDecorationStyle:function(e){switch(t.textDecorationStyle){case"double":return o.DOUBLE;case"dotted":return o.DOTTED;case"dashed":return o.DASHED;case"wavy":return o.WAVY}return o.SOLID}()}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorder=t.BORDER_SIDES=t.BORDER_STYLE=void 0;var n,A=(n=r(0))&&n.__esModule?n:{default:n},o=t.BORDER_STYLE={NONE:0,SOLID:1},i=t.BORDER_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3},a=Object.keys(i).map(function(e){return e.toLowerCase()});t.parseBorder=function(i){return a.map(function(t){var e=new A.default(i.getPropertyValue("border-"+t+"-color")),r=function(e){switch(i.getPropertyValue("border-"+t+"-style")){case"none":return o.NONE}return o.SOLID}(),n=parseFloat(i.getPropertyValue("border-"+t+"-width"));return{borderColor:e,borderStyle:r,borderWidth:isNaN(n)?0:n}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.toCodePoints=function(e){for(var t=[],r=0,n=e.length;r<n;){var i=e.charCodeAt(r++);if(55296<=i&&i<=56319&&r<n){var A=e.charCodeAt(r++);56320==(64512&A)?t.push(((1023&i)<<10)+(1023&A)+65536):(t.push(i),r--)}else t.push(i)}return t},t.fromCodePoint=function(){if(String.fromCodePoint)return String.fromCodePoint.apply(String,arguments);var e=arguments.length;if(!e)return"";for(var t=[],r=-1,n="";++r<e;){var i=arguments.length<=r?void 0:arguments[r];i<=65535?t.push(i):(i-=65536,t.push(55296+(i>>10),i%1024+56320)),(r+1===e||16384<t.length)&&(n+=String.fromCharCode.apply(String,t),t.length=0)}return n};for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),i=0;i<n.length;i++)u[n.charCodeAt(i)]=i;t.decode=function(e){var t=.75*e.length,r=e.length,n=void 0,i=0,A=void 0,o=void 0,a=void 0,s=void 0;"="===e[e.length-1]&&(t--,"="===e[e.length-2]&&t--);var l="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(t):new Array(t),c=Array.isArray(l)?l:new Uint8Array(l);for(n=0;n<r;n+=4)A=u[e.charCodeAt(n)],o=u[e.charCodeAt(n+1)],a=u[e.charCodeAt(n+2)],s=u[e.charCodeAt(n+3)],c[i++]=A<<2|o>>4,c[i++]=(15&o)<<4|a>>2,c[i++]=(3&a)<<6|63&s;return l},t.polyUint16Array=function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r.push(e[n+1]<<8|e[n]);return r},t.polyUint32Array=function(e){for(var t=e.length,r=[],n=0;n<t;n+=4)r.push(e[n+3]<<24|e[n+2]<<16|e[n+1]<<8|e[n]);return r}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createCounterText=t.inlineListItemElement=t.getListOwner=void 0;var d=r(4),f=n(r(3)),p=n(r(9)),h=r(8),o=r(24);function n(e){return e&&e.__esModule?e:{default:e}}function a(n,e,t,i,r,A){return n<e||t<n?w(n,r,0<A.length):i.integers.reduce(function(e,t,r){for(;t<=n;)n-=t,e+=i.values[r];return e},"")+A}function s(e,t,r,n){for(var i="";r||e--,i=n(e)+i,t<=(e/=t)*t;);return i}function l(e,t,r,n,i){var A=r-t+1;return(e<0?"-":"")+(s(Math.abs(e),A,n,function(e){return(0,o.fromCodePoint)(Math.floor(e%A)+t)})+i)}function c(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:". ",n=t.length;return s(Math.abs(e),n,!1,function(e){return t[Math.floor(e%n)]})+r}function u(e,t,r,n,i,A){if(e<-9999||9999<e)return w(e,h.LIST_STYLE_TYPE.CJK_DECIMAL,0<i.length);var o=Math.abs(e),a=i;if(0===o)return t[0]+a;for(var s=0;0<o&&s<=4;s++){var l=o%10;0==l&&(0,d.contains)(A,1)&&""!==a?a=t[l]+a:1<l||1==l&&0===s||1==l&&1===s&&(0,d.contains)(A,2)||1==l&&1===s&&(0,d.contains)(A,4)&&100<e||1==l&&1<s&&(0,d.contains)(A,8)?a=t[l]+(0<s?r[s-1]:"")+a:1==l&&0<s&&(a=r[s-1]+a),o=Math.floor(o/10)}return(e<0?n:"")+a}var i=["OL","UL","MENU"],g=(t.getListOwner=function(e){var t=e.parent;if(!t)return null;do{if(-1!==i.indexOf(t.tagName))return t;t=t.parent}while(t);return e.parent},t.inlineListItemElement=function(e,t,r){var n=t.style.listStyle;if(n){var i=e.ownerDocument.defaultView.getComputedStyle(e,null),A=e.ownerDocument.createElement("html2canvaswrapper");switch((0,d.copyCSSStyles)(i,A),A.style.position="absolute",A.style.bottom="auto",A.style.display="block",A.style.letterSpacing="normal",n.listStylePosition){case h.LIST_STYLE_POSITION.OUTSIDE:A.style.left="auto",A.style.right=e.ownerDocument.defaultView.innerWidth-t.bounds.left-t.style.margin[1].getAbsoluteValue(t.bounds.width)+7+"px",A.style.textAlign="right";break;case h.LIST_STYLE_POSITION.INSIDE:A.style.left=t.bounds.left-t.style.margin[3].getAbsoluteValue(t.bounds.width)+"px",A.style.right="auto",A.style.textAlign="left"}var o=void 0,a=t.style.margin[0].getAbsoluteValue(t.bounds.width),s=n.listStyleImage;if(s)if("url"===s.method){var l=e.ownerDocument.createElement("img");l.src=s.args[0],A.style.top=t.bounds.top-a+"px",A.style.width="auto",A.style.height="auto",A.appendChild(l)}else{var c=.5*parseFloat(t.style.font.fontSize);A.style.top=t.bounds.top-a+t.bounds.height-1.5*c+"px",A.style.width=c+"px",A.style.height=c+"px",A.style.backgroundImage=i.listStyleImage}else"number"==typeof t.listIndex&&(o=e.ownerDocument.createTextNode(w(t.listIndex,n.listStyleType,!0)),A.appendChild(o),A.style.top=t.bounds.top-a+"px");var u=e.ownerDocument.body;u.appendChild(A),o?(t.childNodes.push(p.default.fromTextNode(o,t)),u.removeChild(A)):t.childNodes.push(new f.default(A,t,r,0))}},{integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]}),v={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},m={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},_={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},w=t.createCounterText=function(e,t,r){var n=r?". ":"",i=r?"\u3001":"",A=r?", ":"";switch(t){case h.LIST_STYLE_TYPE.DISC:return"\u2022";case h.LIST_STYLE_TYPE.CIRCLE:return"\u25e6";case h.LIST_STYLE_TYPE.SQUARE:return"\u25fe";case h.LIST_STYLE_TYPE.DECIMAL_LEADING_ZERO:var o=l(e,48,57,!0,n);return o.length<4?"0"+o:o;case h.LIST_STYLE_TYPE.CJK_DECIMAL:return c(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",i);case h.LIST_STYLE_TYPE.LOWER_ROMAN:return a(e,1,3999,g,h.LIST_STYLE_TYPE.DECIMAL,n).toLowerCase();case h.LIST_STYLE_TYPE.UPPER_ROMAN:return a(e,1,3999,g,h.LIST_STYLE_TYPE.DECIMAL,n);case h.LIST_STYLE_TYPE.LOWER_GREEK:return l(e,945,969,!1,n);case h.LIST_STYLE_TYPE.LOWER_ALPHA:return l(e,97,122,!1,n);case h.LIST_STYLE_TYPE.UPPER_ALPHA:return l(e,65,90,!1,n);case h.LIST_STYLE_TYPE.ARABIC_INDIC:return l(e,1632,1641,!0,n);case h.LIST_STYLE_TYPE.ARMENIAN:case h.LIST_STYLE_TYPE.UPPER_ARMENIAN:return a(e,1,9999,v,h.LIST_STYLE_TYPE.DECIMAL,n);case h.LIST_STYLE_TYPE.LOWER_ARMENIAN:return a(e,1,9999,v,h.LIST_STYLE_TYPE.DECIMAL,n).toLowerCase();case h.LIST_STYLE_TYPE.BENGALI:return l(e,2534,2543,!0,n);case h.LIST_STYLE_TYPE.CAMBODIAN:case h.LIST_STYLE_TYPE.KHMER:return l(e,6112,6121,!0,n);case h.LIST_STYLE_TYPE.CJK_EARTHLY_BRANCH:return c(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",i);case h.LIST_STYLE_TYPE.CJK_HEAVENLY_STEM:return c(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",i);case h.LIST_STYLE_TYPE.CJK_IDEOGRAPHIC:case h.LIST_STYLE_TYPE.TRAD_CHINESE_INFORMAL:return u(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8ca0",i,14);case h.LIST_STYLE_TYPE.TRAD_CHINESE_FORMAL:return u(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8ca0",i,15);case h.LIST_STYLE_TYPE.SIMP_CHINESE_INFORMAL:return u(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\u8d1f",i,14);case h.LIST_STYLE_TYPE.SIMP_CHINESE_FORMAL:return u(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396","\u62fe\u4f70\u4edf\u842c","\u8d1f",i,15);case h.LIST_STYLE_TYPE.JAPANESE_INFORMAL:return u(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",i,0);case h.LIST_STYLE_TYPE.JAPANESE_FORMAL:return u(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07","\u30de\u30a4\u30ca\u30b9",i,7);case h.LIST_STYLE_TYPE.KOREAN_HANGUL_FORMAL:return u(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc","\ub9c8\uc774\ub108\uc2a4 ",A,7);case h.LIST_STYLE_TYPE.KOREAN_HANJA_INFORMAL:return u(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c","\ub9c8\uc774\ub108\uc2a4 ",A,0);case h.LIST_STYLE_TYPE.KOREAN_HANJA_FORMAL:return u(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343","\ub9c8\uc774\ub108\uc2a4 ",A,7);case h.LIST_STYLE_TYPE.DEVANAGARI:return l(e,2406,2415,!0,n);case h.LIST_STYLE_TYPE.GEORGIAN:return a(e,1,19999,_,h.LIST_STYLE_TYPE.DECIMAL,n);case h.LIST_STYLE_TYPE.GUJARATI:return l(e,2790,2799,!0,n);case h.LIST_STYLE_TYPE.GURMUKHI:return l(e,2662,2671,!0,n);case h.LIST_STYLE_TYPE.HEBREW:return a(e,1,10999,m,h.LIST_STYLE_TYPE.DECIMAL,n);case h.LIST_STYLE_TYPE.HIRAGANA:return c(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case h.LIST_STYLE_TYPE.HIRAGANA_IROHA:return c(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case h.LIST_STYLE_TYPE.KANNADA:return l(e,3302,3311,!0,n);case h.LIST_STYLE_TYPE.KATAKANA:return c(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",i);case h.LIST_STYLE_TYPE.KATAKANA_IROHA:return c(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",i);case h.LIST_STYLE_TYPE.LAO:return l(e,3792,3801,!0,n);case h.LIST_STYLE_TYPE.MONGOLIAN:return l(e,6160,6169,!0,n);case h.LIST_STYLE_TYPE.MYANMAR:return l(e,4160,4169,!0,n);case h.LIST_STYLE_TYPE.ORIYA:return l(e,2918,2927,!0,n);case h.LIST_STYLE_TYPE.PERSIAN:return l(e,1776,1785,!0,n);case h.LIST_STYLE_TYPE.TAMIL:return l(e,3046,3055,!0,n);case h.LIST_STYLE_TYPE.TELUGU:return l(e,3174,3183,!0,n);case h.LIST_STYLE_TYPE.THAI:return l(e,3664,3673,!0,n);case h.LIST_STYLE_TYPE.TIBETAN:return l(e,3872,3881,!0,n);case h.LIST_STYLE_TYPE.DECIMAL:default:return l(e,48,57,!0,n)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e},i=r(6),s=r(11);function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t){var r=Math.max.apply(null,e.colorStops.map(function(e){return e.stop})),n=1/Math.max(1,r);e.colorStops.forEach(function(e){t.addColorStop(n*e.stop,e.color.toString())})}var o=(n(a,[{key:"render",value:function(e){this.ctx=this.canvas.getContext("2d"),this.options=e,this.canvas.width=Math.floor(e.width*e.scale),this.canvas.height=Math.floor(e.height*e.scale),this.canvas.style.width=e.width+"px",this.canvas.style.height=e.height+"px",this.ctx.scale(this.options.scale,this.options.scale),this.ctx.translate(-e.x,-e.y),this.ctx.textBaseline="bottom",e.logger.log("Canvas renderer initialized ("+e.width+"x"+e.height+" at "+e.x+","+e.y+") with scale "+this.options.scale)}},{key:"clip",value:function(e,t){var r=this;e.length&&(this.ctx.save(),e.forEach(function(e){r.path(e),r.ctx.clip()})),t(),e.length&&this.ctx.restore()}},{key:"drawImage",value:function(e,t,r){this.ctx.drawImage(e,t.left,t.top,t.width,t.height,r.left,r.top,r.width,r.height)}},{key:"drawShape",value:function(e,t){this.path(e),this.ctx.fillStyle=t.toString(),this.ctx.fill()}},{key:"fill",value:function(e){this.ctx.fillStyle=e.toString(),this.ctx.fill()}},{key:"getTarget",value:function(){return this.canvas.getContext("2d").setTransform(1,0,0,1,0,0),Promise.resolve(this.canvas)}},{key:"path",value:function(e){var n=this;this.ctx.beginPath(),Array.isArray(e)?e.forEach(function(e,t){var r=e.type===i.PATH.VECTOR?e:e.start;0===t?n.ctx.moveTo(r.x,r.y):n.ctx.lineTo(r.x,r.y),e.type===i.PATH.BEZIER_CURVE&&n.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)}):this.ctx.arc(e.x+e.radius,e.y+e.radius,e.radius,0,2*Math.PI,!0),this.ctx.closePath()}},{key:"rectangle",value:function(e,t,r,n,i){this.ctx.fillStyle=i.toString(),this.ctx.fillRect(e,t,r,n)}},{key:"renderLinearGradient",value:function(e,t){var r=this.ctx.createLinearGradient(e.left+t.direction.x1,e.top+t.direction.y1,e.left+t.direction.x0,e.top+t.direction.y0);c(t,r),this.ctx.fillStyle=r,this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRadialGradient",value:function(e,t){var r=this,n=e.left+t.center.x,i=e.top+t.center.y,A=this.ctx.createRadialGradient(n,i,0,n,i,t.radius.x);if(A)if(c(t,A),this.ctx.fillStyle=A,t.radius.x!==t.radius.y){var o=e.left+.5*e.width,a=e.top+.5*e.height,s=t.radius.y/t.radius.x,l=1/s;this.transform(o,a,[1,0,0,s,0,0],function(){return r.ctx.fillRect(e.left,l*(e.top-a)+a,e.width,e.height*l)})}else this.ctx.fillRect(e.left,e.top,e.width,e.height)}},{key:"renderRepeat",value:function(e,t,r,n,i){this.path(e),this.ctx.fillStyle=this.ctx.createPattern(this.resizeImage(t,r),"repeat"),this.ctx.translate(n,i),this.ctx.fill(),this.ctx.translate(-n,-i)}},{key:"renderTextNode",value:function(e,t,A,r,o){var a=this;this.ctx.font=[A.fontStyle,A.fontVariant,A.fontWeight,A.fontSize,A.fontFamily].join(" "),e.forEach(function(n){if(a.ctx.fillStyle=t.toString(),o&&n.text.trim().length?o.slice(0).reverse().forEach(function(e){a.ctx.shadowColor=e.color.toString(),a.ctx.shadowOffsetX=e.offsetX*a.options.scale,a.ctx.shadowOffsetY=e.offsetY*a.options.scale,a.ctx.shadowBlur=e.blur,a.ctx.fillText(n.text,n.bounds.left,n.bounds.top+n.bounds.height)}):a.ctx.fillText(n.text,n.bounds.left,n.bounds.top+n.bounds.height),null!==r){var i=r.textDecorationColor||t;r.textDecorationLine.forEach(function(e){switch(e){case s.TEXT_DECORATION_LINE.UNDERLINE:var t=a.options.fontMetrics.getMetrics(A).baseline;a.rectangle(n.bounds.left,Math.round(n.bounds.top+t),n.bounds.width,1,i);break;case s.TEXT_DECORATION_LINE.OVERLINE:a.rectangle(n.bounds.left,Math.round(n.bounds.top),n.bounds.width,1,i);break;case s.TEXT_DECORATION_LINE.LINE_THROUGH:var r=a.options.fontMetrics.getMetrics(A).middle;a.rectangle(n.bounds.left,Math.ceil(n.bounds.top+r),n.bounds.width,1,i)}})}})}},{key:"resizeImage",value:function(e,t){if(e.width===t.width&&e.height===t.height)return e;var r=this.canvas.ownerDocument.createElement("canvas");return r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t.width,t.height),r}},{key:"setOpacity",value:function(e){this.ctx.globalAlpha=e}},{key:"transform",value:function(e,t,r,n){this.ctx.save(),this.ctx.translate(e,t),this.ctx.transform(r[0],r[1],r[2],r[3],r[4],r[5]),this.ctx.translate(-e,-t),n(),this.ctx.restore()}}]),a);function a(e){!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.canvas=e||document.createElement("canvas")}t.default=o},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(A,[{key:"child",value:function(e){return new A(this.enabled,e,this.start)}},{key:"log",value:function(){if(this.enabled&&window.console&&window.console.log){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}},{key:"error",value:function(){if(this.enabled&&window.console&&window.console.error){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];Function.prototype.bind.call(window.console.error,window.console).apply(window.console,[Date.now()-this.start+"ms",this.id?"html2canvas ("+this.id+"):":"html2canvas:"].concat([].slice.call(t,0)))}}}]),A);function A(e,t,r){!function(e,t){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this),this.enabled="undefined"!=typeof window&&e,this.start=r||Date.now(),this.id=t}t.default=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePadding=t.PADDING_SIDES=void 0;var n,i=(n=r(1))&&n.__esModule?n:{default:n};t.PADDING_SIDES={TOP:0,RIGHT:1,BOTTOM:2,LEFT:3};var A=["top","right","bottom","left"];t.parsePadding=function(t){return A.map(function(e){return new i.default(t.getPropertyValue("padding-"+e))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.OVERFLOW_WRAP={NORMAL:0,BREAK_WORD:1};t.parseOverflowWrap=function(e){switch(e){case"break-word":return n.BREAK_WORD;case"normal":default:return n.NORMAL}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.POSITION={STATIC:0,RELATIVE:1,ABSOLUTE:2,FIXED:3,STICKY:4};t.parsePosition=function(e){switch(e){case"relative":return n.RELATIVE;case"absolute":return n.ABSOLUTE;case"fixed":return n.FIXED;case"sticky":return n.STICKY}return n.STATIC}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.TEXT_TRANSFORM={NONE:0,LOWERCASE:1,UPPERCASE:2,CAPITALIZE:3};t.parseTextTransform=function(e){switch(e){case"uppercase":return n.UPPERCASE;case"lowercase":return n.LOWERCASE;case"capitalize":return n.CAPITALIZE}return n.NONE}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reformatInputBounds=t.inlineSelectElement=t.inlineTextAreaElement=t.inlineInputElement=t.getInputBorderRadius=t.INPUT_BACKGROUND=t.INPUT_BORDERS=t.INPUT_COLOR=void 0;var a=u(r(9)),n=r(5),i=r(12),A=u(r(50)),o=u(r(7)),s=u(r(0)),l=u(r(1)),c=(r(2),r(22),r(4));function u(e){return e&&e.__esModule?e:{default:e}}t.INPUT_COLOR=new s.default([42,42,42]);var d=new s.default([165,165,165]),f=new s.default([222,222,222]),p={borderWidth:1,borderColor:d,borderStyle:i.BORDER_STYLE.SOLID},h=(t.INPUT_BORDERS=[p,p,p,p],t.INPUT_BACKGROUND={backgroundColor:f,backgroundImage:[],backgroundClip:n.BACKGROUND_CLIP.PADDING_BOX,backgroundOrigin:n.BACKGROUND_ORIGIN.PADDING_BOX},new l.default("50%")),g=[h,h],v=[g,g,g,g],m=new l.default("3px"),_=[m,m],w=[_,_,_,_],B=(t.getInputBorderRadius=function(e){return"radio"===e.type?v:w},t.inlineInputElement=function(e,t){if("radio"===e.type||"checkbox"===e.type){if(e.checked){var r=Math.min(t.bounds.width,t.bounds.height);t.childNodes.push("checkbox"===e.type?[new o.default(t.bounds.left+.39363*r,t.bounds.top+.79*r),new o.default(t.bounds.left+.16*r,t.bounds.top+.5549*r),new o.default(t.bounds.left+.27347*r,t.bounds.top+.44071*r),new o.default(t.bounds.left+.39694*r,t.bounds.top+.5649*r),new o.default(t.bounds.left+.72983*r,t.bounds.top+.23*r),new o.default(t.bounds.left+.84*r,t.bounds.top+.34085*r),new o.default(t.bounds.left+.39363*r,t.bounds.top+.79*r)]:new A.default(t.bounds.left+r/4,t.bounds.top+r/4,r/4))}}else B(y(e),e,t,!1)},t.inlineTextAreaElement=function(e,t){B(e.value,e,t,!0)},t.inlineSelectElement=function(e,t){var r=e.options[e.selectedIndex||0];B(r&&r.text||"",e,t,!1)},t.reformatInputBounds=function(e){return e.width>e.height?(e.left+=(e.width-e.height)/2,e.width=e.height):e.width<e.height&&(e.top+=(e.height-e.width)/2,e.height=e.width),e},function(e,t,r,n){var i=t.ownerDocument.body;if(0<e.length&&i){var A=t.ownerDocument.createElement("html2canvaswrapper");(0,c.copyCSSStyles)(t.ownerDocument.defaultView.getComputedStyle(t,null),A),A.style.position="absolute",A.style.left=r.bounds.left+"px",A.style.top=r.bounds.top+"px",n||(A.style.whiteSpace="nowrap");var o=t.ownerDocument.createTextNode(e);A.appendChild(o),i.appendChild(A),r.childNodes.push(a.default.fromTextNode(o,r)),i.removeChild(A)}}),y=function(e){var t="password"===e.type?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextBounds=t.TextBounds=void 0;var n,o=r(2),f=r(11),p=(n=r(10))&&n.__esModule?n:{default:n},h=r(24),g=t.TextBounds=function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.text=e,this.bounds=t},v=(t.parseTextBounds=function(e,t,r){for(var n=0!==t.style.letterSpacing?(0,h.toCodePoints)(e).map(function(e){return(0,h.fromCodePoint)(e)}):(0,h.breakWords)(e,t),i=n.length,A=r.parentNode?r.parentNode.ownerDocument.defaultView:null,o=A?A.pageXOffset:0,a=A?A.pageYOffset:0,s=[],l=0,c=0;c<i;c++){var u=n[c];if(t.style.textDecoration!==f.TEXT_DECORATION.NONE||0<u.trim().length)if(p.default.SUPPORT_RANGE_BOUNDS)s.push(new g(u,m(r,l,u.length,o,a)));else{var d=r.splitText(u.length);s.push(new g(u,v(r,o,a))),r=d}else p.default.SUPPORT_RANGE_BOUNDS||(r=r.splitText(u.length));l+=u.length}return s},function(e,t,r){var n=e.ownerDocument.createElement("html2canvaswrapper");n.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(n,e);var A=(0,o.parseBounds)(n,t,r);return n.firstChild&&i.replaceChild(n.firstChild,n),A}return new o.Bounds(0,0,0,0)}),m=function(e,t,r,n,i){var A=e.ownerDocument.createRange();return A.setStart(e,t),A.setEnd(e,t+r),o.Bounds.fromClientRect(A.getBoundingClientRect(),n,i)}},function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(t,"__esModule",{value:!0});var i=(function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}(A,[{key:"render",value:function(t){var r=this;this.options=t,this.canvas=document.createElement("canvas"),this.ctx=this.canvas.getContext("2d"),this.canvas.width=Math.floor(t.width)*t.scale,this.canvas.height=Math.floor(t.height)*t.scale,this.canvas.style.width=t.width+"px",this.canvas.style.height=t.height+"px",t.logger.log("ForeignObject renderer initialized ("+t.width+"x"+t.height+" at "+t.x+","+t.y+") with scale "+t.scale);var e=o(Math.max(t.windowWidth,t.width)*t.scale,Math.max(t.windowHeight,t.height)*t.scale,t.scrollX*t.scale,t.scrollY*t.scale,this.element);return a(e).then(function(e){return t.backgroundColor&&(r.ctx.fillStyle=t.backgroundColor.toString(),r.ctx.fillRect(0,0,t.width*t.scale,t.height*t.scale)),r.ctx.drawImage(e,-t.x*t.scale,-t.y*t.scale),r.canvas})}}]),A);function A(e){!function(e,t){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this),this.element=e}t.default=i;var o=t.createForeignObjectSVG=function(e,t,r,n,i){var A="http://www.w3.org/2000/svg",o=document.createElementNS(A,"svg"),a=document.createElementNS(A,"foreignObject");return o.setAttributeNS(null,"width",e),o.setAttributeNS(null,"height",t),a.setAttributeNS(null,"width","100%"),a.setAttributeNS(null,"height","100%"),a.setAttributeNS(null,"x",r),a.setAttributeNS(null,"y",n),a.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(a),a.appendChild(i),o},a=t.loadSerializedSVG=function(n){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(n))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.breakWords=t.fromCodePoint=t.toCodePoints=void 0;var A=r(46);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return A.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return A.fromCodePoint}});var n,o=((n=r(3))&&n.__esModule,r(18));t.breakWords=function(e,t){for(var r=(0,A.LineBreaker)(e,{lineBreak:t.style.lineBreak,wordBreak:t.style.overflowWrap===o.OVERFLOW_WRAP.BREAK_WORD?"break-word":t.style.wordBreak}),n=[],i=void 0;!(i=r.next()).done;)n.push(i.value.slice());return n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontMetrics=void 0;var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},a=r(4);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function A(e){!function(e,t){if(!(e instanceof A))throw new TypeError("Cannot call a class as a function")}(this),this._data={},this._document=e}t.FontMetrics=(n(A,[{key:"_parseMetrics",value:function(e){var t=this._document.createElement("div"),r=this._document.createElement("img"),n=this._document.createElement("span"),i=this._document.body;if(!i)throw new Error("");t.style.visibility="hidden",t.style.fontFamily=e.fontFamily,t.style.fontSize=e.fontSize,t.style.margin="0",t.style.padding="0",i.appendChild(t),r.src=a.SMALL_IMAGE,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode("Hidden Text")),t.appendChild(n),t.appendChild(r);var A=r.offsetTop-n.offsetTop+2;t.removeChild(n),t.appendChild(this._document.createTextNode("Hidden Text")),t.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-t.offsetTop+2;return i.removeChild(t),{baseline:A,middle:o}}},{key:"getMetrics",value:function(e){var t=e.fontFamily+" "+e.fontSize;return void 0===this._data[t]&&(this._data[t]=this._parseMetrics(e)),this._data[t]}}]),A)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Proxy=void 0;var n,s=(n=r(10))&&n.__esModule?n:{default:n};t.Proxy=function(A,o){if(!o.proxy)return Promise.reject(null);var a=o.proxy;return new Promise(function(t,r){var n=s.default.SUPPORT_CORS_XHR&&s.default.SUPPORT_RESPONSE_TYPE?"blob":"text",i=s.default.SUPPORT_CORS_XHR?new XMLHttpRequest:new XDomainRequest;if(i.onload=function(){if(i instanceof XMLHttpRequest)if(200===i.status)if("text"==n)t(i.response);else{var e=new FileReader;e.addEventListener("load",function(){return t(e.result)},!1),e.addEventListener("error",function(e){return r(e)},!1),e.readAsDataURL(i.response)}else r("");else t(i.responseText)},i.onerror=r,i.open("GET",a+"?url="+encodeURIComponent(A)+"&responseType="+n),"text"!=n&&i instanceof XMLHttpRequest&&(i.responseType=n),o.imageTimeout){var e=o.imageTimeout;i.timeout=e,i.ontimeout=function(){return r("")}}i.send()})}},function(e,t,r){"use strict";var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=n(r(15)),l=n(r(16)),c=r(28);function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var r=t||{},n=new l.default("boolean"!=typeof r.logging||r.logging);n.log("html2canvas 1.0.0-alpha.11");var i=e.ownerDocument;if(!i)return Promise.reject("Provided element is not within a Document");var A=i.defaultView,o={async:!0,allowTaint:!1,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,scale:A.devicePixelRatio||1,target:new s.default(r.canvas),useCORS:!1,windowWidth:A.innerWidth,windowHeight:A.innerHeight,scrollX:A.pageXOffset,scrollY:A.pageYOffset};return(0,c.renderElement)(e,a({},o,r),n)}i.CanvasRenderer=s.default,e.exports=i},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renderElement=void 0;var i=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=(n(r(16)),r(29)),w=n(r(51)),u=n(r(23)),o=n(r(10)),B=r(2),a=r(54),y=r(25),s=r(0),l=n(s);function n(e){return e&&e.__esModule?e:{default:e}}t.renderElement=function t(c,g,v){var m=c.ownerDocument,r=new B.Bounds(g.scrollX,g.scrollY,g.windowWidth,g.windowHeight),e=m.documentElement?new l.default(getComputedStyle(m.documentElement).backgroundColor):s.TRANSPARENT,n=m.body?new l.default(getComputedStyle(m.body).backgroundColor):s.TRANSPARENT,_=c===m.documentElement?e.isTransparent()?n.isTransparent()?g.backgroundColor?new l.default(g.backgroundColor):null:n:e:g.backgroundColor?new l.default(g.backgroundColor):null;return(g.foreignObjectRendering?o.default.SUPPORT_FOREIGNOBJECT_DRAWING:Promise.resolve(!1)).then(function(e){return e?(l=new a.DocumentCloner(c,g,v,!0,t)).inlineFonts(m).then(function(){return l.resourceLoader.ready()}).then(function(){var e=new u.default(l.documentElement),t=m.defaultView,r=t.pageXOffset,n=t.pageYOffset,i="HTML"===c.tagName||"BODY"===c.tagName?(0,B.parseDocumentSize)(m):(0,B.parseBounds)(c,r,n),A=i.width,o=i.height,a=i.left,s=i.top;return e.render({backgroundColor:_,logger:v,scale:g.scale,x:"number"==typeof g.x?g.x:a,y:"number"==typeof g.y?g.y:s,width:"number"==typeof g.width?g.width:Math.ceil(A),height:"number"==typeof g.height?g.height:Math.ceil(o),windowWidth:g.windowWidth,windowHeight:g.windowHeight,scrollX:g.scrollX,scrollY:g.scrollY})}):(0,a.cloneWindow)(m,r,c,g,v,t).then(function(e){var t=i(e,3),d=t[0],f=t[1],r=t[2],p=(0,A.NodeParser)(f,r,v),h=f.ownerDocument;return _===p.container.style.background.backgroundColor&&(p.container.style.background.backgroundColor=s.TRANSPARENT),r.ready().then(function(e){var t=new y.FontMetrics(h),r=h.defaultView,n=r.pageXOffset,i=r.pageYOffset,A="HTML"===f.tagName||"BODY"===f.tagName?(0,B.parseDocumentSize)(m):(0,B.parseBounds)(f,n,i),o=A.width,a=A.height,s=A.left,l=A.top,c={backgroundColor:_,fontMetrics:t,imageStore:e,logger:v,scale:g.scale,x:"number"==typeof g.x?g.x:s,y:"number"==typeof g.y?g.y:l,width:"number"==typeof g.width?g.width:Math.ceil(o),height:"number"==typeof g.height?g.height:Math.ceil(a)};if(Array.isArray(g.target))return Promise.all(g.target.map(function(e){return new w.default(e,c).render(p)}));var u=new w.default(g.target,c).render(p);return!0===g.removeContainer&&d.parentNode&&d.parentNode.removeChild(d),u})});var l})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeParser=void 0;var m=n(r(30)),_=n(r(3)),w=n(r(9)),B=r(21),y=r(14),x=r(8);function n(e){return e&&e.__esModule?e:{default:e}}t.NodeParser=function(e,t,r){var n=0,i=new _.default(e,null,t,n++),A=new m.default(i,null,!0);return o(e,i,A,t,1),A};var b=["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"],o=function e(t,r,n,i,A){for(var o,a=t.firstChild;a;a=o){o=a.nextSibling;var s=a.ownerDocument.defaultView;if(a instanceof s.Text||a instanceof Text||s.parent&&a instanceof s.parent.Text)0<a.data.trim().length&&r.childNodes.push(w.default.fromTextNode(a,r));else if(a instanceof s.HTMLElement||a instanceof HTMLElement||s.parent&&a instanceof s.parent.HTMLElement){if(-1===b.indexOf(a.nodeName)){var l=new _.default(a,r,i,A++);if(l.isVisible()){"INPUT"===a.tagName?(0,B.inlineInputElement)(a,l):"TEXTAREA"===a.tagName?(0,B.inlineTextAreaElement)(a,l):"SELECT"===a.tagName?(0,B.inlineSelectElement)(a,l):l.style.listStyle&&l.style.listStyle.listStyleType!==x.LIST_STYLE_TYPE.NONE&&(0,y.inlineListItemElement)(a,l,i);var c="TEXTAREA"!==a.tagName,u=C(l,a);if(u||Q(l)){var d=u||l.isPositioned()?n.getRealParentStackingContext():n,f=new m.default(l,d,u);d.contexts.push(f),c&&e(a,l,f,i,A)}else n.children.push(l),c&&e(a,l,n,i,A)}}}else if(a instanceof s.SVGSVGElement||a instanceof SVGSVGElement||s.parent&&a instanceof s.parent.SVGSVGElement){var p=new _.default(a,r,i,A++),h=C(p,a);if(h||Q(p)){var g=h||p.isPositioned()?n.getRealParentStackingContext():n,v=new m.default(p,g,h);g.contexts.push(v)}else n.children.push(p)}}},C=function(e,t){return e.isRootElement()||e.isPositionedWithZIndex()||e.style.opacity<1||e.isTransformed()||i(e,t)},Q=function(e){return e.isPositioned()||e.isFloating()},i=function(e,t){return"BODY"===t.nodeName&&e.parent instanceof _.default&&e.parent.style.background.backgroundColor.isTransparent()}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e};function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(n=r(3))&&n.__esModule,r(19);var o=(i(a,[{key:"getOpacity",value:function(){return this.parent?this.container.style.opacity*this.parent.getOpacity():this.container.style.opacity}},{key:"getRealParentStackingContext",value:function(){return!this.parent||this.treatAsRealStackingContext?this:this.parent.getRealParentStackingContext()}}]),a);function a(e,t,r){!function(e,t){if(!(e instanceof a))throw new TypeError("Cannot call a class as a function")}(this),this.container=e,this.parent=t,this.contexts=[],this.children=[],this.treatAsRealStackingContext=r}t.default=o},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function r(e,t){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.width=e,this.height=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,i=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e},A=r(6),o=(n=r(7))&&n.__esModule?n:{default:n};function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e,t,r){return new o.default(e.x+(t.x-e.x)*r,e.y+(t.y-e.y)*r)}var l=(i(c,[{key:"subdivide",value:function(e,t){var r=s(this.start,this.startControl,e),n=s(this.startControl,this.endControl,e),i=s(this.endControl,this.end,e),A=s(r,n,e),o=s(n,i,e),a=s(A,o,e);return t?new c(this.start,r,A,a):new c(a,o,i,this.end)}},{key:"reverse",value:function(){return new c(this.end,this.endControl,this.startControl,this.start)}}]),c);function c(e,t,r,n){!function(e,t){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")}(this),this.type=A.PATH.BEZIER_CURVE,this.start=e,this.startControl=t,this.endControl=r,this.end=n}t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBorderRadius=void 0;var n,o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},a=(n=r(1))&&n.__esModule?n:{default:n},i=["top-left","top-right","bottom-right","bottom-left"];t.parseBorderRadius=function(A){return i.map(function(e){var t=A.getPropertyValue("border-"+e+"-radius").split(" ").map(a.default.create),r=o(t,2),n=r[0],i=r[1];return void 0===i?[n,n]:[n,i]})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});function n(e,t){return e|function(e){switch(t){case"block":return i.BLOCK;case"inline":return i.INLINE;case"run-in":return i.RUN_IN;case"flow":return i.FLOW;case"flow-root":return i.FLOW_ROOT;case"table":return i.TABLE;case"flex":return i.FLEX;case"grid":return i.GRID;case"ruby":return i.RUBY;case"subgrid":return i.SUBGRID;case"list-item":return i.LIST_ITEM;case"table-row-group":return i.TABLE_ROW_GROUP;case"table-header-group":return i.TABLE_HEADER_GROUP;case"table-footer-group":return i.TABLE_FOOTER_GROUP;case"table-row":return i.TABLE_ROW;case"table-cell":return i.TABLE_CELL;case"table-column-group":return i.TABLE_COLUMN_GROUP;case"table-column":return i.TABLE_COLUMN;case"table-caption":return i.TABLE_CAPTION;case"ruby-base":return i.RUBY_BASE;case"ruby-text":return i.RUBY_TEXT;case"ruby-base-container":return i.RUBY_BASE_CONTAINER;case"ruby-text-container":return i.RUBY_TEXT_CONTAINER;case"contents":return i.CONTENTS;case"inline-block":return i.INLINE_BLOCK;case"inline-list-item":return i.INLINE_LIST_ITEM;case"inline-table":return i.INLINE_TABLE;case"inline-flex":return i.INLINE_FLEX;case"inline-grid":return i.INLINE_GRID}return i.NONE}()}var i=t.DISPLAY={NONE:1,BLOCK:2,INLINE:4,RUN_IN:8,FLOW:16,FLOW_ROOT:32,TABLE:64,FLEX:128,GRID:256,RUBY:512,SUBGRID:1024,LIST_ITEM:2048,TABLE_ROW_GROUP:4096,TABLE_HEADER_GROUP:8192,TABLE_FOOTER_GROUP:16384,TABLE_ROW:32768,TABLE_CELL:65536,TABLE_COLUMN_GROUP:1<<17,TABLE_COLUMN:1<<18,TABLE_CAPTION:1<<19,RUBY_BASE:1<<20,RUBY_TEXT:1<<21,RUBY_BASE_CONTAINER:1<<22,RUBY_TEXT_CONTAINER:1<<23,CONTENTS:1<<24,INLINE_BLOCK:1<<25,INLINE_LIST_ITEM:1<<26,INLINE_TABLE:1<<27,INLINE_FLEX:1<<28,INLINE_GRID:1<<29};t.parseDisplay=function(e){return e.split(" ").reduce(n,0)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.FLOAT={NONE:0,LEFT:1,RIGHT:2,INLINE_START:3,INLINE_END:4};t.parseCSSFloat=function(e){switch(e){case"left":return n.LEFT;case"right":return n.RIGHT;case"inline-start":return n.INLINE_START;case"inline-end":return n.INLINE_END}return n.NONE}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseFont=function(e){return{fontFamily:e.fontFamily,fontSize:e.fontSize,fontStyle:e.fontStyle,fontVariant:e.fontVariant,fontWeight:function(e){switch(e){case"normal":return 400;case"bold":return 700}var t=parseInt(e,10);return isNaN(t)?400:t}(e.fontWeight)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLetterSpacing=function(e){if("normal"===e)return 0;var t=parseFloat(e);return isNaN(t)?0:t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.LINE_BREAK={NORMAL:"normal",STRICT:"strict"};t.parseLineBreak=function(e){switch(e){case"strict":return n.STRICT;case"normal":default:return n.NORMAL}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMargin=void 0;var n,i=(n=r(1))&&n.__esModule?n:{default:n},A=["top","right","bottom","left"];t.parseMargin=function(t){return A.map(function(e){return new i.default(t.getPropertyValue("margin-"+e))})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.OVERFLOW={VISIBLE:0,HIDDEN:1,SCROLL:2,AUTO:3};t.parseOverflow=function(e){switch(e){case"hidden":return n.HIDDEN;case"scroll":return n.SCROLL;case"auto":return n.AUTO;case"visible":default:return n.VISIBLE}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTextShadow=void 0;var n,u=(n=r(0))&&n.__esModule?n:{default:n},d=/^([+-]|\d|\.)$/i;t.parseTextShadow=function(e){if("none"===e||"string"!=typeof e)return null;for(var t="",r=!1,n=[],i=[],A=0,o=null,a=function(){t.length&&(r?n.push(parseFloat(t)):o=new u.default(t)),r=!1,t=""},s=function(){n.length&&null!==o&&i.push({color:o,offsetX:n[0]||0,offsetY:n[1]||0,blur:n[2]||0}),n.splice(0,n.length),o=null},l=0;l<e.length;l++){var c=e[l];switch(c){case"(":t+=c,A++;break;case")":t+=c,A--;break;case",":0===A?(a(),s()):t+=c;break;case" ":0===A?a():t+=c;break;default:0===t.length&&d.test(c)&&(r=!0),t+=c}}return a(),s(),0===i.length?null:i}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTransform=void 0;function i(e){return parseFloat(e.trim())}var n,A=(n=r(1))&&n.__esModule?n:{default:n},o=/(matrix|matrix3d)\((.+)\)/,a=(t.parseTransform=function(e){var t=s(e.transform||e.webkitTransform||e.mozTransform||e.msTransform||e.oTransform);return null===t?null:{transform:t,transformOrigin:a(e.transformOrigin||e.webkitTransformOrigin||e.mozTransformOrigin||e.msTransformOrigin||e.oTransformOrigin)}},function(e){if("string"!=typeof e){var t=new A.default("0");return[t,t]}var r=e.split(" ").map(A.default.create);return[r[0],r[1]]}),s=function(e){if("none"===e||"string"!=typeof e)return null;var t=e.match(o);if(t){if("matrix"===t[1]){var r=t[2].split(",").map(i);return[r[0],r[1],r[2],r[3],r[4],r[5]]}var n=t[2].split(",").map(i);return[n[0],n[1],n[4],n[5],n[12],n[13]]}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.VISIBILITY={VISIBLE:0,HIDDEN:1,COLLAPSE:2};t.parseVisibility=function(e){switch(e){case"hidden":return n.HIDDEN;case"collapse":return n.COLLAPSE;case"visible":default:return n.VISIBLE}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.WORD_BREAK={NORMAL:"normal",BREAK_ALL:"break-all",KEEP_ALL:"keep-all"};t.parseWordBreak=function(e){switch(e){case"break-all":return n.BREAK_ALL;case"keep-all":return n.KEEP_ALL;case"normal":default:return n.NORMAL}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseZIndex=function(e){var t="auto"===e;return{auto:t,order:t?0:parseInt(e,10)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(13);Object.defineProperty(t,"toCodePoints",{enumerable:!0,get:function(){return n.toCodePoints}}),Object.defineProperty(t,"fromCodePoint",{enumerable:!0,get:function(){return n.fromCodePoint}});var i=r(47);Object.defineProperty(t,"LineBreaker",{enumerable:!0,get:function(){return i.LineBreaker}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LineBreaker=t.inlineBreakOpportunities=t.lineBreakAtIndex=t.codePointsToCharacterClasses=t.UnicodeTrie=t.BREAK_ALLOWED=t.BREAK_NOT_ALLOWED=t.BREAK_MANDATORY=t.classes=t.LETTER_NUMBER_MODIFIER=void 0;var n,i=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e},u=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=r(48),o=(n=r(49))&&n.__esModule?n:{default:n},d=r(13);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(e,t,r,n){var i=n[r];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var A=r;A<=n.length;){var o=n[++A];if(o===t)return!0;if(o!==_)break}if(i===_)for(var a=r;0<a;){var s=n[--a];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var l=r;l<=n.length;){var c=n[++l];if(c===t)return!0;if(c!==_)break}if(s!==_)break}return!1}function m(e,t){for(var r=e;0<=r;){var n=t[r];if(n!==_)return n;r--}return 0}function f(e,t,r,n,i){if(0===r[n])return P;var A=n-1;if(Array.isArray(i)&&!0===i[A])return P;var o=A-1,a=1+A,s=t[A],l=0<=o?t[o]:0,c=t[a];if(2===s&&3===c)return P;if(-1!==V.indexOf(s))return R;if(-1!==V.indexOf(c))return P;if(-1!==G.indexOf(c))return P;if(8===m(A,t))return z;if(11===X.get(e[A])&&(c===L||c===k||c===N))return P;if(7===s||7===c)return P;if(9===s)return P;if(-1===[_,w,B].indexOf(s)&&9===c)return P;if(-1!==[y,x,b,U,T].indexOf(c))return P;if(m(A,t)===E)return P;if(v(23,E,A,t))return P;if(v([y,x],Q,A,t))return P;if(v(12,12,A,t))return P;if(s===_)return z;if(23===s||23===c)return P;if(16===c||16===s)return z;if(-1!==[w,B,Q].indexOf(c)||14===s)return P;if(36===l&&-1!==J.indexOf(s))return P;if(s===T&&36===c)return P;if(c===C&&-1!==W.concat(C,b,F,L,k,N).indexOf(s))return P;if(-1!==W.indexOf(c)&&s===F||-1!==W.indexOf(s)&&c===F)return P;if(s===H&&-1!==[L,k,N].indexOf(c)||-1!==[L,k,N].indexOf(s)&&c===S)return P;if(-1!==W.indexOf(s)&&-1!==Y.indexOf(c)||-1!==Y.indexOf(s)&&-1!==W.indexOf(c))return P;if(-1!==[H,S].indexOf(s)&&(c===F||-1!==[E,B].indexOf(c)&&t[1+a]===F)||-1!==[E,B].indexOf(s)&&c===F||s===F&&-1!==[F,T,U].indexOf(c))return P;if(-1!==[F,T,U,y,x].indexOf(c))for(var u=A;0<=u;){var d=t[u];if(d===F)return P;if(-1===[T,U].indexOf(d))break;u--}if(-1!==[H,S].indexOf(c))for(var f=-1!==[y,x].indexOf(s)?o:A;0<=f;){var p=t[f];if(p===F)return P;if(-1===[T,U].indexOf(p))break;f--}if(D===s&&-1!==[D,O,I,M].indexOf(c)||-1!==[O,I].indexOf(s)&&-1!==[O,K].indexOf(c)||-1!==[K,M].indexOf(s)&&c===K)return P;if(-1!==j.indexOf(s)&&-1!==[C,S].indexOf(c)||-1!==j.indexOf(c)&&s===H)return P;if(-1!==W.indexOf(s)&&-1!==W.indexOf(c))return P;if(s===U&&-1!==W.indexOf(c))return P;if(-1!==W.concat(F).indexOf(s)&&c===E||-1!==W.concat(F).indexOf(c)&&s===x)return P;if(41===s&&41===c){for(var h=r[A],g=1;0<h&&41===t[--h];)g++;if(g%2!=0)return P}return s===k&&c===N?P:z}var s=t.LETTER_NUMBER_MODIFIER=50,_=10,w=13,B=15,y=17,x=18,b=19,C=20,Q=21,E=22,U=24,F=25,S=26,H=27,T=28,l=30,k=32,N=33,I=34,M=35,L=37,D=38,O=39,K=40,c=42,R=(t.classes={BK:1,CR:2,LF:3,CM:4,NL:5,SG:6,WJ:7,ZW:8,GL:9,SP:_,ZWJ:11,B2:12,BA:w,BB:14,HY:B,CB:16,CL:y,CP:x,EX:b,IN:C,NS:Q,OP:E,QU:23,IS:U,NU:F,PO:S,PR:H,SY:T,AI:29,AL:l,CJ:31,EB:k,EM:N,H2:I,H3:M,HL:36,ID:L,JL:D,JV:O,JT:K,RI:41,SA:c,XX:43},t.BREAK_MANDATORY="!"),P=t.BREAK_NOT_ALLOWED="\xd7",z=t.BREAK_ALLOWED="\xf7",X=t.UnicodeTrie=(0,A.createTrieFromBase64)(o.default),W=[l,36],V=[1,2,3,5],G=[_,8],Y=[H,S],p=V.concat(G),j=[D,O,K,I,M],J=[B,w],h=t.codePointsToCharacterClasses=function(e){var i=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"strict",A=[],o=[],a=[];return e.forEach(function(e,t){var r=X.get(e);if(s<r?(a.push(!0),r-=s):a.push(!1),-1!==["normal","auto","loose"].indexOf(i)&&-1!==[8208,8211,12316,12448].indexOf(e))return o.push(t),A.push(16);if(4!==r&&11!==r)return o.push(t),31===r?A.push("strict"===i?Q:L):r===c?A.push(l):29===r?A.push(l):43===r?131072<=e&&e<=196605||196608<=e&&e<=262141?A.push(L):A.push(l):void A.push(r);if(0===t)return o.push(t),A.push(l);var n=A[t-1];return-1===p.indexOf(n)?(o.push(o[t-1]),A.push(n)):(o.push(t),A.push(l))}),[o,A,a]},g=(t.lineBreakAtIndex=function(e,t){if(0===t)return P;if(t>=e.length)return R;var r=h(e),n=u(r,2),i=n[0],A=n[1];return f(e,A,i,t)},function(r,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var t=h(r,e.lineBreak),n=u(t,3),i=n[0],A=n[1],o=n[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(A=A.map(function(e){return-1!==[F,l,c].indexOf(e)?L:e})),[i,A,"keep-all"===e.wordBreak?o.map(function(e,t){return e&&19968<=r[t]&&r[t]<=40959}):null]}),q=(t.inlineBreakOpportunities=function(e,t){var r=(0,d.toCodePoints)(e),n=P,i=g(r,t),A=u(i,3),o=A[0],a=A[1],s=A[2];return r.forEach(function(e,t){n+=(0,d.fromCodePoint)(e)+(t>=r.length-1?R:f(r,a,o,t+1,s))}),n},i($,[{key:"slice",value:function(){return d.fromCodePoint.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}(this._codePoints.slice(this.start,this.end)))}}]),$);function $(e,t,r,n){!function(e,t){if(!(e instanceof $))throw new TypeError("Cannot call a class as a function")}(this),this._codePoints=e,this.required=t===R,this.start=r,this.end=n}t.LineBreaker=function(e,t){var r=(0,d.toCodePoints)(e),n=g(r,t),i=u(n,3),A=i[0],o=i[1],a=i[2],s=r.length,l=0,c=0;return{next:function(){if(s<=c)return{done:!0};for(var e=P;c<s&&(e=f(r,o,A,++c,a))===P;);if(e===P&&c!==s)return{done:!0};var t=new q(r,e,l,c);return l=c,{value:t,done:!1}}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Trie=t.createTrieFromBase64=t.UTRIE2_INDEX_2_MASK=t.UTRIE2_INDEX_2_BLOCK_LENGTH=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=t.UTRIE2_INDEX_1_OFFSET=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=t.UTRIE2_INDEX_2_BMP_LENGTH=t.UTRIE2_LSCP_INDEX_2_LENGTH=t.UTRIE2_DATA_MASK=t.UTRIE2_DATA_BLOCK_LENGTH=t.UTRIE2_LSCP_INDEX_2_OFFSET=t.UTRIE2_SHIFT_1_2=t.UTRIE2_INDEX_SHIFT=t.UTRIE2_SHIFT_1=t.UTRIE2_SHIFT_2=void 0;var n=function(e,t,r){return t&&i(e.prototype,t),r&&i(e,r),e},o=r(13);function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var A=t.UTRIE2_SHIFT_2=5,a=t.UTRIE2_SHIFT_1=11,s=t.UTRIE2_INDEX_SHIFT=2,l=t.UTRIE2_SHIFT_1_2=a-A,c=t.UTRIE2_LSCP_INDEX_2_OFFSET=65536>>A,u=t.UTRIE2_DATA_BLOCK_LENGTH=1<<A,d=t.UTRIE2_DATA_MASK=u-1,f=t.UTRIE2_LSCP_INDEX_2_LENGTH=1024>>A,p=t.UTRIE2_INDEX_2_BMP_LENGTH=c+f,h=t.UTRIE2_UTF8_2B_INDEX_2_OFFSET=p,g=t.UTRIE2_UTF8_2B_INDEX_2_LENGTH=32,v=t.UTRIE2_INDEX_1_OFFSET=h+g,m=t.UTRIE2_OMITTED_BMP_INDEX_1_LENGTH=65536>>a,_=t.UTRIE2_INDEX_2_BLOCK_LENGTH=1<<l,w=t.UTRIE2_INDEX_2_MASK=_-1,B=(t.createTrieFromBase64=function(e){var t=(0,o.decode)(e),r=Array.isArray(t)?(0,o.polyUint32Array)(t):new Uint32Array(t),n=Array.isArray(t)?(0,o.polyUint16Array)(t):new Uint16Array(t),i=n.slice(12,r[4]/2),A=2===r[5]?n.slice((24+r[4])/2):r.slice(Math.ceil((24+r[4])/4));return new B(r[0],r[1],r[2],r[3],i,A)},t.Trie=(n(y,[{key:"get",value:function(e){var t=void 0;if(0<=e){if(e<55296||56319<e&&e<=65535)return t=((t=this.index[e>>A])<<s)+(e&d),this.data[t];if(e<=65535)return t=((t=this.index[c+(e-55296>>A)])<<s)+(e&d),this.data[t];if(e<this.highStart)return t=v-m+(e>>a),t=this.index[t],t+=e>>A&w,t=((t=this.index[t])<<s)+(e&d),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue}}]),y));function y(e,t,r,n,i,A){!function(e,t){if(!(e instanceof y))throw new TypeError("Cannot call a class as a function")}(this),this.initialValue=e,this.errorValue=t,this.highStart=r,this.highValueIndex=n,this.index=i,this.data=A}},function(e,t,r){"use strict";e.exports="KwAAAAAAAAAACA4AIDoAAPAfAAACAAAAAAAIABAAGABAAEgAUABYAF4AZgBeAGYAYABoAHAAeABeAGYAfACEAIAAiACQAJgAoACoAK0AtQC9AMUAXgBmAF4AZgBeAGYAzQDVAF4AZgDRANkA3gDmAOwA9AD8AAQBDAEUARoBIgGAAIgAJwEvATcBPwFFAU0BTAFUAVwBZAFsAXMBewGDATAAiwGTAZsBogGkAawBtAG8AcIBygHSAdoB4AHoAfAB+AH+AQYCDgIWAv4BHgImAi4CNgI+AkUCTQJTAlsCYwJrAnECeQKBAk0CiQKRApkCoQKoArACuALAAsQCzAIwANQC3ALkAjAA7AL0AvwCAQMJAxADGAMwACADJgMuAzYDPgOAAEYDSgNSA1IDUgNaA1oDYANiA2IDgACAAGoDgAByA3YDfgOAAIQDgACKA5IDmgOAAIAAogOqA4AAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAK8DtwOAAIAAvwPHA88D1wPfAyAD5wPsA/QD/AOAAIAABAQMBBIEgAAWBB4EJgQuBDMEIAM7BEEEXgBJBCADUQRZBGEEaQQwADAAcQQ+AXkEgQSJBJEEgACYBIAAoASoBK8EtwQwAL8ExQSAAIAAgACAAIAAgACgAM0EXgBeAF4AXgBeAF4AXgBeANUEXgDZBOEEXgDpBPEE+QQBBQkFEQUZBSEFKQUxBTUFPQVFBUwFVAVcBV4AYwVeAGsFcwV7BYMFiwWSBV4AmgWgBacFXgBeAF4AXgBeAKsFXgCyBbEFugW7BcIFwgXIBcIFwgXQBdQF3AXkBesF8wX7BQMGCwYTBhsGIwYrBjMGOwZeAD8GRwZNBl4AVAZbBl4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAGMGXgBqBnEGXgBeAF4AXgBeAF4AXgBeAF4AXgB5BoAG4wSGBo4GkwaAAIADHgR5AF4AXgBeAJsGgABGA4AAowarBrMGswagALsGwwbLBjAA0wbaBtoG3QbaBtoG2gbaBtoG2gblBusG8wb7BgMHCwcTBxsHCwcjBysHMAc1BzUHOgdCB9oGSgdSB1oHYAfaBloHaAfaBlIH2gbaBtoG2gbaBtoG2gbaBjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHbQdeAF4ANQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQd1B30HNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B4MH2gaKB68EgACAAIAAgACAAIAAgACAAI8HlwdeAJ8HpweAAIAArwe3B14AXgC/B8UHygcwANAH2AfgB4AA6AfwBz4B+AcACFwBCAgPCBcIogEYAR8IJwiAAC8INwg/CCADRwhPCFcIXwhnCEoDGgSAAIAAgABvCHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIfQh3CHgIeQh6CHsIfAh9CHcIeAh5CHoIewh8CH0Idwh4CHkIegh7CHwIhAiLCI4IMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAANQc1BzUHNQc1BzUHNQc1BzUHNQc1B54INQc1B6II2gaqCLIIugiAAIAAvgjGCIAAgACAAIAAgACAAIAAgACAAIAAywiHAYAA0wiAANkI3QjlCO0I9Aj8CIAAgACAAAIJCgkSCRoJIgknCTYHLwk3CZYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiWCJYIlgiAAIAAAAFAAXgBeAGAAcABeAHwAQACQAKAArQC9AJ4AXgBeAE0A3gBRAN4A7AD8AMwBGgEAAKcBNwEFAUwBXAF4QkhCmEKnArcCgAHHAsABz4LAAcABwAHAAd+C6ABoAG+C/4LAAcABwAHAAc+DF4MAAcAB54M3gweDV4Nng3eDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEeDqABVg6WDqABoQ6gAaABoAHXDvcONw/3DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DvcO9w73DncPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB7cPPwlGCU4JMACAAIAAgABWCV4JYQmAAGkJcAl4CXwJgAkwADAAMAAwAIgJgACLCZMJgACZCZ8JowmrCYAAswkwAF4AXgB8AIAAuwkABMMJyQmAAM4JgADVCTAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAqwYWBNkIMAAwADAAMADdCeAJ6AnuCR4E9gkwAP4JBQoNCjAAMACAABUK0wiAAB0KJAosCjQKgAAwADwKQwqAAEsKvQmdCVMKWwowADAAgACAALcEMACAAGMKgABrCjAAMAAwADAAMAAwADAAMAAwADAAMAAeBDAAMAAwADAAMAAwADAAMAAwADAAMAAwAIkEPQFzCnoKiQSCCooKkAqJBJgKoAqkCokEGAGsCrQKvArBCjAAMADJCtEKFQHZCuEK/gHpCvEKMAAwADAAMACAAIwE+QowAIAAPwEBCzAAMAAwADAAMACAAAkLEQswAIAAPwEZCyELgAAOCCkLMAAxCzkLMAAwADAAMAAwADAAXgBeAEELMAAwADAAMAAwADAAMAAwAEkLTQtVC4AAXAtkC4AAiQkwADAAMAAwADAAMAAwADAAbAtxC3kLgAuFC4sLMAAwAJMLlwufCzAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAApwswADAAMACAAIAAgACvC4AAgACAAIAAgACAALcLMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAvwuAAMcLgACAAIAAgACAAIAAyguAAIAAgACAAIAA0QswADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAANkLgACAAIAA4AswADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACJCR4E6AswADAAhwHwC4AA+AsADAgMEAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMACAAIAAGAwdDCUMMAAwAC0MNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQw1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHPQwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADUHNQc1BzUHNQc1BzUHNQc2BzAAMAA5DDUHNQc1BzUHNQc1BzUHNQc1BzUHNQdFDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAgACAAIAATQxSDFoMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAF4AXgBeAF4AXgBeAF4AYgxeAGoMXgBxDHkMfwxeAIUMXgBeAI0MMAAwADAAMAAwAF4AXgCVDJ0MMAAwADAAMABeAF4ApQxeAKsMswy7DF4Awgy9DMoMXgBeAF4AXgBeAF4AXgBeAF4AXgDRDNkMeQBqCeAM3Ax8AOYM7Az0DPgMXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgBeAF4AXgCgAAANoAAHDQ4NFg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAeDSYNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIAAgACAAIAAgACAAC4NMABeAF4ANg0wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAD4NRg1ODVYNXg1mDTAAbQ0wADAAMAAwADAAMAAwADAA2gbaBtoG2gbaBtoG2gbaBnUNeg3CBYANwgWFDdoGjA3aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gaUDZwNpA2oDdoG2gawDbcNvw3HDdoG2gbPDdYN3A3fDeYN2gbsDfMN2gbaBvoN/g3aBgYODg7aBl4AXgBeABYOXgBeACUG2gYeDl4AJA5eACwO2w3aBtoGMQ45DtoG2gbaBtoGQQ7aBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDjUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B1EO2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQdZDjUHNQc1BzUHNQc1B2EONQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHaA41BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B3AO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gY1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1BzUHNQc1B2EO2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gZJDtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBtoG2gbaBkkOeA6gAKAAoAAwADAAMAAwAKAAoACgAKAAoACgAKAAgA4wADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAD//wQABAAEAAQABAAEAAQABAAEAA0AAwABAAEAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAKABMAFwAeABsAGgAeABcAFgASAB4AGwAYAA8AGAAcAEsASwBLAEsASwBLAEsASwBLAEsAGAAYAB4AHgAeABMAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAFgAbABIAHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYADQARAB4ABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkAFgAaABsAGwAbAB4AHQAdAB4ATwAXAB4ADQAeAB4AGgAbAE8ATwAOAFAAHQAdAB0ATwBPABcATwBPAE8AFgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwArAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAAQABAANAA0ASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAUAArACsAKwArACsAKwArACsABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAGgAaAFAAUABQAFAAUABMAB4AGwBQAB4AKwArACsABAAEAAQAKwBQAFAAUABQAFAAUAArACsAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUAArAFAAUAArACsABAArAAQABAAEAAQABAArACsAKwArAAQABAArACsABAAEAAQAKwArACsABAArACsAKwArACsAKwArAFAAUABQAFAAKwBQACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwAEAAQAUABQAFAABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUAArACsABABQAAQABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQAKwArAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeABsAKwArACsAKwArACsAKwBQAAQABAAEAAQABAAEACsABAAEAAQAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArAAQABAArACsABAAEAAQAKwArACsAKwArACsAKwArAAQABAArACsAKwArAFAAUAArAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwAeAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwAEAFAAKwBQAFAAUABQAFAAUAArACsAKwBQAFAAUAArAFAAUABQAFAAKwArACsAUABQACsAUAArAFAAUAArACsAKwBQAFAAKwArACsAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQAKwArACsABAAEAAQAKwAEAAQABAAEACsAKwBQACsAKwArACsAKwArAAQAKwArACsAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAB4AHgAeAB4AHgAeABsAHgArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArAFAAUABQACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAB4AUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABAArACsAKwArACsAKwArAAQABAArACsAKwArACsAKwArAFAAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwArAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAKwBcAFwAKwBcACsAKwBcACsAKwArACsAKwArAFwAXABcAFwAKwBcAFwAXABcAFwAXABcACsAXABcAFwAKwBcACsAXAArACsAXABcACsAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgArACoAKgBcACsAKwBcAFwAXABcAFwAKwBcACsAKgAqACoAKgAqACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAFwAXABcAFwAUAAOAA4ADgAOAB4ADgAOAAkADgAOAA0ACQATABMAEwATABMACQAeABMAHgAeAB4ABAAEAB4AHgAeAB4AHgAeAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUAANAAQAHgAEAB4ABAAWABEAFgARAAQABABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAAQABAAEAAQABAANAAQABABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsADQANAB4AHgAeAB4AHgAeAAQAHgAeAB4AHgAeAB4AKwAeAB4ADgAOAA0ADgAeAB4AHgAeAB4ACQAJACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgAeAB4AHgBcAFwAXABcAFwAXAAqACoAKgAqAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAKgAqACoAKgAqACoAKgBcAFwAXAAqACoAKgAqAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAXAAqAEsASwBLAEsASwBLAEsASwBLAEsAKgAqACoAKgAqACoAUABQAFAAUABQAFAAKwBQACsAKwArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQACsAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwAEAAQABAAeAA0AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAEQArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAADQANAA0AUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAA0ADQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQACsABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoADQANABUAXAANAB4ADQAbAFwAKgArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAB4AHgATABMADQANAA4AHgATABMAHgAEAAQABAAJACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAUABQAFAAUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwAeACsAKwArABMAEwBLAEsASwBLAEsASwBLAEsASwBLAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwBcAFwAXABcAFwAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcACsAKwArACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwAeAB4AXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsABABLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKgAqACoAKgAqACoAKgBcACoAKgAqACoAKgAqACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAUABQAFAAUABQAFAAUAArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4ADQANAA0ADQAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAHgAeAB4AHgBQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwANAA0ADQANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwBQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsABAAEAAQAHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAABABQAFAAUABQAAQABAAEAFAAUAAEAAQABAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAKwBQACsAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAKwArAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAKwAeAB4AHgAeAB4AHgAeAA4AHgArAA0ADQANAA0ADQANAA0ACQANAA0ADQAIAAQACwAEAAQADQAJAA0ADQAMAB0AHQAeABcAFwAWABcAFwAXABYAFwAdAB0AHgAeABQAFAAUAA0AAQABAAQABAAEAAQABAAJABoAGgAaABoAGgAaABoAGgAeABcAFwAdABUAFQAeAB4AHgAeAB4AHgAYABYAEQAVABUAFQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgANAB4ADQANAA0ADQAeAA0ADQANAAcAHgAeAB4AHgArAAQABAAEAAQABAAEAAQABAAEAAQAUABQACsAKwBPAFAAUABQAFAAUAAeAB4AHgAWABEATwBQAE8ATwBPAE8AUABQAFAAUABQAB4AHgAeABYAEQArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAaABsAGwAbABsAGgAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgBQABoAHgAdAB4AUAAeABoAHgAeAB4AHgAeAB4AHgAeAB4ATwAeAFAAGwAeAB4AUABQAFAAUABQAB4AHgAeAB0AHQAeAFAAHgBQAB4AUAAeAFAATwBQAFAAHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AUABQAFAAUABPAE8AUABQAFAAUABQAE8AUABQAE8AUABPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAE8ATwBPAE8ATwBPAE8ATwBPAE8AUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAATwAeAB4AKwArACsAKwAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB0AHQAeAB4AHgAdAB0AHgAeAB0AHgAeAB4AHQAeAB0AGwAbAB4AHQAeAB4AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB0AHgAdAB4AHQAdAB0AHQAdAB0AHgAdAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAdAB0AHQAdAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAlACUAHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBQAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAeAB4AHgAeAB0AHQAeAB4AHgAeAB0AHQAdAB4AHgAdAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB0AHQAeAB4AHQAeAB4AHgAeAB0AHQAeAB4AHgAeACUAJQAdAB0AJQAeACUAJQAlACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAHgAeAB4AHgAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHQAdAB0AHgAdACUAHQAdAB4AHQAdAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHQAdAB0AHQAlAB4AJQAlACUAHQAlACUAHQAdAB0AJQAlAB0AHQAlAB0AHQAlACUAJQAeAB0AHgAeAB4AHgAdAB0AJQAdAB0AHQAdAB0AHQAlACUAJQAlACUAHQAlACUAIAAlAB0AHQAlACUAJQAlACUAJQAlACUAHgAeAB4AJQAlACAAIAAgACAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeABcAFwAXABcAFwAXAB4AEwATACUAHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACUAJQBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwArACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAE8ATwBPAE8ATwBPAE8ATwAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeACsAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUAArACsAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQBQAFAAUABQACsAKwArACsAUABQAFAAUABQAFAAUABQAA0AUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAABAAEAAQAKwAEAAQAKwArACsAKwArAAQABAAEAAQAUABQAFAAUAArAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsABAAEAAQAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsADQANAA0ADQANAA0ADQANAB4AKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAUABQAFAAUABQAA0ADQANAA0ADQANABQAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwANAA0ADQANAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAeAAQABAAEAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLACsADQArAB4AKwArAAQABAAEAAQAUABQAB4AUAArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwAEAAQABAAEAAQABAAEAAQABAAOAA0ADQATABMAHgAeAB4ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0AUABQAFAAUAAEAAQAKwArAAQADQANAB4AUAArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXABcAA0ADQANACoASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUAArACsAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANACsADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEcARwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQACsAKwAeAAQABAANAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAEAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUAArACsAUAArACsAUABQACsAKwBQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AKwArAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAeAB4ADQANAA0ADQAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAArAAQABAArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAEAAQABAAEAAQABAAEACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAFgAWAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAKwBQACsAKwArACsAKwArAFAAKwArACsAKwBQACsAUAArAFAAKwBQAFAAUAArAFAAUAArAFAAKwArAFAAKwBQACsAUAArAFAAKwBQACsAUABQACsAUAArACsAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAUABQAFAAUAArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUAArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAlACUAJQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeACUAJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeACUAJQAlACUAJQAeACUAJQAlACUAJQAgACAAIAAlACUAIAAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIQAhACEAIQAhACUAJQAgACAAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAIAAlACUAJQAlACAAJQAgACAAIAAgACAAIAAgACAAIAAlACUAJQAgACUAJQAlACUAIAAgACAAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeACUAHgAlAB4AJQAlACUAJQAlACAAJQAlACUAJQAeACUAHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAIAAgACAAIAAgAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFwAXABcAFQAVABUAHgAeAB4AHgAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAIAAgACAAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAlACAAIAAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsA"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(6);t.default=function r(e,t,n){!function(e,t){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this),this.type=i.PATH.CIRCLE,this.x=e,this.y=t,this.radius=n}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,d=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(e,t,r){return t&&A(e.prototype,t),r&&A(e,r),e},a=r(2),s=(r(25),r(52)),o=(n=r(9))&&n.__esModule?n:{default:n},l=r(5),c=r(12);function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var u=(i(f,[{key:"renderNode",value:function(e){e.isVisible()&&(this.renderNodeBackgroundAndBorders(e),this.renderNodeContent(e))}},{key:"renderNodeContent",value:function(i){function e(){if(i.childNodes.length&&i.childNodes.forEach(function(e){if(e instanceof o.default){var t=e.parent.style;A.target.renderTextNode(e.bounds,t.color,t.font,t.textDecoration,t.textShadow)}else A.target.drawShape(e,i.style.color)}),i.image){var e=A.options.imageStore.get(i.image);if(e){var t=(0,a.calculateContentBox)(i.bounds,i.style.padding,i.style.border),r="number"==typeof e.width&&0<e.width?e.width:t.width,n="number"==typeof e.height&&0<e.height?e.height:t.height;0<r&&0<n&&A.target.clip([(0,a.calculatePaddingBoxPath)(i.curvedBounds)],function(){A.target.drawImage(e,new a.Bounds(0,0,r,n),t)})}}}var A=this,t=i.getClipPaths();t.length?this.target.clip(t,e):e()}},{key:"renderNodeBackgroundAndBorders",value:function(r){function e(){var e=(0,l.calculateBackgroungPaintingArea)(r.curvedBounds,r.style.background.backgroundClip);t&&n.target.clip([e],function(){r.style.background.backgroundColor.isTransparent()||n.target.fill(r.style.background.backgroundColor),n.renderBackgroundImage(r)}),r.style.border.forEach(function(e,t){e.borderStyle===c.BORDER_STYLE.NONE||e.borderColor.isTransparent()||n.renderBorder(e,t,r.curvedBounds)})}var n=this,t=!r.style.background.backgroundColor.isTransparent()||r.style.background.backgroundImage.length,i=r.style.border.some(function(e){return e.borderStyle!==c.BORDER_STYLE.NONE&&!e.borderColor.isTransparent()});if(t||i){var A=r.parent?r.parent.getClipPaths():[];A.length?this.target.clip(A,e):e()}}},{key:"renderBackgroundImage",value:function(t){var r=this;t.style.background.backgroundImage.slice(0).reverse().forEach(function(e){"url"===e.source.method&&e.source.args.length?r.renderBackgroundRepeat(t,e):/gradient/i.test(e.source.method)&&r.renderBackgroundGradient(t,e)})}},{key:"renderBackgroundRepeat",value:function(e,t){var r=this.options.imageStore.get(t.source.args[0]);if(r){var n=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),i=(0,l.calculateBackgroundSize)(t,r,n),A=(0,l.calculateBackgroundPosition)(t.position,i,n),o=(0,l.calculateBackgroundRepeatPath)(t,A,i,n,e.bounds),a=Math.round(n.left+A.x),s=Math.round(n.top+A.y);this.target.renderRepeat(o,r,i,a,s)}}},{key:"renderBackgroundGradient",value:function(e,t){var r=(0,l.calculateBackgroungPositioningArea)(e.style.background.backgroundOrigin,e.bounds,e.style.padding,e.style.border),n=(0,l.calculateGradientBackgroundSize)(t,r),i=(0,l.calculateBackgroundPosition)(t.position,n,r),A=new a.Bounds(Math.round(r.left+i.x),Math.round(r.top+i.y),n.width,n.height),o=(0,s.parseGradient)(e,t.source,A);if(o)switch(o.type){case s.GRADIENT_TYPE.LINEAR_GRADIENT:this.target.renderLinearGradient(A,o);break;case s.GRADIENT_TYPE.RADIAL_GRADIENT:this.target.renderRadialGradient(A,o)}}},{key:"renderBorder",value:function(e,t,r){this.target.drawShape((0,a.parsePathForBorder)(r,t),e.borderColor)}},{key:"renderStack",value:function(e){var t=this;if(e.container.isVisible()){var r=e.getOpacity();r!==this._opacity&&(this.target.setOpacity(e.getOpacity()),this._opacity=r);var n=e.container.style.transform;null!==n?this.target.transform(e.container.bounds.left+n.transformOrigin[0].value,e.container.bounds.top+n.transformOrigin[1].value,n.transform,function(){return t.renderStackContent(e)}):this.renderStackContent(e)}}},{key:"renderStackContent",value:function(e){var t=h(e),r=d(t,5),n=r[0],i=r[1],A=r[2],o=r[3],a=r[4],s=p(e),l=d(s,2),c=l[0],u=l[1];this.renderNodeBackgroundAndBorders(e.container),n.sort(g).forEach(this.renderStack,this),this.renderNodeContent(e.container),u.forEach(this.renderNode,this),o.forEach(this.renderStack,this),a.forEach(this.renderStack,this),c.forEach(this.renderNode,this),i.forEach(this.renderStack,this),A.sort(g).forEach(this.renderStack,this)}},{key:"render",value:function(e){return this.options.backgroundColor&&this.target.rectangle(this.options.x,this.options.y,this.options.width,this.options.height,this.options.backgroundColor),this.renderStack(e),this.target.getTarget()}}]),f);function f(e,t){!function(e,t){if(!(e instanceof f))throw new TypeError("Cannot call a class as a function")}(this),this.target=e,this.options=t,e.render(t)}t.default=u;var p=function(e){for(var t=[],r=[],n=e.children.length,i=0;i<n;i++){var A=e.children[i];A.isInlineLevel()?t.push(A):r.push(A)}return[t,r]},h=function(e){for(var t=[],r=[],n=[],i=[],A=[],o=e.contexts.length,a=0;a<o;a++){var s=e.contexts[a];s.container.isPositioned()||s.container.style.opacity<1||s.container.isTransformed()?s.container.style.zIndex.order<0?t.push(s):0<s.container.style.zIndex.order?n.push(s):r.push(s):s.container.isFloating()?i.push(s):A.push(s)}return[t,r,n,i,A]},g=function(e,t){return e.container.style.zIndex.order>t.container.style.zIndex.order?1:e.container.style.zIndex.order<t.container.style.zIndex.order?-1:e.container.index>t.container.index?1:-1}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transformWebkitRadialGradientArgs=t.parseGradient=t.RadialGradient=t.LinearGradient=t.RADIAL_GRADIENT_SHAPE=t.GRADIENT_TYPE=void 0;var a=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},l=(n(r(3)),r(53)),v=n(r(0)),c=r(1),m=n(c),f=r(4);function n(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return Math.acos(e.width/2/((0,f.distance)(e.width,e.height)/2))}function p(e,n,i,A){return[{x:0,y:0},{x:0,y:e.height},{x:e.width,y:0},{x:e.width,y:e.height}].reduce(function(e,t){var r=(0,f.distance)(n-t.x,i-t.y);return(A?r<e.optimumDistance:r>e.optimumDistance)?{optimumCorner:t,optimumDistance:r}:e},{optimumDistance:A?1/0:-1/0,optimumCorner:null}).optimumCorner}var u=/^(to )?(left|top|right|bottom)( (left|top|right|bottom))?$/i,d=/^([+-]?\d*\.?\d+)% ([+-]?\d*\.?\d+)%$/i,_=/(px)|%|( 0)$/i,o=/^(from|to|color-stop)\((?:([\d.]+)(%)?,\s*)?(.+?)\)$/i,h=/^\s*(circle|ellipse)?\s*((?:([\d.]+)(px|r?em|%)\s*(?:([\d.]+)(px|r?em|%))?)|closest-side|closest-corner|farthest-side|farthest-corner)?\s*(?:at\s*(?:(left|center|right)|([\d.]+)(px|r?em|%))\s+(?:(top|center|bottom)|([\d.]+)(px|r?em|%)))?(?:\s|$)/i,s=t.GRADIENT_TYPE={LINEAR_GRADIENT:0,RADIAL_GRADIENT:1},g=t.RADIAL_GRADIENT_SHAPE={CIRCLE:0,ELLIPSE:1},w={left:new m.default("0%"),top:new m.default("0%"),center:new m.default("50%"),right:new m.default("100%"),bottom:new m.default("100%")},B=t.LinearGradient=function e(t,r){A(this,e),this.type=s.LINEAR_GRADIENT,this.colorStops=t,this.direction=r},y=t.RadialGradient=function e(t,r,n,i){A(this,e),this.type=s.RADIAL_GRADIENT,this.colorStops=t,this.shape=r,this.center=n,this.radius=i},x=(t.parseGradient=function(e,t,r){var n=t.args,i=t.method,A=t.prefix;return"linear-gradient"===i?b(n,r,!!A):"gradient"===i&&"linear"===n[0]?b(["to bottom"].concat(H(n.slice(3))),r,!!A):"radial-gradient"===i?C(e,"-webkit-"===A?S(n):n,r):"gradient"===i&&"radial"===n[0]?C(e,H(S(n.slice(1))),r):void 0},function(e,t,n){for(var r=[],i=t;i<e.length;i++){var A=e[i],o=_.test(A),a=A.lastIndexOf(" "),s=new v.default(o?A.substring(0,a):A),l=o?new m.default(A.substring(a+1)):i===t?new m.default("0%"):i===e.length-1?new m.default("100%"):null;r.push({color:s,stop:l})}for(var c=r.map(function(e){var t=e.color,r=e.stop;return{color:t,stop:0===n?0:r?r.getAbsoluteValue(n)/n:null}}),u=c[0].stop,d=0;d<c.length;d++)if(null!==u){var f=c[d].stop;if(null===f){for(var p=d;null===c[p].stop;)p++;for(var h=p-d+1,g=(c[p].stop-u)/h;d<p;d++)u=c[d].stop=u+g}else u=f}return c}),b=function(e,t,r){var n=(0,l.parseAngle)(e[0]),i=u.test(e[0]),A=i||null!==n||d.test(e[0]),o=A?null!==n?Q(r?n-.5*Math.PI:n,t):i?E(e[0],t):U(e[0],t):Q(Math.PI,t),a=A?1:0,s=Math.min((0,f.distance)(Math.abs(o.x0)+Math.abs(o.x1),Math.abs(o.y0)+Math.abs(o.y1)),2*t.width,2*t.height);return new B(x(e,a,s),o)},C=function(e,t,r){var n=t[0].match(h),i=n&&("circle"===n[1]||void 0!==n[3]&&void 0===n[5])?g.CIRCLE:g.ELLIPSE,A={},o={};n&&(void 0!==n[3]&&(A.x=(0,c.calculateLengthFromValueWithUnit)(e,n[3],n[4]).getAbsoluteValue(r.width)),void 0!==n[5]&&(A.y=(0,c.calculateLengthFromValueWithUnit)(e,n[5],n[6]).getAbsoluteValue(r.height)),n[7]?o.x=w[n[7].toLowerCase()]:void 0!==n[8]&&(o.x=(0,c.calculateLengthFromValueWithUnit)(e,n[8],n[9])),n[10]?o.y=w[n[10].toLowerCase()]:void 0!==n[11]&&(o.y=(0,c.calculateLengthFromValueWithUnit)(e,n[11],n[12])));var a={x:void 0===o.x?r.width/2:o.x.getAbsoluteValue(r.width),y:void 0===o.y?r.height/2:o.y.getAbsoluteValue(r.height)},s=F(n&&n[2]||"farthest-corner",i,a,A,r);return new y(x(t,n?1:0,Math.min(s.x,s.y)),i,a,s)},Q=function(e,t){var r=t.width,n=t.height,i=.5*r,A=.5*n,o=(Math.abs(r*Math.sin(e))+Math.abs(n*Math.cos(e)))/2,a=i+Math.sin(e)*o,s=A-Math.cos(e)*o;return{x0:a,x1:r-a,y0:s,y1:n-s}},E=function(e,t){switch(e){case"bottom":case"to top":return Q(0,t);case"left":case"to right":return Q(Math.PI/2,t);case"right":case"to left":return Q(3*Math.PI/2,t);case"top right":case"right top":case"to bottom left":case"to left bottom":return Q(Math.PI+i(t),t);case"top left":case"left top":case"to bottom right":case"to right bottom":return Q(Math.PI-i(t),t);case"bottom left":case"left bottom":case"to top right":case"to right top":return Q(i(t),t);case"bottom right":case"right bottom":case"to top left":case"to left top":return Q(2*Math.PI-i(t),t);case"top":case"to bottom":default:return Q(Math.PI,t)}},U=function(e,t){var r=e.split(" ").map(parseFloat),n=a(r,2),i=n[0],A=n[1],o=i/100*t.width/(A/100*t.height);return Q(Math.atan(isNaN(o)?1:o)+Math.PI/2,t)},F=function(e,t,r,n,i){var A=r.x,o=r.y,a=0,s=0;switch(e){case"closest-side":t===g.CIRCLE?a=s=Math.min(Math.abs(A),Math.abs(A-i.width),Math.abs(o),Math.abs(o-i.height)):t===g.ELLIPSE&&(a=Math.min(Math.abs(A),Math.abs(A-i.width)),s=Math.min(Math.abs(o),Math.abs(o-i.height)));break;case"closest-corner":if(t===g.CIRCLE)a=s=Math.min((0,f.distance)(A,o),(0,f.distance)(A,o-i.height),(0,f.distance)(A-i.width,o),(0,f.distance)(A-i.width,o-i.height));else if(t===g.ELLIPSE){var l=Math.min(Math.abs(o),Math.abs(o-i.height))/Math.min(Math.abs(A),Math.abs(A-i.width)),c=p(i,A,o,!0);s=l*(a=(0,f.distance)(c.x-A,(c.y-o)/l))}break;case"farthest-side":t===g.CIRCLE?a=s=Math.max(Math.abs(A),Math.abs(A-i.width),Math.abs(o),Math.abs(o-i.height)):t===g.ELLIPSE&&(a=Math.max(Math.abs(A),Math.abs(A-i.width)),s=Math.max(Math.abs(o),Math.abs(o-i.height)));break;case"farthest-corner":if(t===g.CIRCLE)a=s=Math.max((0,f.distance)(A,o),(0,f.distance)(A,o-i.height),(0,f.distance)(A-i.width,o),(0,f.distance)(A-i.width,o-i.height));else if(t===g.ELLIPSE){var u=Math.max(Math.abs(o),Math.abs(o-i.height))/Math.max(Math.abs(A),Math.abs(A-i.width)),d=p(i,A,o,!1);s=u*(a=(0,f.distance)(d.x-A,(d.y-o)/u))}break;default:a=n.x||0,s=void 0!==n.y?n.y:a}return{x:a,y:s}},S=t.transformWebkitRadialGradientArgs=function(e){var t="",r="",n="",i="",A=0,o=/^(left|center|right|\d+(?:px|r?em|%)?)(?:\s+(top|center|bottom|\d+(?:px|r?em|%)?))?$/i,a=/^\d+(px|r?em|%)?(?:\s+\d+(px|r?em|%)?)?$/i,s=e[A].match(o);s&&A++;var l=e[A].match(/^(circle|ellipse)?\s*(closest-side|closest-corner|farthest-side|farthest-corner|contain|cover)?$/i);l&&(t=l[1]||"","contain"===(n=l[2]||"")?n="closest-side":"cover"===n&&(n="farthest-corner"),A++);var c=e[A].match(a);c&&A++;var u=e[A].match(o);u&&A++;var d=e[A].match(a);d&&A++;var f=u||s;f&&f[1]&&(i=f[1]+(/^\d+$/.test(f[1])?"px":""),f[2]&&(i+=" "+f[2]+(/^\d+$/.test(f[2])?"px":"")));var p=d||c;return p&&(r=p[0],p[1]||(r+="px")),!i||t||r||n||(r=i,i=""),i&&(i="at "+i),[[t,n,r,i].filter(function(e){return!!e}).join(" ")].concat(e.slice(A))},H=function(r){return r.map(function(e){return e.match(o)}).map(function(e,t){if(!e)return r[t];switch(e[1]){case"from":return e[4]+" 0%";case"to":return e[4]+" 100%";case"color-stop":return"%"===e[3]?e[4]+" "+e[2]:e[4]+" "+100*parseFloat(e[2])+"%"}})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=/([+-]?\d*\.?\d+)(deg|grad|rad|turn)/i;t.parseAngle=function(e){var t=e.match(n);if(t){var r=parseFloat(t[1]);switch(t[2].toLowerCase()){case"deg":return Math.PI*r/180;case"grad":return Math.PI/200*r;case"rad":return r;case"turn":return 2*Math.PI*r}}return null}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.cloneWindow=t.DocumentCloner=void 0;var A=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(e,t,r){return t&&a(e.prototype,t),r&&a(e,r),e},c=r(2),i=r(26),o=s(r(55)),u=r(4),d=r(5),f=s(r(15)),p=r(56);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function s(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=A(e,3),r=t[0],n=t[1],i=t[2];r.scrollLeft=n,r.scrollTop=i}var g=t.DocumentCloner=(n(T,[{key:"inlineAllImages",value:function(n){var t=this;if(this.inlineImages&&n){var r=n.style;Promise.all((0,d.parseBackgroundImage)(r.backgroundImage).map(function(e){return"url"===e.method?t.resourceLoader.inlineImage(e.args[0]).then(function(e){return e&&"string"==typeof e.src?'url("'+e.src+'")':"none"}).catch(function(e){}):Promise.resolve(""+e.prefix+e.method+"("+e.args.join(",")+")")})).then(function(e){1<e.length&&(r.backgroundColor=""),r.backgroundImage=e.join(",")}),n instanceof HTMLImageElement&&this.resourceLoader.inlineImage(n.src).then(function(e){if(e&&n instanceof HTMLImageElement&&n.parentNode){var t=n.parentNode,r=(0,u.copyCSSStyles)(n.style,e.cloneNode(!1));t.replaceChild(r,n)}}).catch(function(e){})}}},{key:"inlineFonts",value:function(r){var n=this;return Promise.all(Array.from(r.styleSheets).map(function(t){return t.href?fetch(t.href).then(function(e){return e.text()}).then(function(e){return v(e,t.href)}).catch(function(e){return[]}):l(t,r)})).then(function(e){return e.reduce(function(e,t){return e.concat(t)},[])}).then(function(e){return Promise.all(e.map(function(t){return fetch(t.formats[0].src).then(function(e){return e.blob()}).then(function(n){return new Promise(function(t,e){var r=new FileReader;r.onerror=e,r.onload=function(){var e=r.result;t(e)},r.readAsDataURL(n)})}).then(function(e){return t.fontFace.setProperty("src",'url("'+e+'")'),"@font-face {"+t.fontFace.cssText+" "})}))}).then(function(e){var t=r.createElement("style");t.textContent=e.join("\n"),n.documentElement.appendChild(t)})}},{key:"createElementClone",value:function(i){var n=this;if(this.copyStyles&&i instanceof HTMLCanvasElement){var e=i.ownerDocument.createElement("img");try{return e.src=i.toDataURL(),e}catch(i){}}if(i instanceof HTMLIFrameElement){var A=i.cloneNode(!1),t=Q();A.setAttribute("data-html2canvas-internal-iframe-key",t);var r=(0,c.parseBounds)(i,0,0),o=r.width,a=r.height;return this.resourceLoader.cache[t]=U(i,this.options).then(function(e){return n.renderer(e,{async:n.options.async,allowTaint:n.options.allowTaint,backgroundColor:"#ffffff",canvas:null,imageTimeout:n.options.imageTimeout,logging:n.options.logging,proxy:n.options.proxy,removeContainer:n.options.removeContainer,scale:n.options.scale,foreignObjectRendering:n.options.foreignObjectRendering,useCORS:n.options.useCORS,target:new f.default,width:o,height:a,x:0,y:0,windowWidth:e.ownerDocument.defaultView.innerWidth,windowHeight:e.ownerDocument.defaultView.innerHeight,scrollX:e.ownerDocument.defaultView.pageXOffset,scrollY:e.ownerDocument.defaultView.pageYOffset},n.logger.child(t))}).then(function(n){return new Promise(function(e,t){var r=document.createElement("img");r.onload=function(){return e(n)},r.onerror=t,r.src=n.toDataURL(),A.parentNode&&A.parentNode.replaceChild((0,u.copyCSSStyles)(i.ownerDocument.defaultView.getComputedStyle(i),r),A)})}),A}if(i instanceof HTMLStyleElement&&i.sheet&&i.sheet.cssRules){var s=[].slice.call(i.sheet.cssRules,0).reduce(function(t,r){try{return r&&r.cssText?t+r.cssText:t}catch(e){return n.logger.log("Unable to access cssText property",r.name),t}},""),l=i.cloneNode(!1);return l.textContent=s,l}return i.cloneNode(!1)}},{key:"cloneNode",value:function(e){var t=e.nodeType===Node.TEXT_NODE?document.createTextNode(e.nodeValue):this.createElementClone(e),r=e.ownerDocument.defaultView,n=e instanceof r.HTMLElement?r.getComputedStyle(e):null,i=e instanceof r.HTMLElement?r.getComputedStyle(e,":before"):null,A=e instanceof r.HTMLElement?r.getComputedStyle(e,":after"):null;this.referenceElement===e&&t instanceof r.HTMLElement&&(this.clonedReferenceElement=t),t instanceof r.HTMLBodyElement&&b(t);for(var o=(0,p.parseCounterReset)(n,this.pseudoContentData),a=(0,p.resolvePseudoContent)(e,i,this.pseudoContentData),s=e.firstChild;s;s=s.nextSibling)s.nodeType===Node.ELEMENT_NODE&&("SCRIPT"===s.nodeName||s.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(s))||this.copyStyles&&"STYLE"===s.nodeName||t.appendChild(this.cloneNode(s));var l=(0,p.resolvePseudoContent)(e,A,this.pseudoContentData);if((0,p.popCounters)(o,this.pseudoContentData),e instanceof r.HTMLElement&&t instanceof r.HTMLElement)switch(i&&this.inlineAllImages(_(e,t,i,a,w)),A&&this.inlineAllImages(_(e,t,A,l,B)),!n||!this.copyStyles||e instanceof HTMLIFrameElement||(0,u.copyCSSStyles)(n,t),this.inlineAllImages(t),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([t,e.scrollLeft,e.scrollTop]),e.nodeName){case"CANVAS":this.copyStyles||m(e,t);break;case"TEXTAREA":case"SELECT":t.value=e.value}return t}}]),T),l=function(e,o){return(e.cssRules?Array.from(e.cssRules):[]).filter(function(e){return e.type===CSSRule.FONT_FACE_RULE}).map(function(e){for(var t=(0,d.parseBackgroundImage)(e.style.getPropertyValue("src")),r=[],n=0;n<t.length;n++)if("url"===t[n].method&&t[n+1]&&"format"===t[n+1].method){var i=o.createElement("a");i.href=t[n].args[0],o.body&&o.body.appendChild(i);var A={src:i.href,format:t[n+1].args[0]};r.push(A)}return{formats:r.filter(function(e){return/^woff/i.test(e.format)}),fontFace:e.style}}).filter(function(e){return e.formats.length})},v=function(e,t){var r=document.implementation.createHTMLDocument(""),n=document.createElement("base");n.href=t;var i=document.createElement("style");return i.textContent=e,r.head&&r.head.appendChild(n),r.body&&r.body.appendChild(i),i.sheet?l(i.sheet,r):[]},m=function(e,t){try{if(t){t.width=e.width,t.height=e.height;var r=e.getContext("2d"),n=t.getContext("2d");r?n.putImageData(r.getImageData(0,0,e.width,e.height),0,0):n.drawImage(e,0,0)}}catch(e){}},_=function(e,t,r,n,i){if(r&&r.content&&"none"!==r.content&&"-moz-alt-content"!==r.content&&"none"!==r.display){var A=t.ownerDocument.createElement("html2canvaspseudoelement");if((0,u.copyCSSStyles)(r,A),n)for(var o=n.length,a=0;a<o;a++){var s=n[a];switch(s.type){case p.PSEUDO_CONTENT_ITEM_TYPE.IMAGE:var l=t.ownerDocument.createElement("img");l.src=(0,d.parseBackgroundImage)("url("+s.value+")")[0].args[0],l.style.opacity="1",A.appendChild(l);break;case p.PSEUDO_CONTENT_ITEM_TYPE.TEXT:A.appendChild(t.ownerDocument.createTextNode(s.value))}}return A.className=y+" "+x,t.className+=i===w?" "+y:" "+x,i===w?t.insertBefore(A,t.firstChild):t.appendChild(A),A}},w=":before",B=":after",y="___html2canvas___pseudoelement_before",x="___html2canvas___pseudoelement_after",b=function(e){C(e,"."+y+w+'{\n    content: "" !important;\n    display: none !important;\n}\n         .'+x+B+'{\n    content: "" !important;\n    display: none !important;\n}')},C=function(e,t){var r=e.ownerDocument.createElement("style");r.innerHTML=t,e.appendChild(r)},Q=function(){return Math.ceil(Date.now()+1e7*Math.random()).toString(16)},E=/^data:text\/(.+);(base64)?,(.*)$/i,U=function(t,r){try{return Promise.resolve(t.contentWindow.document.documentElement)}catch(e){return r.proxy?(0,i.Proxy)(t.src,r).then(function(e){var t=e.match(E);return t?"base64"===t[2]?window.atob(decodeURIComponent(t[3])):decodeURIComponent(t[3]):Promise.reject()}).then(function(n){return F(t.ownerDocument,(0,c.parseBounds)(t,0,0)).then(function(e){var t=e.contentWindow.document;t.open(),t.write(n);var r=S(e).then(function(){return t.documentElement});return t.close(),r})}):Promise.reject()}},F=function(e,t){var r=e.createElement("iframe");return r.className="html2canvas-container",r.style.visibility="hidden",r.style.position="fixed",r.style.left="-10000px",r.style.top="0px",r.style.border="0",r.width=t.width.toString(),r.height=t.height.toString(),r.scrolling="no",r.setAttribute("data-html2canvas-ignore","true"),e.body?(e.body.appendChild(r),Promise.resolve(r)):Promise.reject("")},S=function(r){var n=r.contentWindow,i=n.document;return new Promise(function(t,e){n.onload=r.onload=i.onreadystatechange=function(){var e=setInterval(function(){0<i.body.childNodes.length&&"complete"===i.readyState&&(clearInterval(e),t(r))},50)}})},H=(t.cloneWindow=function(a,s,l,c,e,t){var u=new g(l,c,e,!1,t),d=a.defaultView.pageXOffset,f=a.defaultView.pageYOffset;return F(a,s).then(function(r){var e,t,n,i=r.contentWindow,A=i.document,o=S(r).then(function(){u.scrolledElements.forEach(h),i.scrollTo(s.left,s.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||i.scrollY===s.top&&i.scrollX===s.left||(A.documentElement.style.top=-s.top+"px",A.documentElement.style.left=-s.left+"px",A.documentElement.style.position="absolute");var e=Promise.resolve([r,u.clonedReferenceElement,u.resourceLoader]),t=c.onclone;return u.clonedReferenceElement instanceof i.HTMLElement||u.clonedReferenceElement instanceof a.defaultView.HTMLElement||u.clonedReferenceElement instanceof HTMLElement?"function"==typeof t?Promise.resolve().then(function(){return t(A)}).then(function(){return e}):e:Promise.reject("")});return A.open(),A.write(H(document.doctype)+"<html></html>"),e=l.ownerDocument,t=d,n=f,!e.defaultView||t===e.defaultView.pageXOffset&&n===e.defaultView.pageYOffset||e.defaultView.scrollTo(t,n),A.replaceChild(A.adoptNode(u.documentElement),A.documentElement),A.close(),o})},function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t});function T(e,t,r,n,i){!function(e,t){if(!(e instanceof T))throw new TypeError("Cannot call a class as a function")}(this),this.referenceElement=e,this.scrolledElements=[],this.copyStyles=n,this.inlineImages=n,this.logger=r,this.options=t,this.renderer=i,this.resourceLoader=new o.default(t,r,window),this.pseudoContentData={counters:{},quoteDepth:0},this.documentElement=this.cloneNode(e.ownerDocument.documentElement)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResourceStore=void 0;var n,i=function(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),e},s=(n=r(10))&&n.__esModule?n:{default:n},A=r(26);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=(i(c,[{key:"loadImage",value:function(e){var t=this;if(this.hasResourceInCache(e))return e;if(v(e))return this.cache[e]=_(e,this.options.imageTimeout||0),e;if(!m(e)||s.default.SUPPORT_SVG_DRAWING){if(!0===this.options.allowTaint||h(e)||this.isSameOrigin(e))return this.addImage(e,e,!1);if(!this.isSameOrigin(e)){if("string"==typeof this.options.proxy)return this.cache[e]=(0,A.Proxy)(e,this.options).then(function(e){return _(e,t.options.imageTimeout||0)}),e;if(!0===this.options.useCORS&&s.default.SUPPORT_CORS_IMAGES)return this.addImage(e,e,!0)}}}},{key:"inlineImage",value:function(e){var t=this;return h(e)?_(e,this.options.imageTimeout||0):this.hasResourceInCache(e)?this.cache[e]:this.isSameOrigin(e)||"string"!=typeof this.options.proxy?this.xhrImage(e):this.cache[e]=(0,A.Proxy)(e,this.options).then(function(e){return _(e,t.options.imageTimeout||0)})}},{key:"xhrImage",value:function(i){var A=this;return this.cache[i]=new Promise(function(r,n){var e=new XMLHttpRequest;if(e.onreadystatechange=function(){if(4===e.readyState)if(200!==e.status)n("Failed to fetch image "+i.substring(0,256)+" with status code "+e.status);else{var t=new FileReader;t.addEventListener("load",function(){var e=t.result;r(e)},!1),t.addEventListener("error",function(e){return n(e)},!1),t.readAsDataURL(e.response)}},e.responseType="blob",A.options.imageTimeout){var t=A.options.imageTimeout;e.timeout=t,e.ontimeout=function(){return n("")}}e.open("GET",i,!0),e.send()}).then(function(e){return _(e,A.options.imageTimeout||0)}),this.cache[i]}},{key:"loadCanvas",value:function(e){var t=String(this._index++);return this.cache[t]=Promise.resolve(e),t}},{key:"hasResourceInCache",value:function(e){return void 0!==this.cache[e]}},{key:"addImage",value:function(e,A,o){function t(i){return new Promise(function(e,t){var r=new Image;if(r.onload=function(){return e(r)},i&&!o||(r.crossOrigin="anonymous"),r.onerror=t,r.src=A,!0===r.complete&&setTimeout(function(){e(r)},500),a.options.imageTimeout){var n=a.options.imageTimeout;setTimeout(function(){return t("")},n)}})}var a=this;return this.cache[e]=g(A)&&!m(A)?s.default.SUPPORT_BASE64_DRAWING(A).then(t):t(!0),e}},{key:"isSameOrigin",value:function(e){return this.getOrigin(e)===this.origin}},{key:"getOrigin",value:function(e){var t=this._link||(this._link=this._window.document.createElement("a"));return t.href=e,t.href=t.href,t.protocol+t.hostname+t.port}},{key:"ready",value:function(){var t=this,r=Object.keys(this.cache),e=r.map(function(e){return t.cache[e].catch(function(e){return null})});return Promise.all(e).then(function(e){return new u(r,e)})}}]),c);function c(e,t,r){a(this,c),this.options=e,this._window=r,this.origin=this.getOrigin(r.location.href),this.cache={},this.logger=t,this._index=0}t.default=l;var u=t.ResourceStore=(i(w,[{key:"get",value:function(e){var t=this._keys.indexOf(e);return-1===t?null:this._resources[t]}}]),w),d=/^data:image\/svg\+xml/i,f=/^data:image\/.*;base64,/i,p=/^data:image\/.*/i,h=function(e){return p.test(e)},g=function(e){return f.test(e)},v=function(e){return"blob"===e.substr(0,4)},m=function(e){return"svg"===e.substr(-3).toLowerCase()||d.test(e)},_=function(n,i){return new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,r.src=n,!0===r.complete&&setTimeout(function(){e(r)},500),i&&setTimeout(function(){return t("")},i)})};function w(e,t){a(this,w),this._keys=e,this._resources=t}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseContent=t.resolvePseudoContent=t.popCounters=t.parseCounterReset=t.TOKEN_TYPE=t.PSEUDO_CONTENT_ITEM_TYPE=void 0;var v=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var r=[],n=!0,i=!1,A=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){i=!0,A=e}finally{try{!n&&a.return&&a.return()}finally{if(i)throw A}}return r}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=r(14),a=r(8),m=t.PSEUDO_CONTENT_ITEM_TYPE={TEXT:0,IMAGE:1},_=t.TOKEN_TYPE={STRING:0,ATTRIBUTE:1,URL:2,COUNTER:3,COUNTERS:4,OPENQUOTE:5,CLOSEQUOTE:6},w=(t.parseCounterReset=function(e,t){if(!e||!e.counterReset||"none"===e.counterReset)return[];for(var r=[],n=e.counterReset.split(/\s*,\s*/),i=n.length,A=0;A<i;A++){var o=n[A].split(/\s+/),a=v(o,2),s=a[0],l=a[1];r.push(s);var c=t.counters[s];c||(c=t.counters[s]=[]),c.push(parseInt(l||0,10))}return r},t.popCounters=function(e,t){for(var r=e.length,n=0;n<r;n++)t.counters[e[n]].pop()},t.resolvePseudoContent=function(e,t,r){if(!t||!t.content||"none"===t.content||"-moz-alt-content"===t.content||"none"===t.display)return null;var n=w(t.content),i=n.length,A=[],o="",a=t.counterIncrement;if(a&&"none"!==a){var s=a.split(/\s+/),l=v(s,2),c=l[0],u=l[1],d=r.counters[c];d&&(d[d.length-1]+=void 0===u?1:parseInt(u,10))}for(var f=0;f<i;f++){var p=n[f];switch(p.type){case _.STRING:o+=p.value||"";break;case _.ATTRIBUTE:e instanceof HTMLElement&&p.value&&(o+=e.getAttribute(p.value)||"");break;case _.COUNTER:var h=r.counters[p.name||""];h&&(o+=y([h[h.length-1]],"",p.format));break;case _.COUNTERS:var g=r.counters[p.name||""];g&&(o+=y(g,p.glue,p.format));break;case _.OPENQUOTE:o+=B(t,!0,r.quoteDepth),r.quoteDepth++;break;case _.CLOSEQUOTE:r.quoteDepth--,o+=B(t,!1,r.quoteDepth);break;case _.URL:o&&(A.push({type:m.TEXT,value:o}),o=""),A.push({type:m.IMAGE,value:p.value||""})}}return o&&A.push({type:m.TEXT,value:o}),A},t.parseContent=function(e,t){if(t&&t[e])return t[e];for(var r=[],n=e.length,i=!1,A=!1,o=!1,a="",s="",l=[],c=0;c<n;c++){var u=e.charAt(c);switch(u){case"'":case'"':A?a+=u:(i=!i,o||i||(r.push({type:_.STRING,value:a}),a=""));break;case"\\":A=!A||(a+=u,!1);break;case"(":i?a+=u:(o=!0,s=a,a="",l=[]);break;case")":if(i)a+=u;else if(o){switch(a&&l.push(a),s){case"attr":0<l.length&&r.push({type:_.ATTRIBUTE,value:l[0]});break;case"counter":if(0<l.length){var d={type:_.COUNTER,name:l[0]};1<l.length&&(d.format=l[1]),r.push(d)}break;case"counters":if(0<l.length){var f={type:_.COUNTERS,name:l[0]};1<l.length&&(f.glue=l[1]),2<l.length&&(f.format=l[2]),r.push(f)}break;case"url":0<l.length&&r.push({type:_.URL,value:l[0]})}o=!1,a=""}break;case",":i?a+=u:o&&(l.push(a),a="");break;case" ":case"\t":i?a+=u:a&&(p(r,a),a="");break;default:a+=u}"\\"!==u&&(A=!1)}return a&&p(r,a),t&&(t[e]=r),r}),p=function(e,t){switch(t){case"open-quote":e.push({type:_.OPENQUOTE});break;case"close-quote":e.push({type:_.CLOSEQUOTE})}},B=function(e,t,r){var n=e.quotes?e.quotes.split(/\s+/):["'\"'","'\"'"],i=2*r;return i>=n.length&&(i=n.length-2),t||++i,n[i].replace(/^["']|["']$/g,"")},y=function(e,t,r){for(var n=e.length,i="",A=0;A<n;A++)0<A&&(i+=t||""),i+=(0,o.createCounterText)(e[A],(0,a.parseListStyleType)(r||"decimal"),!1);return i}}],n.c=i,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27);function n(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,i}),define("$",function(e,t){return jQuery.__esModule=!0,jQuery.default=jQuery,jQuery}),define("magix",["$"],function(i){var u=i("$"),A=u.isPlainObject,v=u.isArray,o=0,g=[],a=window,r=document,w=u(r),s=a.setTimeout;function e(){}function B(e){return"object"==typeof e?e:r.getElementById(e)}function l(e){return!e||"object"!=typeof e}function n(e,t,r,n){var i,A,o,a=0;for(o in e)i=e[o],A=t[o],l(i)&&A===i||N(n,o)||(a=r[o]=1),t[o]=i;return a}function c(e,t,r){if(e=B(e),t=B(t),e&&t&&!(r=e==t))try{r=16==(16&t.compareDocumentPosition(e))}catch(e){}return r}var m,d=JSON.stringify,y="\x1e",x="prototype",b="params",C="mx-view",f=/[#?].*$/,p=/([^=&?\/#]+)=?([^&#?]*)/g,h=/(?!^)=|&/,t=function(e){return(e||"mx_")+o++},_={rootId:t(),error:function(e){throw e}};function Q(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])N(t,i)&&(e[i]=t[i]);return e}function E(e,t,r){for(r in t=[],e)N(e,r)&&t.push(r);return t}function U(e){return e.id||(e.$a=1,e.id=t())}function F(e,t){return t.f-e.f||t.t-e.t}var S=_.hasOwnProperty,H=u("head"),T=function(e,t){t&&!T[e]&&(T[e]=1,H.append("<style>"+t))},k=function(e,t,r,n,i){t=t||g,v(e)||(e=[e]),v(t)||(t=[t]);for(var A=0,o=e;A<o.length;A++){i=o[A];try{n=i&&i.apply(r,t)}catch(e){_.error(e)}}return n},N=function(e,t){return e&&S.call(e,t)},I=function(e,t){var r,n;if(l(t))(r=t+"")[0]==y&&N(e,r)&&(t=e[r]);else for(r in t)n=t[r],n=I(e,n),t[r]=n;return t};function M(e,t,r,n){(n=this).c=[],n.b=t||5,n.x=n.b+(e||20),n.r=r}Q(M[x],{get:function(e){var t=this.c[y+e];return t&&(t.f++,t.t=o++,t=t.v),t},each:function(e,t,r,n,i){for(var A=0,o=(r=this).c;A<o.length;A++)e(o[A].v,t,r)},set:function(e,t){var r=this.c,n=y+e,i=r[n],A=this.b;if(!i){if(r.length>=this.x)for(r.sort(F);A--;)0<(i=r.pop()).f&&this.del(i.o);i={o:e},r.push(i),r[n]=i}i.v=t,i.f=1,i.t=o++},del:function(e){e=y+e;var t=this.c,r=t[e],n=this.r;r&&(r.f=-1,r.v="",delete t[e],n&&k(n,r.o))},has:function(e){return N(this.c,y+e)}});function L(e,A){if(e){var o=[],t=void 0;if(a.seajs)seajs.use(e,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=0,n=e;r<n.length;r++){var i=n[r];o.push(i&&i.__esModule&&i.default||i)}A&&A.apply(void 0,o)});else{v(e)||(e=[e]);for(var r=0,n=e;r<n.length;r++)t=n[r],t=i(t),o.push(t&&t.__esModule&&t.default||t);A&&A.apply(void 0,o)}}else A()}function D(){}function O(e,t){t=e.data,e.eventTarget=t.e,k(t.f,e,t.v)}function K(e,t,r,n,i){i&&(t+="."+i.i),n?u(e).off(t,r):u(e).on(t,i,r)}function R(e,t,r){try{r=decodeURIComponent(r)}catch(e){}W[t]=r}function P(e){var t,r=J.get(e);return r||(W={},t=e.replace(f,""),e==t&&h.test(t)&&(t=""),e.replace(t,"").replace(p,R),J.set(e,r={a:t,b:W})),{path:r.a,params:Q({},r.b)}}function z(e,t){var r,n={};if(e)for(var i=0,A=e;i<A.length;i++)r=A[i],n[t&&r?r[t]:r]=t?r:1+(0|n[r]);return n}function X(e,t,r){return q.has(e)?r=q.get(e):(r=k(Function("return "+e)),-1<e.indexOf(y)?I(t,r):q.set(e,r)),r}var W,V=function(e,t,r,n,i){return D[x]=t[x],Q(i=new D,r),Q(e,n),(i.constructor=e)[x]=i,e},G=u.find||u.zepto,Y=G.matchesSelector||G.matches,j=function(e){return e},J=new M,q=new M,$={config:function(e,t){return t=_,e&&(t=A(e)?Q(t,e):t[e]),t},boot:function(e){Q(_,e),L(_.exts,function(){ge().mountView(_.defaultView),oe.on("changed",de)})},toMap:z,toTry:k,toUrl:function(e,t,r){var n,i,A,o=[];for(i in t)n=t[i]+"",(!r||n||N(r,i))&&(n=encodeURIComponent(n),o.push(A=i+"="+n));return A&&(e+=(e&&(~e.indexOf("?")?"&":"?"))+o.join("&")),e},parseUrl:P,mix:Q,has:N,keys:E,inside:c,node:B,applyStyle:T,guid:t,use:L,Cache:M,nodeId:U,guard:j},Z={fire:function(e,t,r,n){var i,A,o,a,s=this[y+e];if(t||(t={}),t.type=e,s)for(A=(i=s.length)-1;i--;)(a=s[o=n?i:A-i]).f?(a.x=1,k(a.f,t,this),a.x=""):a.x||(s.splice(o,1),A--);return(s=this["on"+e])&&k(s,t,this),r&&this.off(e),this},on:function(e,t){var r=y+e;return(this[r]||(this[r]=[])).push({f:t}),this},off:function(e,t){var r,n=y+e,i=this[n];if(t){if(i)for(var A=0,o=i;A<o.length;A++)if((r=o[A]).f==t){r.f="";break}}else delete this[n],delete this["on"+e];return this}};$.Event=Z;function ee(e){for(var t=0,r=e=(e+"").split(",");t<r.length;t++){var n=r[t];N(ne,n)?ne[n]++:ne[n]=1}return e}function te(e){for(var t,r=0,n=e;r<n.length;r++)t=n[r],N(ne,t)&&(--ne[t]||(delete ne[t],delete re[t]))}var re={},ne={},ie={},Ae=0,oe=Q({get:function(e){var t=e?re[e]:re;return t},set:function(e,t){return Ae=n(e,re,ie,t)||Ae,this},digest:function(e,t){(e&&oe.set(e,t),Ae)&&(Ae=0,this.fire("changed",{keys:ie}),ie={})},diff:function(){return ie},clean:function(e){return{ctor:function(){e=ee(e),this.on("destroy",function(){return te(e)})}}}},Z);$.State=oe;function ae(e,t,r,n){return n=(n=(n=fe[e])&&n.$v)?n.$d.$a:{},0<t.indexOf(y)&&I(n,r),n}var se,le,ce=0,ue=function(e,t,r,n,i,A){if(e&&e.$a!=ce&&(r=e.$v)&&1<r.$a){(function(e,t,r){var n,i=e.$os;if(i)for(var A=0,o=i;A<o.length&&(n=o[A],!(r=N(t,n)));A++);return r})(r,t)&&r.$b();for(var o=0,a=e.children();o<a.length;o++)A=a[o],ue(fe[A],t)}},de=function(e,t,r){t=ge(),ce=o++,ue(t,e.keys)},fe={},pe=function(e){if(!e.$b&&!e.$d&&e.$cc==e.$rc){e.$cr||(e.$cr=1,e.$ca=0,e.fire("created"));var t=e.id,r=e.pId,n=fe[r];n&&!N(n.$e,t)&&(n.$e[t]=1,n.$rc++,pe(n))}},he=function(e,t){if(!e.$ca&&e.$cr){e.$cr=0,e.$ca=1,e.fire("alter",t);var r=e.id,n=e.pId,i=fe[n];i&&N(i.$e,r)&&(i.$rc--,delete i.$e[r],he(i,t))}},ge=function(e,t){return se||(m=r.body,B(e=_.rootId)||(m.id=e),se=new _e(e)),se},ve=function(e,t){N(fe,e)||(fe[e]=t,_e.fire("add",{vframe:t}))},me=[];function _e(e,t,r){(r=this).id=e,r.$c={},r.$cc=0,r.$rc=0,r.$g=r.$g||1,r.$e={},r.$f=[],r.pId=t,ve(e,r)}Q(_e,{all:function(){return fe},get:function(e){return fe[e]}},Z),Q(_e[x],Z,{mountView:function(e,t){var r,n,i,A,o,a=this,s=a.id,l=B(s),c=a.pId;!a.$h&&l&&(a.$h=1,a.$i=l.innerHTML),a.unmountView(),a.$b=0,r=P(e||""),i=r.path,l&&i&&(a.path=e,A=r[b],ae(c,e,A),a.$j=r.path,Q(A,t),n=a.$g,L(i,function(e){if(n==a.$g){if(!e)return _.error(Error("id:"+s+" cannot load:"+i));o=st(e),i=new e(s,a,A,l,o),a.$v=i,a.$a=ce,it(i),k(i.init,[A,{node:l,deep:!i.tmpl}],i),i.$b(),i.tmpl||(a.$h=0,i.$e||i.endUpdate())}}))},unmountView:function(){var e,t,r=this,n=r.$v,i=r.id;r.$f=[],n&&(le||(t=1,le={id:i}),r.$b=1,r.unmountZone(0,1),he(r,le),(r.$v=0)<n.$a&&(n.$a=0,delete Qe[i],delete Ee[i],n.fire("destroy",0,1,1),rt(n,1),it(n,1),n.owner=0),n.$a--,(e=B(i))&&r.$h&&u(e).html(r.$i),t&&(le=0)),r.$g++},mountVframe:function(e,t,r){var n,i=this.id,A=this.$c;return he(this,{id:e}),(n=fe[e])||(N(A,e)||(this.$n=0,this.$cc++),A[e]=e,(n=me.pop())?_e.call(n,e,i):n=new _e(e,i)),n.mountView(t,r),n},mountZone:function(e,t){var r,n,i=[];e=e||this.id;var A,o=u("#"+e+" ["+C+"]");this.$d=1;for(var a=0,s=o;a<s.length;a++)(r=s[a]).$b||(n=U(r),r.$b=1,i.push([n,r.getAttribute(C)]));for(var l=0,c=i;l<c.length;l++)n=(A=c[l])[0],r=A[1],this.mountVframe(n,r);this.$d=0,t||pe(this)},unmountVframe:function(e,t){var r;if(e=e?this.$c[e]:this.id,r=fe[e]){var n=r.$cr,i=r.pId;r.unmountView(),function(e,t,r){(r=fe[e])&&(delete fe[e],_e.fire("remove",{vframe:r,fcc:t}),(e=B(e))&&(e.$b=0,e.$a=0))}(e,n),r.id=r.pId=r.$c=r.$e=0,r.$h=0,r.off("alter"),r.off("created"),me.push(r),(r=fe[i])&&N(r.$c,e)&&(delete r.$c[e],r.$n=0,r.$cc--,t||pe(r))}},unmountZone:function(e,t){var r;for(r in this.$c)(!e||r!=e&&c(r,e))&&this.unmountVframe(r,1);t||pe(this)},parent:function(e,t){for(t=this,e=e>>>0||1;t&&e--;)t=fe[t.pId];return t},children:function(e){return(e=this).$n||(e.$n=E(e.$c))},invoke:function(e,t){var r,n,i,A,o,a=this.$f;return(n=this.$v)&&n.$e?r=(i=n[e])&&k(i,t,n):((A=a[o=y+e])&&(A.r=t===A.a),A={n:e,a:t,k:o},a.push(A),a[o]=A),r}}),$.Vframe=_e;function we(e,t){var r,n,i,A,o,a,s=[],l=e,c=e.getAttribute("mx-"+t),u=[],d="#",f=0;if(c&&((o=ye.get(c))||(o={v:(o=c.match(xe)||g)[1],n:o[2],i:o[3]},ye.set(c,o)),o=Q({},o,{r:c})),o&&!o.v||Ce[t]){if((i=Ee[n=l.$d])&&1==i[l.$e]&&(a=1,d=n),!a){for(u.push(l);l!=m&&(l=l.parentNode);){if(fe[n=l.id]||(i=Ee[n=l.$d])&&1==i[l.$e]){d=n;break}u.push(l)}for(var p=0,h=u;p<h.length;p++)c=h[p],(n=Ee[d])||(n=Ee[d]={}),n[i=c.$e||(c.$e=++Ue)]=1,c.$d=d}l=e.id,fe[l]&&(f=d=l);do{if((r=fe[d])&&(a=r.$v)){if(A=(i=a.$so)[t])for(l=A.length;l--;)i={r:n=A[l],v:d,n:n},n?!f&&Y(e,n)&&s.push(i):f&&s.unshift(i);if(a.tmpl&&!f){o&&!o.v&&(o.v=d);break}f=0}}while(r&&(d=r.pId))}return o&&s.push(o),s}function Be(e){for(var t,r,n,i,A,o,a,s=e.target,l=e.type,c=[];s!=m;){if((t=we(s,l)).length){c=[];for(var u=0,d=t;u<d.length;u++){var f=d[u],p=f.v,h=(f.r,f.n),g=f.i;if(o!=p){if(o&&e.isPropagationStopped())break;o=p}(i=(n=fe[p])&&n.$v)?(A=i[h+y+l])&&(e.eventTarget=s,a=g?X(g,i.$d.$a):{},e[b]=a,k(A,e,i)):e.stopPropagation()}}if((r=Qe[A=s.$d])&&(r=r[s.$e])&&r[l]||e.isPropagationStopped()){c.length&&c.push(A);break}o=s.id,fe[o]&&c.push(o),c.push(s),s=s.parentNode||m}if(A=c.length)for(r="#";A--;)(i=c[A]).nodeType?((t=Qe[r])||(t=Qe[r]={}),(a=t[o=i.$e||(i.$e=++Ue)])||(a=t[o]={}),a[l]=1):r=i}var ye=new M(30,10),xe=/(?:([\w\-]+)\x1e)?([^(]+)\(([\s\S]*)?\)/,be={},Ce={},Qe={},Ee={},Ue=0,Fe="http://www.w3.org/2000/svg",Se="http://www.w3.org/1998/Math/MathML",He={option:[1,"<select multiple>"],thead:[1,"<table>"],col:[2,"<table><colgroup>"],tr:[2,"<table><tbody>"],td:[3,"<table><tbody><tr>"],area:[1,"<map>"],param:[1,"<object>"],g:[1,'<svg xmlns="'+Fe+'">'],m:[1,'<math xmlns="'+Se+'">'],_:[0,""]},Te=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i;He.optgroup=He.option,He.tbody=He.tfoot=He.colgroup=He.caption=He.thead,He.th=He.td;var ke=r.implementation.createHTMLDocument(""),Ne=ke.createElement("base");Ne.href=r.location.href,ke.head.appendChild(Ne);function Ie(e,t){var r=U(t);e.$c[r]?e.unmountVframe(r,1):e.unmountZone(r,1)}function Me(e,t){return 1==e.nodeType&&(e.$f?t=e.$g:((t=e.$a?"":e.id)||(t=e.getAttribute("mxs")),t||(t=e.getAttribute(C))&&(t=P(t).path),e.$f=1,e.$g=t)),t}function Le(e,t,r,n,i){for(var A,o,a,s,l,c=e.lastChild,u=t.firstChild,d=0,f={},p={};c;)d++,(a=Me(c))&&(a=f[a]||(f[a]=[])).push(c),c=c.previousSibling;for(;u;)(a=Me(u))&&(p[a]=(p[a]||0)+1),u=u.nextSibling;for(u=t.firstChild,c=e.firstChild;u;)if(d--,u=(A=u).nextSibling,(s=f[a=Me(A)])&&(s=s.pop())){for(;s!=c;)l=c.nextSibling,e.appendChild(c),c=l;c=s.nextSibling,p[a]&&p[a]--,Ve(s,A,e,r,n,i)}else c?(a=Me(o=c))&&f[a]&&p[a]?(d++,r.c=1,r.n.push([8,e,A,o])):(c=c.nextSibling,Ve(o,A,e,r,n,i)):(r.c=1,r.n.push([1,e,A]));for(o=e.lastChild;0<d--;)Ie(n,o),r.n.push([2,e,o]),o=o.previousSibling,r.c=1}function De(e){return""+(null==e?"":e)}function Oe(e){return"&"+Ge[e]+";"}function Ke(e){return De(e).replace(Ye,Oe)}function Re(e,t,r,n){for(n=e[y];--n;)if(e[r=y+n]===t)return r;return e[r=y+e[y]++]=t,r}function Pe(e){return je[e]}function ze(e){return encodeURIComponent(De(e)).replace(Je,Pe)}function Xe(e){return De(e).replace(qe,"\\$&")}var We={INPUT:["value","checked"],TEXTAREA:["value"],OPTION:["selected"]},Ve=function(e,t,r,n,i,A){if(function(e,t){var r,n=e.nodeName,i=We[n],A=0;if(i)for(var o=0,a=i;o<a.length;o++)e[r=a[o]]!=t[r]&&(A=1,e[r]=t[r]);return A}(e,t)||1==e.nodeType&&e.hasAttribute("mxv")||!e.isEqualNode||!e.isEqualNode(t))if(e.nodeName===t.nodeName)if(1===e.nodeType){var o=t.getAttribute("mxs");if(o&&o==e.getAttribute("mxs"))return;var a=t.getAttribute(C),s=t.innerHTML,l=t.getAttribute("mxa"),c=!l||l!=e.getAttribute("mxa"),u=void 0,d=void 0,f=fe[e.id],p=void 0,h=void 0,g=a&&P(a),v=void 0,m=void 0,_=void 0;if(a&&f&&(!t.id||t.id==e.id)&&f.$j==g.path&&(h=f.$v)){if(m=s!=f.$i,_=a!=f.path,p=e.getAttribute("mxv"),!m&&!_&&p)for(var w=0,B=v=p.split(",");w<B.length;w++)if("#"==(p=B[w])||N(A,p)){_=1;break}(_||m)&&(u=(p=h.$e&&h.$f)?(v=g[b],ae(f.pId,a,v),f.$i=s,f.path=a,g={node:t,deep:!h.tmpl,attr:c,inner:m,query:_,keys:A},k(p,[v,g],h)&&n.v.push(h),g.deep):d=1)}else u=1,d=f;d&&(n.c=1,f.unmountVframe(0,1)),c&&function(e,t,r,n){var i,A,o,a;delete e.$f;var s=e.attributes,l=t.attributes;for(A=s.length;A--;)i=s[A].name,t.hasAttribute(i)||("id"==i?n||r.d.push([e,""]):(r.c=1,e.removeAttribute(i)));for(A=l.length;A--;)o=(i=l[A]).name,a=i.value,e.getAttribute(o)!=a&&("id"==o?r.d.push([e,a]):(r.c=1,e.setAttribute(o,a)))}(e,t,n,f&&a),u&&Le(e,t,n,i,A)}else e.nodeValue!==t.nodeValue&&(n.c=1,e.nodeValue=t.nodeValue);else Ie(i,e),n.c=1,n.n.push([4,r,t,e])},Ge={"&":"amp","<":"lt",">":"gt",'"':"#34","'":"#39","`":"#96"},Ye=/[&<>"'\`]/g,je={"!":"%21","'":"%27","(":"%28",")":"%29","*":"%2A"},Je=/[!')(*]/g,qe=/[\\'"]/g,$e=function(t,r){function e(e){r.i<r.length?$e(t,r):(c=r.slice(),r.i=r.length=0,e&&l.fire("domready"),k(c))}var n,i,A=t.$k,o=t.$c,a=t.$b,s=fe[a],l=s&&s.$v,c={d:[],v:[],n:[]},u=B(a),d=t.$d,f=t.$a;if(r.i=r.length,t.$c=0,t.$k={},o&&l&&0<l.$a&&(n=l.tmpl)&&l.$d==t){l.fire("dompatch"),delete Qe[a],delete Ee[a],i=function(e,t){var r,n=ke.createElement("div"),i=t.namespaceURI;r=i==Fe?"g":i==Se?"m":(Te.exec(e)||[0,""])[1];var A=He[r]||He._;n.innerHTML=A[1]+e;for(var o=A[0];o--;)n=n.lastChild;return n}(n(d,a,f,Ke,De,ze,Re,Xe),u),Le(u,i,c,s,A);for(var p=0,h=c.d;p<h.length;p++)(i=h[p])[0].id=i[1];for(var g=0,v=c.n;g<v.length;g++)1==(i=v[g])[0]?i[1].appendChild(i[2]):2==i[0]?i[1].removeChild(i[2]):4==i[0]?i[1].replaceChild(i[2],i[3]):i[1].insertBefore(i[2],i[3]);s.$d=n=c.c||!l.$e;for(var m=0,_=c.v;m<_.length;m++)(i=_[m]).$b();n&&l.endUpdate(a),c.c&&w.trigger({type:"htmlchanged",vId:a}),e(1)}else e()};function Ze(e){var t;this.$b=e,this.$c=1,this.$d={vId:e},this.$a=((t={})[y]=1,t),this.$e=[],this.$k={}}Q(Ze[x],{get:function(e,t){return t=this.$d,e&&(t=t[e]),t},set:function(e,t){return this.$c=n(e,this.$d,this.$k,t)||this.$c,this},digest:function(e,t,r){var n=this.set(e,t),i=n.$e;r&&i.push(r),i.i||$e(n,i)},snapshot:function(){return this.$f=d(this.$d),this},altered:function(){if(this.$f)return this.$f!=d(this.$d)},translate:function(e){return I(this.$d,e)},parse:function(e){return X(e,this.$a)}});function et(e,t,r){return e.a?r=e:((r=function(e){k(r.a,e,this)}).a=[e],r.b=1),r.a=r.a.concat(t.a||t),r}var tt=/^(\$?)([^<]*)<([^>]+)>(?:&(.+))?$/,rt=function(e,t){var r,n,i=e.$r;for(r in i)n=i[r],(t||n.x)&&nt(i,r,1)},nt=function(e,t,r,n){var i,A,o=e[t];return o&&o!=n&&((i=(A=o.e).destroy)&&r&&k(i,g,A),delete e[t]),A},it=function(e,t){var r,n,i,A,o,a,s=e.$eo,l=e.$so,c=e.$el,u=e.id;for(r in s)i=l[n=r],A=t,void 0,o=0|be[n],a=A?-1:1,o&&A!==o||K(m,n,Be,A),be[n]=o+a,i&&(Ce[n]=(0|Ce[n])+a);for(var d=0,f=c;d<f.length;d++)r=f[d],K(r.e,r.n,O,t,{i:u,v:e,f:r.f,m:r.m,e:r.e})},At={win:a,doc:r},ot=function(e,t,r){for(var n,i,A,o,a={},s=0,l=e;s<l.length;s++)for(n in i=l[s])A=i[n],o=a[n],"ctor"!=n?(tt.test(n)&&(o?A=et(o,A):A.b=1),a[n]=A):r.push(A);for(n in a)N(t,n)||(t[n]=a[n])};function at(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=this._||(this._=[]);return ot(e,this[x],r),this}var st=function(e){if(!e[y]){e[y]=[];var t=e[x],r=void 0,n=void 0,i=void 0,A=void 0,o={},a=[],s={},l=void 0,c=void 0,u=void 0,d=void 0,f=void 0,p=void 0,h=void 0;for(u in(n=t.mixins)&&ot(n,t,e[y]),t)if(r=t[u],n=u.match(tt)){if(c=n[1],i=n[2],A=n[3],p={},h=n[4])for(var g=0,v=h=h.split(",");g<v.length;g++)p[d=v[g]]=!0;for(var m=0,_=A=A.split(",");m<_.length;m++){if(d=_[m],l=At[i],f=1,c){if(l){a.push({f:r,e:l,n:d,m:p});continue}f=2,(l=s[d])||(l=s[d]=[]),l[i]||(l[i]=1,l.push(i))}o[d]=o[d]|f,(l=t[d=i+y+d])?l.b&&(r.b?t[d]=et(r,l):N(t,u)&&(t[d]=r)):t[d]=r}}!function(e,t,r,n,i){n=e[t],e[t]=e[r]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];0<(i=this).$a&&(i.$a++,i.fire("rendercall"),rt(i),k(n,e,i))}}(t,"render","$b"),t.$eo=o,t.$el=a,t.$so=s,t.$f=t.assign}return e[y]};function lt(e,t,r,n,i){(i=this).owner=t,i.id=e,i.$r={},i.$a=1,i.updater=i.$d=new Ze(i.id),(e=lt._)&&k(e,[r,{node:n,deep:!i.tmpl}],i)}Q(lt,{merge:at,extend:function e(t,r){var l=this,n=(t=t||{}).ctor,c=[];function u(e,t,r,n,i,A,o,a,s){l.call(o=this,e,t,r,n,i),A=u._,a=[r,{node:n,deep:!o.tmpl}],A&&k(A,a,o),(s=c.concat(i)).length&&k(s,a,o)}return n&&c.push(n),u.merge=at,u.extend=e,V(u,l,t,r)}}),Q(lt[x],Z,{init:e,beginUpdate:function(e,t){0<(t=this).$a&&t.$e&&t.owner.unmountZone(e,1)},endUpdate:function(e,t,r,n,i){0<(r=this).$a&&(e=e||r.id,t?i=t:(i=r.$e,r.$e=1),(n=r.owner).mountZone(e,t),i||s(r.wrapAsync(function(){!function(e,t,r){for(t=e.$f;t.length;)(r=t.shift()).r||e.invoke(r.n,r.a),delete t[r.k]}(n)}),0))},wrapAsync:function(r,n){var i=this,A=i.$a;return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0<A&&A==i.$a)return r.apply(n||i,e)}},observeState:function(e){this.$os=(e+"").split(",")},capture:function(e,t,r,n){return n=this.$r,t?(nt(n,e,1,t),n[e]={e:t,x:r}):t=(n=n[e])&&n.e,t},release:function(e,t){return nt(this.$r,e,t)},render:e}),$.View=lt;var ct=u.type,ut=Date.now;function dt(){this.id=t("b"),this.$={}}Q(dt[x],{get:function(e,t){var r=this.$;if(e){for(var n=v(e)?e.slice():(e+"").split("."),i=void 0;(i=n.shift())&&r;)r=r[i];i&&(r=void 0)}return void 0!==t&&ct(t)!=ct(r)&&(r=t),r},set:function(e,t){var r;A(e)||((r={})[e]=t,e=r),Q(this.$,e)}});function ft(e,t,r){(r=this[e])&&(delete this[e],k(r,t,r.e))}var pt=function(e,t,r,n,i){if(e.$d)return e;if(e.$e)return e.enqueue(pt.bind(e,e,t,r,n,i));e.$e=1,v(t)||(t=[t]);for(var A=e.constructor,o=0,a=A.$f,s=function(a,s,l,c,u,d){var f=[],p=null,h=0;return function(e,t){h++;var r,n,i=this.$b,A=i.k;if(f[e+1]=this,t?(p=t,r=1):d.has(A)||(A&&d.set(A,this),i.t=ut(),(n=i.a)&&k(n,this,this),(n=i.x)&&s.clear(n),r=1),!l.$d){var o=h==c;o&&(l.$e=0,2==u&&(f[0]=p,k(a,f,l))),1==u&&k(a,[t||null,this,o,e],l)}r&&s.fire("end",{bag:this,error:t})}}(r,A,e,t.length,n,A.$c),l=0,c=t;l<c.length;l++){var u=c[l];if(u){var d=A.get(u,i),f=d.e,p=f.$b.k,h=s.bind(f,o++),g=void 0;p&&a[p]?a[p].push(h):d.u?(p&&((g=[h]).e=f,a[p]=g,h=ft.bind(a,p)),A.$s(f,h)):h()}}return e};function ht(){var e=this;e.id=t("s"),e.$g=[]}Q(ht[x],{all:function(e,t){return pt(this,e,t,2)},save:function(e,t){return pt(this,e,t,2,1)},one:function(e,t){return pt(this,e,t,1)},enqueue:function(e){return this.$d||(this.$g.push(e),this.dequeue(this.$h)),this},dequeue:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r,n=this;n.$e||n.$d||(n.$e=1,s(function(){n.$e=0,n.$d||(r=n.$g.shift())&&k(r,n.$h=e)},0))},destroy:function(e){(e=this).$d=1,e.$g=0}});function gt(e,t,r){return[d(t),d(e)].join(y)}function vt(e,t,r,n){(n=e&&e.$b)&&t[n.n]&&r.del(n.k)}var mt=Q({add:function(e){var t,r=this.$b;v(e)||(e=[e]);for(var n=0,i=e;n<i.length;n++)if(t=i[n]){var A=t.name,o=t.cache;t.cache=0|o,r[A]=t}},create:function(e){var t=this.meta(e),r=0|e.cache||t.cache,n=new dt;n.set(t),n.$b={n:t.name,a:t.after,x:t.cleans,k:r&&gt(t,e)},A(e)&&n.set(e);var i=t.before;return i&&k(i,n,n),this.fire("begin",{bag:n}),n},meta:function(e){return this.$b[e.name||e]||e},get:function(e,t){var r,n;return t||(r=this.cached(e)),r||(r=this.create(e),n=1),{e:r,u:n}},clear:function(e){this.$c.each(vt,z((e+"").split(",")))},cached:function(e){var t,r,n=this.$c,i=this.meta(e),A=0|e.cache||i.cache;if(A&&(r=gt(i,e)),r){var o=this.$f[r];o?t=o.e:(t=n.get(r))&&ut()-t.$b.t>A&&(n.del(r),t=0)}return t}},Z);return ht.extend=function(e,t,r){function n(){ht.call(this)}return n.$s=e,n.$c=new M(t,r),n.$f={},n.$b={},V(n,ht,null,mt)},$.Service=ht,$.default=$});var Designer={init:function(A){var e=document.getElementById("boot").src.replace("/editor.js","");seajs.config({paths:{element:e+"/element",editor:e+"/editor",gallery:e+"/gallery",util:e+"/util",i18n:e+"/i18n"}}),seajs.use(["magix","i18n/index"],function(e,t){var r=window.localStorage,n="zh-cn";r&&(n=r.getItem("l.lang")||n),e.config({lang:n}),e.config(A);var i=t.default;e.applyStyle("pe-_",'body,dd,dl,form,h4,input,ol,p,pre,tbody,td,textarea,tfoot,th,thead,ul{margin:0;padding:0}ol,ul{list-style-type:none;list-style-image:none}a{background-color:transparent}a:active,a:hover{outline-width:0}a:focus{outline:1px dotted}html{-webkit-text-size-adjust:100%;-moz-text-size-adjust:100%;-ms-text-size-adjust:100%;text-size-adjust:100%;font-size:62.5%}body{font-size:14px;line-height:1.8}body,button,input,textarea{font-family:helvetica neue,arial,hiragino sans gb,stheiti,wenquanyi micro hei,sans-serif;-ms-text-autospace:ideograph-alpha ideograph-numeric ideograph-parenthesis;-ms-text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis;text-spacing:ideograph-alpha ideograph-numeric ideograph-parenthesis}h4{font-weight:400;font-size:18px}pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word;overflow:auto}table{border-collapse:collapse;border-spacing:0}th{text-align:left}td,th{border:1px solid #ddd;padding:8px 10px}th{font-weight:inherit;border-bottom-width:2px;border-bottom-color:#ccc}img{border-style:none;width:auto\\9;height:auto;max-width:100%;vertical-align:top;-ms-interpolation-mode:bicubic}svg:not(:root){overflow:hidden}button,input,textarea{font-family:inherit;font-size:100%;margin:0;vertical-align:middle;*vertical-align:middle}button,input{*overflow:visible}button{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;-moz-appearance:button;appearance:button;cursor:pointer}button[disabled],input[disabled]{cursor:not-allowed}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0;*height:13px;*width:13px}button::-moz-focus-inner,input::-moz-focus-inner{border-style:none;padding:0}textarea{overflow:auto;resize:vertical}@media screen and (-webkit-min-device-pixel-ratio:0){input{line-height:normal!important}}input::-moz-placeholder,textarea::-moz-placeholder{color:#a9a9a9;opacity:1}label{cursor:pointer}html{box-sizing:border-box}*,:after,:before{box-sizing:inherit}a:focus,button:focus,input:focus,textarea:focus{outline:none;resize:none}a{color:#06f;text-decoration:none}a:focus,a:hover{color:#0e63e2}a:active,a:focus,a:hover,a:visited{outline:0;text-decoration:none}label{cursor:default;display:inline-block;max-width:100%;font-weight:400}::-ms-clear{display:none}@font-face{font-family:pe-a;src:url("data:application/x-font-woff;charset=utf-8;base64,d09GRgABAAAAAAcsAAsAAAAACqQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADMAAABCsP6z7U9TLzIAAAE8AAAARAAAAFZXOEjOY21hcAAAAYAAAACWAAACCs4hbhBnbHlmAAACGAAAAugAAAO0BG1azWhlYWQAAAUAAAAALwAAADYPpP4TaGhlYQAABTAAAAAcAAAAJAfeA4pobXR4AAAFTAAAABQAAAAkI+kAAGxvY2EAAAVgAAAAFAAAABQEcAVsbWF4cAAABXQAAAAfAAAAIAEYAF1uYW1lAAAFlAAAAUUAAAJtPlT+fXBvc3QAAAbcAAAATwAAAGizaRo4eJxjYGRgYOBikGPQYWB0cfMJYeBgYGGAAJAMY05meiJQDMoDyrGAaQ4gZoOIAgCKIwNPAHicY2Bk/ss4gYGVgYOpk+kMAwNDP4RmfM1gxMjBwMDEwMrMgBUEpLmmMDgwVDy7z9zwv4EhhrmB4RRQmBEkBwA4Ig2aeJzFkbsNwzAMRE+RP0IQwEEG8AReyl1Kl+68g5Eqy7m7NZyj6EZI6viEJ4AnkRJIADWAKAZRAeGNANNLbsh+xDX7FZ6KH7jLuWBmYseeIxeu3PZdZ7+8UkH55TIvIql6raoNWhnNV97fFM57utQt79MRJTEf6ItMjk2OnWN32Ds2SY6OTZiLow6Dq6Neg5uD9gPbdC1VAAB4nH1SO2sUURi9370zd3Zmd+48dh77yr4mO7MmutlsxkkR3DQ2GgtBCAhaCBY2SrAwjUUw5CEo+A/EoAgR1LBpArEUQVBs3MrCYEAbY+xsMnpHV0ghDsM9936cj+9xDhIR+rlDtkkOZVETjaOT6CxCQEehzvAQ1IKwhUfBrom2azESeEFN8uotcgLcOrWcThT6LpWoBgzKMFHrREELB3A87OIp6DhDAPli4ZzZKJnkHii5oLwUn8ZrYFe8ktY9Fp86Om11qtnUfMY086Z5J0VFMYWxoDG46jqyKCs0fihqBXu7cgRXIJMPCmfOq9WieWk1vDbUcGWAhQXIFqvs8bRRMPh/s+Bkzbykq6lcQfWGLZjfTeeymSH/E+If5rNG5AfxURpNJVMiyUFuhCZ9RFzH0oDWx8CvDzCchigcYKcCTmeACc/CqB/vUgqlfh9KlMa7ZxYZa2gNbZH5bJFjg7FFVf1XkPic3j+UfrD3/4RDwT8z3CIH5AbKowZCYuAHXTjegoCBVAa3E006Sa9R2OCxLkzyGAPy9aMkj7bFvc3NPZGfM0uRIH00RqoHmys9Qnorv09vRxKipZneN0H41uPE9qgs7WjVkZecsNwThN7ySg8Br79AhskC9wuSsWPRegCuH062x/l6HIvY8Syss3JTizWPMXirNctkJJ6NZ/mFwXdPa+rwRis3uR6QiEIu4s9cDwQ1wzNqds2YMGrkQry/Gu+Dvgo69EEfvNDfHPwS9pL6v8UKfG7FSuK/KFEMvxBNae0+NTPicyKTtLghwhdRXFsTlaz0jAhAN4j5t/YsbCGCUJbXfYLXD/jz+sAn78lrMoJaaIxTJcpXym3uJbbg6rcwLzQGLegCv0xz6CRL5z1gKpGtR7oQYJpWtUz6nW2/UosOg7agP1Uk2WKfnPQV6pZcejntfGaWLCnw4K7h7Kp2SqZzijInYd1Wv7j6baVQNHBTsD5kNC3zwRKa2CgWFN7eL0lutBh4nGNgZGBgAGLnEJdv8fw2Xxm4WRhA4JrTXQME/d+MhYG5AcjlYGACiQIAFvYJkgB4nGNgZGBgbvjfwBDDwgACQJKRARVwAgBHDwJyeJxjYWBgYH7JwMDCgBsDAB8LAQ0AAAAAAHYA2AEYAT4BWAF8AYoB2nicY2BkYGDgZAhkYGUAASYg5gJCBob/YD4DABGZAXYAeJxlj01OwzAQhV/6B6QSqqhgh+QFYgEo/RGrblhUavdddN+mTpsqiSPHrdQDcB6OwAk4AtyAO/BIJ5s2lsffvHljTwDc4Acejt8t95E9XDI7cg0XuBeuU38QbpBfhJto41W4Rf1N2MczpsJtdGF5g9e4YvaEd2EPHXwI13CNT+E69S/hBvlbuIk7/Aq30PHqwj7mXle4jUcv9sdWL5xeqeVBxaHJIpM5v4KZXu+Sha3S6pxrW8QmU4OgX0lTnWlb3VPs10PnIhVZk6oJqzpJjMqt2erQBRvn8lGvF4kehCblWGP+tsYCjnEFhSUOjDFCGGSIyujoO1Vm9K+xQ8Jee1Y9zed0WxTU/3OFAQL0z1xTurLSeTpPgT1fG1J1dCtuy56UNJFezUkSskJe1rZUQuoBNmVXjhF6XNGJPyhnSP8ACVpuyAAAAHicbccxDoAgDAXQfkQEbsOR6gLVpAykCeH0xrj6tkeOPpn+JThs8NgRcCAiIRNmqMZ6ShjdhvU4hbUu6/4SLnE11pulvFM/RSvRA98yEWMA") format("woff")}.pe-_{font-family:pe-a;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pe-a{margin-top:5px}.pe-b{margin-top:30px}.pe-c{margin-right:5px}.pe-d{margin-right:10px}.pe-e{margin-right:20px}.pe-f{margin-right:30px}.pe-g{margin-left:5px}.pe-h{margin-left:10px}.pe-i{padding-top:10px}.pe-j{padding-right:5px}.pe-k{padding-left:5px}.pe-l{padding-left:10px}.pe-m{width:100%}.pe-n{height:100%}.pe-o{text-align:center}.pe-p{float:left}.pe-q{float:right}html .pe-r{display:inline-block}.pe-s{cursor:pointer}.pe-t{position:absolute}.pe-u{position:relative}html .pe-v{display:none}.pe-w:after,.pe-w:before{content:" ";display:table}.pe-w:after{clear:both}.pe-x{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pe-y{word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.pe-y,.pe-z{white-space:nowrap}.pe-z{outline:none;display:inline-block;font-weight:400;text-align:center;vertical-align:middle;cursor:pointer;background-image:none;background-color:#ccc;padding:5.5px 14px;font-size:14px;line-height:1;border:0;color:#333;border-radius:4px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pe-z:focus,.pe-z:hover{background-color:#a0a0a0;color:#333}.pe-A{background-color:#06f;color:#fff}.pe-A:focus,.pe-A:hover{background-color:#0e63e2;color:#fff}.pe-z[disabled]{background-color:#fbfbfb}.pe-z[disabled]:hover{border-color:#e6e6e6}::-webkit-input-placeholder{color:#999}:-ms-input-placeholder{color:#999}::-ms-input-placeholder{color:#999}::placeholder{color:#999}::-moz-selection{background-color:#a0a0a0}::selection{background-color:#a0a0a0}.pe-B,.pe-C{caret-color:#06f;display:inline-block;height:25px;padding:3px 4px;border-radius:4px;box-sizing:border-box;box-shadow:none;border:1px solid #e6e6e6;background-color:#fff;color:#333;width:140px;vertical-align:middle;max-width:100%;outline:none}.pe-B:hover,.pe-C:hover{border-color:#ccc}.pe-B:focus,.pe-C:focus,.pe-D,.pe-D:hover{border-color:#06f!important}.pe-C{height:auto}.pe-B[disabled],.pe-C[disabled]{background-color:#fbfbfb}.pe-B[disabled]:hover,.pe-C[disabled]:hover{cursor:not-allowed;border-color:#e6e6e6}.pe-E{width:32px;height:16px;-webkit-appearance:none;-moz-appearance:none;appearance:none;vertical-align:middle;border-radius:8px;background-color:#ccc;margin-right:8px;cursor:pointer;position:relative}.pe-E,.pe-E:after{transition:all .25s}.pe-E:after{content:"";display:block;position:absolute;height:12px;width:12px;background:#fff;margin:2px;border-radius:50%;left:0}.pe-E:disabled,.pe-E:disabled:checked{background-color:#d8d8d8}.pe-E:checked:after{margin-left:-15px;left:100%}.pe-E:checked{background-color:#06f}.pe-F{margin-bottom:8px}.pe-G{height:25px;text-align:right;width:98px;vertical-align:top;white-space:nowrap;word-wrap:normal;overflow:hidden;text-overflow:ellipsis}.pe-G,.pe-H{line-height:25px}.pe-H{display:inline-block;position:relative;min-height:25px}.pe-I{padding:150px 0;margin:0 auto;width:150px;text-align:center;line-height:0}.pe-I:after,.pe-I:before{content:""}.pe-I:after,.pe-I:before,.pe-J{width:14px;height:14px;background-color:#ccc;border-radius:100%;display:inline-block;-webkit-animation:pe-_ 1s ease-in-out infinite both;animation:pe-_ 1s ease-in-out infinite both}.pe-I:before{-webkit-animation-delay:-.32s;animation-delay:-.32s}.pe-J{margin:0 10px;-webkit-animation-delay:-.16s;animation-delay:-.16s}@-webkit-keyframes pe-_{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes pe-_{0%,80%,to{-webkit-transform:scale(0);transform:scale(0)}40%{-webkit-transform:scale(1);transform:scale(1)}}.pe-K{padding:8px 25px;border-bottom:1px solid #e6e6e6;color:#333;margin:0;line-height:1.42857143}.pe-L{padding:18px 25px}.pe-M{padding:8px 25px;text-align:left;border-top:1px solid #e6e6e6}#app,body,html{height:100%;overflow:hidden}@font-face{font-family:pe-b;src:url(//at.alicdn.com/t/font_550514_i9xewk87fqd.eot);src:url(//at.alicdn.com/t/font_550514_i9xewk87fqd.eot#iefix) format("embedded-opentype"),url(//at.alicdn.com/t/font_550514_i9xewk87fqd.woff) format("woff"),url(//at.alicdn.com/t/font_550514_i9xewk87fqd.ttf) format("truetype"),url(//at.alicdn.com/t/font_550514_i9xewk87fqd.svg#iconfont) format("svg")}.pe-N{font-family:pe-b;line-height:1;font-size:16px;font-style:normal;font-weight:400;font-variant:normal;display:inline-block;speak:none;position:relative;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.pe-O{width:140px;text-align:left;height:25px;line-height:20px;padding:3px 4px}'),e.View.merge({ctor:function(){this.updater.set({i18n:i})}}),document.title=i("_dV"),e.State.on("__p",function(e){document.title=i("_dV"),r&&r.setItem("l.lang",e.lang)}),e.boot({defaultPath:"/index",defaultView:"editor/index",rootId:"app",error:function(e){setTimeout(function(){throw e},0)}})})}};define("gallery/mx-cell/focus",["magix","$","../../util/table"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i=e("$"),A=e("../../util/table");n.default.applyStyle("pe-m",".pe-bN{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.pe-bO{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.pe-bO:hover{background:#ccc}.pe-bP{width:16px;margin:2px}.pe-bQ,.pe-bQ:hover{background:#06f;color:#fff}.pe-bR,.pe-bR .pe-bO{cursor:not-allowed;opacity:.7}.pe-bR .pe-bO,.pe-bR .pe-bO:hover{background:#e9e9e9}.pe-bR .pe-bQ,.pe-bR .pe-bQ:hover{background:#6aa5ff}.pe-bS{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.pe-bT{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.pe-bU{-webkit-transform:rotate(270deg);transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.disabled,c=e.i18n;return s+='<ul class="pe-x pe-bN',l&&(s+=" pe-bR"),s+='"><li title="'+n(c("_ft"))+'" class="pe-p pe-bO pe-N" mx-click="'+t+"\x1e__bv({key:'left'})\">&#xe616;</li><li title=\""+n(c("_fu"))+'" class="pe-p pe-bO pe-N pe-bS" mx-click="'+t+"\x1e__bv({key:'right'})\">&#xe616;</li><li title=\""+n(c("_fv"))+'" class="pe-p pe-bO pe-N pe-bT" mx-click="'+t+"\x1e__bv({key:'top'})\">&#xe616;</li><li title=\""+n(c("_fw"))+'" class="pe-p pe-bO pe-N pe-bU" mx-click="'+t+"\x1e__bv({key:'bottom'})\">&#xe616;</li></ul>"},init:function(e){this.assign(e),this.__q=i.default("#"+this.id)},assign:function(e){return this.__fs=e.props,this.updater.set({disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bv<click>":function(e){var t=e.params.key,r=this.__fs;A.default.__fh(r,t)&&this.__q.trigger("change")}})}),define("gallery/mx-cell/index",["magix","$","../../util/table"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i=e("$"),A=e("../../util/table");n.default.applyStyle("pe-m",".pe-bN{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.pe-bO{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.pe-bO:hover{background:#ccc}.pe-bP{width:16px;margin:2px}.pe-bQ,.pe-bQ:hover{background:#06f;color:#fff}.pe-bR,.pe-bR .pe-bO{cursor:not-allowed;opacity:.7}.pe-bR .pe-bO,.pe-bR .pe-bO:hover{background:#e9e9e9}.pe-bR .pe-bQ,.pe-bR .pe-bQ:hover{background:#6aa5ff}.pe-bS{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.pe-bT{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.pe-bU{-webkit-transform:rotate(270deg);transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.disabled,c=e.i18n;s+='<ul class="pe-x pe-bN',l&&(s+=" pe-bR"),s+='">';var u="//img.alicdn.com/tfs/";return s+='<li class="pe-p pe-bO" title="'+n(c("__ad"))+'" mx-click="'+t+'\x1e__bv({type:\'rt\'})"><img class="pe-bP" src="'+n(u)+'TB1CxUfuTqWBKNjSZFAXXanSpXa-200-200.svg"/></li><li class="pe-p pe-bO" title="'+n(c("__ae"))+'" mx-click="'+t+'\x1e__bv({type:\'rb\'})"><img class="pe-bP" src="'+n(u)+'TB1w9NvuP7nBKNjSZLeXXbxCFXa-200-200.svg"/></li><li class="pe-p pe-bO" title="'+n(c("__ag"))+'" mx-click="'+t+'\x1e__bv({type:\'cb\'})"><img class="pe-bP" src="'+n(u)+'TB1ylQtuRsmBKNjSZFsXXaXSVXa-200-200.svg"/></li><li class="pe-p pe-bO" title="'+n(c("__ah"))+'" mx-click="'+t+'\x1e__bv({type:\'ca\'})"><img class="pe-bP" src="'+n(u)+'TB1efU6uOMnBKNjSZFCXXX0KFXa-200-200.svg"/></li><li class="pe-p pe-bO" title="'+n(c("__af"))+'" mx-click="'+t+'\x1e__bv({type:\'r\'})"><img class="pe-bP" src="'+n(u)+'TB16QchuRsmBKNjSZFFXXcT9VXa-200-200.svg"/></li><li class="pe-p pe-bO" title="'+n(c("__ai"))+'" mx-click="'+t+'\x1e__bv({type:\'c\'})"><img class="pe-bP" src="'+n(u)+'TB13fs.uHArBKNjSZFLXXc_dVXa-200-200.svg"/></li></ul><ul class="pe-x pe-bN',l&&(s+=" pe-bR"),s+='" style="display:block"><li class="pe-p pe-bO" title="'+n(c("_fz"))+'" mx-click="'+t+'\x1e__fy({type:\'ml\'})"><i mxs="pe-w:_" class="pe-N pe-bS">&#xe603;</i></li><li class="pe-p pe-bO" title="'+n(c("_fA"))+'" mx-click="'+t+'\x1e__fy({type:\'mr\'})"><i mxs="pe-w:a" class="pe-N">&#xe603;</i></li><li class="pe-p pe-bO" title="'+n(c("_fB"))+'" mx-click="'+t+'\x1e__fy({type:\'mu\'})"><i mxs="pe-w:b" class="pe-N pe-bU">&#xe603;</i></li><li class="pe-p pe-bO" title="'+n(c("_fC"))+'" mx-click="'+t+'\x1e__fy({type:\'md\'})"><i mxs="pe-w:c" class="pe-N pe-bT">&#xe603;</i></li><li class="pe-p pe-bO" title="'+n(c("_fD"))+'" mx-click="'+t+'\x1e__fy({type:\'sh\'})"><i mxs="pe-w:d" class="pe-N">&#xe672;</i></li><li class="pe-p pe-bO" title="'+n(c("_fE"))+'" mx-click="'+t+'\x1e__fy({type:\'sv\'})"><i mxs="pe-w:e" class="pe-N pe-bT">&#xe672;</i></li></ul>'},init:function(e){this.assign(e),this.__q=i.default("#"+this.id)},assign:function(e){return this.updater.set({props:e.props,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bv<click>":function(e){var t=this.updater.get();this.updater.get("disabled")||A.default.__fl(t.props,e.params.type)&&this.__q.trigger("change")},"__fy<click>":function(e){var t=this.updater.get();this.updater.get("disabled")||A.default.__fx(t.props,e.params.type)&&this.__q.trigger("change")}})}),define("gallery/mx-cell/size",["$","magix","../../util/converter","../../util/table","../mx-number/index"],function(e,t,r){e("../mx-number/index"),t.__esModule=!0;var n=e("$"),o=e("magix"),a=e("../../util/converter"),s=e("../../util/table");o.default.applyStyle("pe-n",".pe-bV{display:block;margin:4px 0}"),t.default=o.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s,l="",c=e.read,u=e.col,d=e.disabled;return l+='<div class="pe-bV pe-B pe-u" ',(s=d)&&(l+='readonly="'+n(s)+'" '),l+=' mx-input="'+t+"\x1e__bv({type:'col'})\" mx-view=\"gallery/mx-number/index?fixed=2&min=0&value="+A(c(u.width)),(s=d)&&(l+="&disabled="+A(s)),l+='"></div><div class="pe-bV pe-B pe-u" ',(s=d)&&(l+='readonly="'+n(s)+'" '),l+=' mx-input="'+t+"\x1e__bv({type:'row'})\" mx-view=\"gallery/mx-number/index?fixed=2&min=0&value="+A(c(u.height)),(s=d)&&(l+="&disabled="+A(s)),l+='"></div>'},init:function(e){this.assign(e),this.__q=n.default("#"+this.id)},assign:function(e){var t=e.props,r=t.rows,n=t.rowIndex,i=t.colIndex,A=r[n];A||(A=r[0]);var o=A.cells[i];return o||(o=A.cells[0]),this.updater.set({col:o,props:e.props,read:a.default.__i,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bv<input>":function(e){var t=e.params.type,r=a.default.__e(e.value),n=this.updater.get(),i=n.props,A=n.col;"row"==t?A.height=r:"col"==t&&(A.width=r),A.id||(A.id=o.default.guid("td_")),s.default.__h(i,{col:A}),this.__q.trigger("change")}})}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CodeMirror=t()}(this,function(){"use strict";var e=navigator.userAgent,t=navigator.platform,h=/gecko\/\d/i.test(e),r=/MSIE \d/.test(e),n=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(e),i=/Edge\/(\d+)/.exec(e),B=r||n||i,y=B&&(r?document.documentMode||6:+(i||n)[1]),_=!i&&/WebKit\//.test(e),A=_&&/Qt\/\d+\.\d+/.test(e),o=!i&&/Chrome\//.test(e),g=/Opera\//.test(e),s=/Apple Computer/.test(navigator.vendor),a=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(e),l=/PhantomJS/.test(e),c=!i&&/AppleWebKit/.test(e)&&/Mobile\/\w+/.test(e),u=/Android/.test(e),d=c||u||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(e),w=c||/Mac/.test(t),f=/\bCrOS\b/.test(e),p=/win/i.test(t),v=g&&e.match(/Version\/(\d*\.\d*)/);v&&(v=Number(v[1])),v&&15<=v&&(_=!(g=!1));var m=w&&(A||g&&(null==v||v<12.11)),x=h||B&&9<=y;function b(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var C,Q=function(e,t){var r=e.className,n=b(t).exec(r);if(n){var i=r.slice(n.index+n[0].length);e.className=r.slice(0,n.index)+(i?n[1]+i:"")}};function E(e){for(var t=e.childNodes.length;0<t;--t)e.removeChild(e.firstChild);return e}function U(e,t){return E(e).appendChild(t)}function S(e,t,r,n){var i=document.createElement(e);if(r&&(i.className=r),n&&(i.style.cssText=n),"string"==typeof t)i.appendChild(document.createTextNode(t));else if(t)for(var A=0;A<t.length;++A)i.appendChild(t[A]);return i}function F(e,t,r,n){var i=S(e,t,r,n);return i.setAttribute("role","presentation"),i}function H(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function T(){var t;try{t=document.activeElement}catch(e){t=document.body||null}for(;t&&t.shadowRoot&&t.shadowRoot.activeElement;)t=t.shadowRoot.activeElement;return t}function k(e,t){var r=e.className;b(t).test(r)||(e.className+=(r?" ":"")+t)}function N(e,t){for(var r=e.split(" "),n=0;n<r.length;n++)r[n]&&!b(r[n]).test(t)&&(t+=" "+r[n]);return t}C=document.createRange?function(e,t,r,n){var i=document.createRange();return i.setEnd(n||e,r),i.setStart(e,t),i}:function(e,t,r){var n=document.body.createTextRange();try{n.moveToElementText(e.parentNode)}catch(e){return n}return n.collapse(!0),n.moveEnd("character",r),n.moveStart("character",t),n};var I=function(e){e.select()};function M(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function L(e,t,r){for(var n in t||(t={}),e)!e.hasOwnProperty(n)||!1===r&&t.hasOwnProperty(n)||(t[n]=e[n]);return t}function D(e,t,r,n,i){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var A=n||0,o=i||0;;){var a=e.indexOf("\t",A);if(a<0||t<=a)return o+(t-A);o+=a-A,o+=r-o%r,A=a+1}}c?I=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:B&&(I=function(e){try{e.select()}catch(e){}});var O=function(){this.id=null};function K(e,t){for(var r=0;r<e.length;++r)if(e[r]==t)return r;return-1}O.prototype.set=function(e,t){clearTimeout(this.id),this.id=setTimeout(t,e)};var R=30,P={toString:function(){return"CodeMirror.Pass"}},z={scroll:!1},X={origin:"*mouse"},W={origin:"+move"};function V(e,t,r){for(var n=0,i=0;;){var A=e.indexOf("\t",n);-1==A&&(A=e.length);var o=A-n;if(A==e.length||t<=i+o)return n+Math.min(o,t-i);if(i+=A-n,n=A+1,t<=(i+=r-i%r))return n}}var G=[""];function Y(e){for(;G.length<=e;)G.push(j(G)+" ");return G[e]}function j(e){return e[e.length-1]}function J(e,t){for(var r=[],n=0;n<e.length;n++)r[n]=t(e[n],n);return r}function q(){}function $(e,t){var r;return r=Object.create?Object.create(e):(q.prototype=e,new q),t&&L(t,r),r}var Z=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function ee(e){return/\w/.test(e)||"\x80"<e&&(e.toUpperCase()!=e.toLowerCase()||Z.test(e))}function te(e,t){return t?!!(-1<t.source.indexOf("\\w")&&ee(e))||t.test(e):ee(e)}function re(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var ne=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ie(e){return 768<=e.charCodeAt(0)&&ne.test(e)}function Ae(e,t,r){for(;(r<0?0<t:t<e.length)&&ie(e.charAt(t));)t+=r;return t}function oe(e,t,r){for(var n=r<t?-1:1;;){if(t==r)return t;var i=(t+r)/2,A=n<0?Math.ceil(i):Math.floor(i);if(A==t)return e(A)?t:r;e(A)?r=A:t=A+n}}function ae(e,t,r){var n=this;this.input=r,n.scrollbarFiller=S("div",null,"CodeMirror-scrollbar-filler"),n.scrollbarFiller.setAttribute("cm-not-content","true"),n.gutterFiller=S("div",null,"CodeMirror-gutter-filler"),n.gutterFiller.setAttribute("cm-not-content","true"),n.lineDiv=F("div",null,"CodeMirror-code"),n.selectionDiv=S("div",null,null,"position: relative; z-index: 1"),n.cursorDiv=S("div",null,"CodeMirror-cursors"),n.measure=S("div",null,"CodeMirror-measure"),n.lineMeasure=S("div",null,"CodeMirror-measure"),n.lineSpace=F("div",[n.measure,n.lineMeasure,n.selectionDiv,n.cursorDiv,n.lineDiv],null,"position: relative; outline: none");var i=F("div",[n.lineSpace],"CodeMirror-lines");n.mover=S("div",[i],null,"position: relative"),n.sizer=S("div",[n.mover],"CodeMirror-sizer"),n.sizerWidth=null,n.heightForcer=S("div",null,null,"position: absolute; height: "+R+"px; width: 1px;"),n.gutters=S("div",null,"CodeMirror-gutters"),n.lineGutter=null,n.scroller=S("div",[n.sizer,n.heightForcer,n.gutters],"CodeMirror-scroll"),n.scroller.setAttribute("tabIndex","-1"),n.wrapper=S("div",[n.scrollbarFiller,n.gutterFiller,n.scroller],"CodeMirror"),B&&y<8&&(n.gutters.style.zIndex=-1,n.scroller.style.paddingRight=0),_||h&&d||(n.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(n.wrapper):e(n.wrapper)),n.viewFrom=n.viewTo=t.first,n.reportedViewFrom=n.reportedViewTo=t.first,n.view=[],n.renderedView=null,n.externalMeasured=null,n.viewOffset=0,n.lastWrapHeight=n.lastWrapWidth=0,n.updateLineNumbers=null,n.nativeBarWidth=n.barHeight=n.barWidth=0,n.scrollbarsClipped=!1,n.lineNumWidth=n.lineNumInnerWidth=n.lineNumChars=null,n.alignWidgets=!1,n.cachedCharWidth=n.cachedTextHeight=n.cachedPaddingH=null,n.maxLine=null,n.maxLineLength=0,n.maxLineChanged=!1,n.wheelDX=n.wheelDY=n.wheelStartX=n.wheelStartY=null,n.shift=!1,n.selForContextMenu=null,n.activeTouch=null,r.init(n)}function se(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var r=e;!r.lines;)for(var n=0;;++n){var i=r.children[n],A=i.chunkSize();if(t<A){r=i;break}t-=A}return r.lines[t]}function le(e,r,n){var i=[],A=r.line;return e.iter(r.line,n.line+1,function(e){var t=e.text;A==n.line&&(t=t.slice(0,n.ch)),A==r.line&&(t=t.slice(r.ch)),i.push(t),++A}),i}function ce(e,t,r){var n=[];return e.iter(t,r,function(e){n.push(e.text)}),n}function ue(e,t){var r=t-e.height;if(r)for(var n=e;n;n=n.parent)n.height+=r}function de(e){if(null==e.parent)return null;for(var t=e.parent,r=K(t.lines,e),n=t.parent;n;n=(t=n).parent)for(var i=0;n.children[i]!=t;++i)r+=n.children[i].chunkSize();return r+t.first}function fe(e,t){var r=e.first;e:do{for(var n=0;n<e.children.length;++n){var i=e.children[n],A=i.height;if(t<A){e=i;continue e}t-=A,r+=i.chunkSize()}return r}while(!e.lines);for(var o=0;o<e.lines.length;++o){var a=e.lines[o].height;if(t<a)break;t-=a}return r+o}function pe(e,t){return t>=e.first&&t<e.first+e.size}function he(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function ge(e,t,r){if(void 0===r&&(r=null),!(this instanceof ge))return new ge(e,t,r);this.line=e,this.ch=t,this.sticky=r}function ve(e,t){return e.line-t.line||e.ch-t.ch}function me(e,t){return e.sticky==t.sticky&&0==ve(e,t)}function _e(e){return ge(e.line,e.ch)}function we(e,t){return ve(e,t)<0?t:e}function Be(e,t){return ve(e,t)<0?e:t}function ye(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function xe(e,t){if(t.line<e.first)return ge(e.first,0);var r=e.first+e.size-1;return t.line>r?ge(r,se(e,r).text.length):function(e,t){var r=e.ch;return null==r||t<r?ge(e.line,t):r<0?ge(e.line,0):e}(t,se(e,t.line).text.length)}function be(e,t){for(var r=[],n=0;n<t.length;n++)r[n]=xe(e,t[n]);return r}var Ce=!1,Qe=!1;function Ee(e,t,r){this.marker=e,this.from=t,this.to=r}function Ue(e,t){if(e)for(var r=0;r<e.length;++r){var n=e[r];if(n.marker==t)return n}}function Fe(e,t){for(var r,n=0;n<e.length;++n)e[n]!=t&&(r||(r=[])).push(e[n]);return r}function Se(e,t){if(t.full)return null;var r=pe(e,t.from.line)&&se(e,t.from.line).markedSpans,n=pe(e,t.to.line)&&se(e,t.to.line).markedSpans;if(!r&&!n)return null;var i=t.from.ch,A=t.to.ch,o=0==ve(t.from,t.to),a=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var A=e[i],o=A.marker;if(null==A.from||(o.inclusiveLeft?A.from<=t:A.from<t)||A.from==t&&"bookmark"==o.type&&(!r||!A.marker.insertLeft)){var a=null==A.to||(o.inclusiveRight?A.to>=t:A.to>t);(n||(n=[])).push(new Ee(o,A.from,a?null:A.to))}}return n}(r,i,o),s=function(e,t,r){var n;if(e)for(var i=0;i<e.length;++i){var A=e[i],o=A.marker;if(null==A.to||(o.inclusiveRight?A.to>=t:A.to>t)||A.from==t&&"bookmark"==o.type&&(!r||A.marker.insertLeft)){var a=null==A.from||(o.inclusiveLeft?A.from<=t:A.from<t);(n||(n=[])).push(new Ee(o,a?null:A.from-t,null==A.to?null:A.to-t))}}return n}(n,A,o),l=1==t.text.length,c=j(t.text).length+(l?i:0);if(a)for(var u=0;u<a.length;++u){var d=a[u];if(null==d.to){var f=Ue(s,d.marker);f?l&&(d.to=null==f.to?null:f.to+c):d.to=i}}if(s)for(var p=0;p<s.length;++p){var h=s[p];if(null!=h.to&&(h.to+=c),null==h.from)Ue(a,h.marker)||(h.from=c,l&&(a||(a=[])).push(h));else h.from+=c,l&&(a||(a=[])).push(h)}a&&(a=He(a)),s&&s!=a&&(s=He(s));var g=[a];if(!l){var v,m=t.text.length-2;if(0<m&&a)for(var _=0;_<a.length;++_)null==a[_].to&&(v||(v=[])).push(new Ee(a[_].marker,null,null));for(var w=0;w<m;++w)g.push(v);g.push(s)}return g}function He(e){for(var t=0;t<e.length;++t){var r=e[t];null!=r.from&&r.from==r.to&&!1!==r.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function Te(e){var t=e.markedSpans;if(t){for(var r=0;r<t.length;++r)t[r].marker.detachLine(e);e.markedSpans=null}}function ke(e,t){if(t){for(var r=0;r<t.length;++r)t[r].marker.attachLine(e);e.markedSpans=t}}function Ne(e){return e.inclusiveLeft?-1:0}function Ie(e){return e.inclusiveRight?1:0}function Me(e,t){var r=e.lines.length-t.lines.length;if(0!=r)return r;var n=e.find(),i=t.find(),A=ve(n.from,i.from)||Ne(e)-Ne(t);if(A)return-A;var o=ve(n.to,i.to)||Ie(e)-Ie(t);return o||t.id-e.id}function Le(e,t){var r,n=Qe&&e.markedSpans;if(n)for(var i=void 0,A=0;A<n.length;++A)(i=n[A]).marker.collapsed&&null==(t?i.from:i.to)&&(!r||Me(r,i.marker)<0)&&(r=i.marker);return r}function De(e){return Le(e,!0)}function Oe(e){return Le(e,!1)}function Ke(e,t){var r,n=Qe&&e.markedSpans;if(n)for(var i=0;i<n.length;++i){var A=n[i];A.marker.collapsed&&(null==A.from||A.from<t)&&(null==A.to||A.to>t)&&(!r||Me(r,A.marker)<0)&&(r=A.marker)}return r}function Re(e,t,r,n,i){var A=se(e,t),o=Qe&&A.markedSpans;if(o)for(var a=0;a<o.length;++a){var s=o[a];if(s.marker.collapsed){var l=s.marker.find(0),c=ve(l.from,r)||Ne(s.marker)-Ne(i),u=ve(l.to,n)||Ie(s.marker)-Ie(i);if(!(0<=c&&u<=0||c<=0&&0<=u)&&(c<=0&&(s.marker.inclusiveRight&&i.inclusiveLeft?0<=ve(l.to,r):0<ve(l.to,r))||0<=c&&(s.marker.inclusiveRight&&i.inclusiveLeft?ve(l.from,n)<=0:ve(l.from,n)<0)))return!0}}}function Pe(e){for(var t;t=De(e);)e=t.find(-1,!0).line;return e}function ze(e,t){var r=se(e,t),n=Pe(r);return r==n?t:de(n)}function Xe(e,t){if(t>e.lastLine())return t;var r,n=se(e,t);if(!We(e,n))return t;for(;r=Oe(n);)n=r.find(1,!0).line;return de(n)+1}function We(e,t){var r=Qe&&t.markedSpans;if(r)for(var n=void 0,i=0;i<r.length;++i)if((n=r[i]).marker.collapsed){if(null==n.from)return!0;if(!n.marker.widgetNode&&0==n.from&&n.marker.inclusiveLeft&&Ve(e,t,n))return!0}}function Ve(e,t,r){if(null==r.to){var n=r.marker.find(1,!0);return Ve(e,n.line,Ue(n.line.markedSpans,r.marker))}if(r.marker.inclusiveRight&&r.to==t.text.length)return!0;for(var i=void 0,A=0;A<t.markedSpans.length;++A)if((i=t.markedSpans[A]).marker.collapsed&&!i.marker.widgetNode&&i.from==r.to&&(null==i.to||i.to!=r.from)&&(i.marker.inclusiveLeft||r.marker.inclusiveRight)&&Ve(e,t,i))return!0}function Ge(e){for(var t=0,r=(e=Pe(e)).parent,n=0;n<r.lines.length;++n){var i=r.lines[n];if(i==e)break;t+=i.height}for(var A=r.parent;A;A=(r=A).parent)for(var o=0;o<A.children.length;++o){var a=A.children[o];if(a==r)break;t+=a.height}return t}function Ye(e){if(0==e.height)return 0;for(var t,r=e.text.length,n=e;t=De(n);){var i=t.find(0,!0);n=i.from.line,r+=i.from.ch-i.to.ch}for(n=e;t=Oe(n);){var A=t.find(0,!0);r-=n.text.length-A.from.ch,r+=(n=A.to.line).text.length-A.to.ch}return r}function je(e){var r=e.display,t=e.doc;r.maxLine=se(t,t.first),r.maxLineLength=Ye(r.maxLine),r.maxLineChanged=!0,t.iter(function(e){var t=Ye(e);t>r.maxLineLength&&(r.maxLineLength=t,r.maxLine=e)})}var Je=null;function qe(e,t,r){var n;Je=null;for(var i=0;i<e.length;++i){var A=e[i];if(A.from<t&&A.to>t)return i;A.to==t&&(A.from!=A.to&&"before"==r?n=i:Je=i),A.from==t&&(A.from!=A.to&&"before"!=r?n=i:Je=i)}return null!=n?n:Je}var $e,Ze,et,tt,rt,nt,it,At=($e="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",Ze="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111",et=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,tt=/[stwN]/,rt=/[LRr]/,nt=/[Lb1n]/,it=/[1n]/,function(e,t){var r="ltr"==t?"L":"R";if(0==e.length||"ltr"==t&&!et.test(e))return!1;for(var n,i=e.length,A=[],o=0;o<i;++o)A.push((n=e.charCodeAt(o))<=247?$e.charAt(n):1424<=n&&n<=1524?"R":1536<=n&&n<=1785?Ze.charAt(n-1536):1774<=n&&n<=2220?"r":8192<=n&&n<=8203?"w":8204==n?"b":"L");for(var a=0,s=r;a<i;++a){var l=A[a];"m"==l?A[a]=s:s=l}for(var c=0,u=r;c<i;++c){var d=A[c];"1"==d&&"r"==u?A[c]="n":rt.test(d)&&"r"==(u=d)&&(A[c]="R")}for(var f=1,p=A[0];f<i-1;++f){var h=A[f];"+"==h&&"1"==p&&"1"==A[f+1]?A[f]="1":","!=h||p!=A[f+1]||"1"!=p&&"n"!=p||(A[f]=p),p=h}for(var g=0;g<i;++g){var v=A[g];if(","==v)A[g]="N";else if("%"==v){var m=void 0;for(m=g+1;m<i&&"%"==A[m];++m);for(var _=g&&"!"==A[g-1]||m<i&&"1"==A[m]?"1":"N",w=g;w<m;++w)A[w]=_;g=m-1}}for(var B=0,y=r;B<i;++B){var x=A[B];"L"==y&&"1"==x?A[B]="L":rt.test(x)&&(y=x)}for(var b=0;b<i;++b)if(tt.test(A[b])){var C=void 0;for(C=b+1;C<i&&tt.test(A[C]);++C);for(var Q="L"==(b?A[b-1]:r),E=Q==("L"==(C<i?A[C]:r))?Q?"L":"R":r,U=b;U<C;++U)A[U]=E;b=C-1}for(var F,S=[],H=0;H<i;)if(nt.test(A[H])){var T=H;for(++H;H<i&&nt.test(A[H]);++H);S.push(new ot(0,T,H))}else{var k=H,N=S.length;for(++H;H<i&&"L"!=A[H];++H);for(var I=k;I<H;)if(it.test(A[I])){k<I&&S.splice(N,0,new ot(1,k,I));var M=I;for(++I;I<H&&it.test(A[I]);++I);S.splice(N,0,new ot(2,M,I)),k=I}else++I;k<H&&S.splice(N,0,new ot(1,k,H))}return"ltr"==t&&(1==S[0].level&&(F=e.match(/^\s+/))&&(S[0].from=F[0].length,S.unshift(new ot(0,0,F[0].length))),1==j(S).level&&(F=e.match(/\s+$/))&&(j(S).to-=F[0].length,S.push(new ot(0,i-F[0].length,i)))),"rtl"==t?S.reverse():S});function ot(e,t,r){this.level=e,this.from=t,this.to=r}function at(e,t){var r=e.order;return null==r&&(r=e.order=At(e.text,t)),r}var st=[],lt=function(e,t,r){if(e.addEventListener)e.addEventListener(t,r,!1);else if(e.attachEvent)e.attachEvent("on"+t,r);else{var n=e._handlers||(e._handlers={});n[t]=(n[t]||st).concat(r)}};function ct(e,t){return e._handlers&&e._handlers[t]||st}function ut(e,t,r){if(e.removeEventListener)e.removeEventListener(t,r,!1);else if(e.detachEvent)e.detachEvent("on"+t,r);else{var n=e._handlers,i=n&&n[t];if(i){var A=K(i,r);-1<A&&(n[t]=i.slice(0,A).concat(i.slice(A+1)))}}}function dt(e,t){var r=ct(e,t);if(r.length)for(var n=Array.prototype.slice.call(arguments,2),i=0;i<r.length;++i)r[i].apply(null,n)}function ft(e,t,r){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),dt(e,r||t.type,e,t),_t(t)||t.codemirrorIgnore}function pt(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var r=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),n=0;n<t.length;++n)-1==K(r,t[n])&&r.push(t[n])}function ht(e,t){return 0<ct(e,t).length}function gt(e){e.prototype.on=function(e,t){lt(this,e,t)},e.prototype.off=function(e,t){ut(this,e,t)}}function vt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function mt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function _t(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function wt(e){vt(e),mt(e)}function Bt(e){return e.target||e.srcElement}function yt(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),w&&e.ctrlKey&&1==t&&(t=3),t}var xt,bt,Ct=function(){if(B&&y<9)return!1;var e=S("div");return"draggable"in e||"dragDrop"in e}();function Qt(e){if(null==xt){var t=S("span","\u200b");U(e,S("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(xt=t.offsetWidth<=1&&2<t.offsetHeight&&!(B&&y<8))}var r=xt?S("span","\u200b"):S("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return r.setAttribute("cm-text",""),r}function Et(e){if(null!=bt)return bt;var t=U(e,document.createTextNode("A\u062eA")),r=C(t,0,1).getBoundingClientRect(),n=C(t,1,2).getBoundingClientRect();return E(e),!(!r||r.left==r.right)&&(bt=n.right-r.right<3)}var Ut,Ft=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,r=[],n=e.length;t<=n;){var i=e.indexOf("\n",t);-1==i&&(i=e.length);var A=e.slice(t,"\r"==e.charAt(i-1)?i-1:i),o=A.indexOf("\r");-1!=o?(r.push(A.slice(0,o)),t+=o+1):(r.push(A),t=i+1)}return r}:function(e){return e.split(/\r\n?|\n/)},St=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(e){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(e){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ht="oncopy"in(Ut=S("div"))||(Ut.setAttribute("oncopy","return;"),"function"==typeof Ut.oncopy),Tt=null;var kt={},Nt={};function It(e){if("string"==typeof e&&Nt.hasOwnProperty(e))e=Nt[e];else if(e&&"string"==typeof e.name&&Nt.hasOwnProperty(e.name)){var t=Nt[e.name];"string"==typeof t&&(t={name:t}),(e=$(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return It("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return It("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Mt(e,t){t=It(t);var r=kt[t.name];if(!r)return Mt(e,"text/plain");var n=r(e,t);if(Lt.hasOwnProperty(t.name)){var i=Lt[t.name];for(var A in i)i.hasOwnProperty(A)&&(n.hasOwnProperty(A)&&(n["_"+A]=n[A]),n[A]=i[A])}if(n.name=t.name,t.helperType&&(n.helperType=t.helperType),t.modeProps)for(var o in t.modeProps)n[o]=t.modeProps[o];return n}var Lt={};function Dt(e,t){L(t,Lt.hasOwnProperty(e)?Lt[e]:Lt[e]={})}function Ot(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var r={};for(var n in t){var i=t[n];i instanceof Array&&(i=i.concat([])),r[n]=i}return r}function Kt(e,t){for(var r;e.innerMode&&(r=e.innerMode(t))&&r.mode!=e;)t=r.state,e=r.mode;return r||{mode:e,state:t}}function Rt(e,t,r){return!e.startState||e.startState(t,r)}var Pt=function(e,t,r){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=r};Pt.prototype.eol=function(){return this.pos>=this.string.length},Pt.prototype.sol=function(){return this.pos==this.lineStart},Pt.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Pt.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Pt.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},Pt.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},Pt.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},Pt.prototype.skipToEnd=function(){this.pos=this.string.length},Pt.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(-1<t)return this.pos=t,!0},Pt.prototype.backUp=function(e){this.pos-=e},Pt.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=D(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?D(this.string,this.lineStart,this.tabSize):0)},Pt.prototype.indentation=function(){return D(this.string,null,this.tabSize)-(this.lineStart?D(this.string,this.lineStart,this.tabSize):0)},Pt.prototype.match=function(e,t,r){if("string"!=typeof e){var n=this.string.slice(this.pos).match(e);return n&&0<n.index?null:(n&&!1!==t&&(this.pos+=n[0].length),n)}function i(e){return r?e.toLowerCase():e}if(i(this.string.substr(this.pos,e.length))==i(e))return!1!==t&&(this.pos+=e.length),!0},Pt.prototype.current=function(){return this.string.slice(this.start,this.pos)},Pt.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},Pt.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},Pt.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var zt=function(e,t){this.state=e,this.lookAhead=t},Xt=function(e,t,r,n){this.state=t,this.doc=e,this.line=r,this.maxLookAhead=n||0,this.baseTokens=null,this.baseTokenPos=1};function Wt(t,r,n,e){var s=[t.state.modeGen],i={};er(t,r.text,t.doc.mode,n,function(e,t){return s.push(e,t)},i,e);for(var l=n.state,A=function(e){n.baseTokens=s;var A=t.state.overlays[e],o=1,a=0;n.state=!0,er(t,r.text,A.mode,n,function(e,t){for(var r=o;a<e;){var n=s[o];e<n&&s.splice(o,1,e,s[o+1],n),o+=2,a=Math.min(e,n)}if(t)if(A.opaque)s.splice(r,o-r,e,"overlay "+t),o=r+2;else for(;r<o;r+=2){var i=s[r+1];s[r+1]=(i?i+" ":"")+"overlay "+t}},i),n.state=l,n.baseTokens=null,n.baseTokenPos=1},o=0;o<t.state.overlays.length;++o)A(o);return{styles:s,classes:i.bgClass||i.textClass?i:null}}function Vt(e,t,r){if(!t.styles||t.styles[0]!=e.state.modeGen){var n=Gt(e,de(t)),i=t.text.length>e.options.maxHighlightLength&&Ot(e.doc.mode,n.state),A=Wt(e,t,n);i&&(n.state=i),t.stateAfter=n.save(!i),t.styles=A.styles,A.classes?t.styleClasses=A.classes:t.styleClasses&&(t.styleClasses=null),r===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function Gt(r,n,e){var t=r.doc,i=r.display;if(!t.mode.startState)return new Xt(t,!0,n);var A=function(e,t,r){for(var n,i,A=e.doc,o=r?-1:t-(e.doc.mode.innerMode?1e3:100),a=t;o<a;--a){if(a<=A.first)return A.first;var s=se(A,a-1),l=s.stateAfter;if(l&&(!r||a+(l instanceof zt?l.lookAhead:0)<=A.modeFrontier))return a;var c=D(s.text,null,e.options.tabSize);(null==i||c<n)&&(i=a-1,n=c)}return i}(r,n,e),o=A>t.first&&se(t,A-1).stateAfter,a=o?Xt.fromSaved(t,o,A):new Xt(t,Rt(t.mode),A);return t.iter(A,n,function(e){Yt(r,e.text,a);var t=a.line;e.stateAfter=t==n-1||t%5==0||t>=i.viewFrom&&t<i.viewTo?a.save():null,a.nextLine()}),e&&(t.modeFrontier=a.line),a}function Yt(e,t,r,n){var i=e.doc.mode,A=new Pt(t,e.options.tabSize,r);for(A.start=A.pos=n||0,""==t&&jt(i,r.state);!A.eol();)Jt(i,A,r.state),A.start=A.pos}function jt(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var r=Kt(e,t);return r.mode.blankLine?r.mode.blankLine(r.state):void 0}}function Jt(e,t,r,n){for(var i=0;i<10;i++){n&&(n[0]=Kt(e,r).mode);var A=e.token(t,r);if(t.pos>t.start)return A}throw new Error("Mode "+e.name+" failed to advance stream.")}Xt.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},Xt.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},Xt.prototype.nextLine=function(){this.line++,0<this.maxLookAhead&&this.maxLookAhead--},Xt.fromSaved=function(e,t,r){return t instanceof zt?new Xt(e,Ot(e.mode,t.state),r,t.lookAhead):new Xt(e,Ot(e.mode,t),r)},Xt.prototype.save=function(e){var t=!1!==e?Ot(this.doc.mode,this.state):this.state;return 0<this.maxLookAhead?new zt(t,this.maxLookAhead):t};var qt=function(e,t,r){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=r};function $t(e,t,r,n){var i,A,o=e.doc,a=o.mode,s=se(o,(t=xe(o,t)).line),l=Gt(e,t.line,r),c=new Pt(s.text,e.options.tabSize,l);for(n&&(A=[]);(n||c.pos<t.ch)&&!c.eol();)c.start=c.pos,i=Jt(a,c,l.state),n&&A.push(new qt(c,i,Ot(o.mode,l.state)));return n?A:new qt(c,i,l.state)}function Zt(e,t){if(e)for(;;){var r=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!r)break;e=e.slice(0,r.index)+e.slice(r.index+r[0].length);var n=r[1]?"bgClass":"textClass";null==t[n]?t[n]=r[2]:new RegExp("(?:^|s)"+r[2]+"(?:$|s)").test(t[n])||(t[n]+=" "+r[2])}return e}function er(e,t,r,n,i,A,o){var a=r.flattenSpans;null==a&&(a=e.options.flattenSpans);var s,l=0,c=null,u=new Pt(t,e.options.tabSize,n),d=e.options.addModeClass&&[null];for(""==t&&Zt(jt(r,n.state),A);!u.eol();){if(s=u.pos>e.options.maxHighlightLength?(a=!1,o&&Yt(e,t,n,u.pos),u.pos=t.length,null):Zt(Jt(r,u,n.state,d),A),d){var f=d[0].name;f&&(s="m-"+(s?f+" "+s:f))}if(!a||c!=s){for(;l<u.start;)i(l=Math.min(u.start,l+5e3),c);c=s}u.start=u.pos}for(;l<u.pos;){var p=Math.min(u.pos,l+5e3);i(p,c),l=p}}var tr=function(e,t,r){this.text=e,ke(this,t),this.height=r?r(this):1};tr.prototype.lineNo=function(){return de(this)},gt(tr);var rr={},nr={};function ir(e,t){if(!e||/^\s*$/.test(e))return null;var r=t.addModeClass?nr:rr;return r[e]||(r[e]=e.replace(/\S+/g,"cm-$&"))}function Ar(e,t){var r=F("span",null,null,_?"padding-right: .1px":null),n={pre:F("pre",[r],"CodeMirror-line"),content:r,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:(B||_)&&e.getOption("lineWrapping")};t.measure={};for(var i=0;i<=(t.rest?t.rest.length:0);i++){var A=i?t.rest[i-1]:t.line,o=void 0;n.pos=0,n.addToken=ar,Et(e.display.measure)&&(o=at(A,e.doc.direction))&&(n.addToken=sr(n.addToken,o)),n.map=[],cr(A,n,Vt(e,A,t!=e.display.externalMeasured&&de(A))),A.styleClasses&&(A.styleClasses.bgClass&&(n.bgClass=N(A.styleClasses.bgClass,n.bgClass||"")),A.styleClasses.textClass&&(n.textClass=N(A.styleClasses.textClass,n.textClass||""))),0==n.map.length&&n.map.push(0,0,n.content.appendChild(Qt(e.display.measure))),0==i?(t.measure.map=n.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(n.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(_){var a=n.content.lastChild;(/\bcm-tab\b/.test(a.className)||a.querySelector&&a.querySelector(".cm-tab"))&&(n.content.className="cm-tab-wrap-hack")}return dt(e,"renderLine",e,t.line,n.pre),n.pre.className&&(n.textClass=N(n.pre.className,n.textClass||"")),n}function or(e){var t=S("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function ar(e,t,r,n,i,A,o){if(t){var a,s=e.splitSpaces?function(e,t){if(1<e.length&&!/  /.test(e))return e;for(var r=t,n="",i=0;i<e.length;i++){var A=e.charAt(i);" "!=A||!r||i!=e.length-1&&32!=e.charCodeAt(i+1)||(A="\xa0"),n+=A,r=" "==A}return n}(t,e.trailingSpace):t,l=e.cm.state.specialChars,c=!1;if(l.test(t)){a=document.createDocumentFragment();for(var u=0;;){l.lastIndex=u;var d=l.exec(t),f=d?d.index-u:t.length-u;if(f){var p=document.createTextNode(s.slice(u,u+f));B&&y<9?a.appendChild(S("span",[p])):a.appendChild(p),e.map.push(e.pos,e.pos+f,p),e.col+=f,e.pos+=f}if(!d)break;u+=1+f;var h=void 0;if("\t"==d[0]){var g=e.cm.options.tabSize,v=g-e.col%g;(h=a.appendChild(S("span",Y(v),"cm-tab"))).setAttribute("role","presentation"),h.setAttribute("cm-text","\t"),e.col+=v}else"\r"==d[0]||"\n"==d[0]?(h=a.appendChild(S("span","\r"==d[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",d[0]):((h=e.cm.options.specialCharPlaceholder(d[0])).setAttribute("cm-text",d[0]),B&&y<9?a.appendChild(S("span",[h])):a.appendChild(h)),e.col+=1;e.map.push(e.pos,e.pos+1,h),e.pos++}}else e.col+=t.length,a=document.createTextNode(s),e.map.push(e.pos,e.pos+t.length,a),B&&y<9&&(c=!0),e.pos+=t.length;if(e.trailingSpace=32==s.charCodeAt(t.length-1),r||n||i||c||o){var m=r||"";n&&(m+=n),i&&(m+=i);var _=S("span",[a],m,o);return A&&(_.title=A),e.content.appendChild(_)}e.content.appendChild(a)}}function sr(u,d){return function(e,t,r,n,i,A,o){r=r?r+" cm-force-border":"cm-force-border";for(var a=e.pos,s=a+t.length;;){for(var l=void 0,c=0;c<d.length&&!((l=d[c]).to>a&&l.from<=a);c++);if(l.to>=s)return u(e,t,r,n,i,A,o);u(e,t.slice(0,l.to-a),r,n,null,A,o),n=null,t=t.slice(l.to-a),a=l.to}}}function lr(e,t,r,n){var i=!n&&r.widgetNode;i&&e.map.push(e.pos,e.pos+t,i),!n&&e.cm.display.input.needsContentAttribute&&(i||(i=e.content.appendChild(document.createElement("span"))),i.setAttribute("cm-marker",r.id)),i&&(e.cm.display.input.setUneditable(i),e.content.appendChild(i)),e.pos+=t,e.trailingSpace=!1}function cr(e,t,r){var n=e.markedSpans,i=e.text,A=0;if(n)for(var o,a,s,l,c,u,d,f=i.length,p=0,h=1,g="",v=0;;){if(v==p){s=l=c=u=a="",d=null,v=1/0;for(var m=[],_=void 0,w=0;w<n.length;++w){var B=n[w],y=B.marker;"bookmark"==y.type&&B.from==p&&y.widgetNode?m.push(y):B.from<=p&&(null==B.to||B.to>p||y.collapsed&&B.to==p&&B.from==p)?(null!=B.to&&B.to!=p&&v>B.to&&(v=B.to,l=""),y.className&&(s+=" "+y.className),y.css&&(a=(a?a+";":"")+y.css),y.startStyle&&B.from==p&&(c+=" "+y.startStyle),y.endStyle&&B.to==v&&(_||(_=[])).push(y.endStyle,B.to),y.title&&!u&&(u=y.title),y.collapsed&&(!d||Me(d.marker,y)<0)&&(d=B)):B.from>p&&v>B.from&&(v=B.from)}if(_)for(var x=0;x<_.length;x+=2)_[x+1]==v&&(l+=" "+_[x]);if(!d||d.from==p)for(var b=0;b<m.length;++b)lr(t,0,m[b]);if(d&&(d.from||0)==p){if(lr(t,(null==d.to?f+1:d.to)-p,d.marker,null==d.from),null==d.to)return;d.to==p&&(d=!1)}}if(f<=p)break;for(var C=Math.min(f,v);;){if(g){var Q=p+g.length;if(!d){var E=C<Q?g.slice(0,C-p):g;t.addToken(t,E,o?o+s:s,c,p+E.length==v?l:"",u,a)}if(C<=Q){g=g.slice(C-p),p=C;break}p=Q,c=""}g=i.slice(A,A=r[h++]),o=ir(r[h++],t.cm.options)}}else for(var U=1;U<r.length;U+=2)t.addToken(t,i.slice(A,A=r[U]),ir(r[U+1],t.cm.options))}function ur(e,t,r){this.line=t,this.rest=function(e){for(var t,r;t=Oe(e);)e=t.find(1,!0).line,(r||(r=[])).push(e);return r}(t),this.size=this.rest?de(j(this.rest))-r+1:1,this.node=this.text=null,this.hidden=We(e,t)}function dr(e,t,r){for(var n,i=[],A=t;A<r;A=n){var o=new ur(e.doc,se(e.doc,A),A);n=A+o.size,i.push(o)}return i}var fr=null;var pr=null;function hr(e,t){var r=ct(e,t);if(r.length){var n,i=Array.prototype.slice.call(arguments,2);fr?n=fr.delayedCallbacks:pr?n=pr:(n=pr=[],setTimeout(gr,0));for(var A=function(e){n.push(function(){return r[e].apply(null,i)})},o=0;o<r.length;++o)A(o)}}function gr(){var e=pr;pr=null;for(var t=0;t<e.length;++t)e[t]()}function vr(e,t,r,n){for(var i=0;i<t.changes.length;i++){var A=t.changes[i];"text"==A?wr(e,t):"gutter"==A?yr(e,t,r,n):"class"==A?Br(e,t):"widget"==A&&xr(e,t,n)}t.changes=null}function mr(e){return e.node==e.text&&(e.node=S("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),B&&y<8&&(e.node.style.zIndex=2)),e.node}function _r(e,t){var r=e.display.externalMeasured;return r&&r.line==t.line?(e.display.externalMeasured=null,t.measure=r.measure,r.built):Ar(e,t)}function wr(e,t){var r=t.text.className,n=_r(e,t);t.text==t.node&&(t.node=n.pre),t.text.parentNode.replaceChild(n.pre,t.text),t.text=n.pre,n.bgClass!=t.bgClass||n.textClass!=t.textClass?(t.bgClass=n.bgClass,t.textClass=n.textClass,Br(e,t)):r&&(t.text.className=r)}function Br(e,t){!function(e,t){var r=t.bgClass?t.bgClass+" "+(t.line.bgClass||""):t.line.bgClass;if(r&&(r+=" CodeMirror-linebackground"),t.background)r?t.background.className=r:(t.background.parentNode.removeChild(t.background),t.background=null);else if(r){var n=mr(t);t.background=n.insertBefore(S("div",null,r),n.firstChild),e.display.input.setUneditable(t.background)}}(e,t),t.line.wrapClass?mr(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className="");var r=t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass;t.text.className=r||""}function yr(e,t,r,n){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var i=mr(t);t.gutterBackground=S("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px; width: "+n.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),i.insertBefore(t.gutterBackground,t.text)}var A=t.line.gutterMarkers;if(e.options.lineNumbers||A){var o=mr(t),a=t.gutter=S("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?n.fixedPos:-n.gutterTotalWidth)+"px");if(e.display.input.setUneditable(a),o.insertBefore(a,t.text),t.line.gutterClass&&(a.className+=" "+t.line.gutterClass),!e.options.lineNumbers||A&&A["CodeMirror-linenumbers"]||(t.lineNumber=a.appendChild(S("div",he(e.options,r),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+n.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),A)for(var s=0;s<e.options.gutters.length;++s){var l=e.options.gutters[s],c=A.hasOwnProperty(l)&&A[l];c&&a.appendChild(S("div",[c],"CodeMirror-gutter-elt","left: "+n.gutterLeft[l]+"px; width: "+n.gutterWidth[l]+"px"))}}}function xr(e,t,r){t.alignable&&(t.alignable=null);for(var n=t.node.firstChild,i=void 0;n;n=i)i=n.nextSibling,"CodeMirror-linewidget"==n.className&&t.node.removeChild(n);br(e,t,r)}function br(e,t,r){if(Cr(e,t.line,t,r,!0),t.rest)for(var n=0;n<t.rest.length;n++)Cr(e,t.rest[n],t,r,!1)}function Cr(e,t,r,n,i){if(t.widgets)for(var A=mr(r),o=0,a=t.widgets;o<a.length;++o){var s=a[o],l=S("div",[s.node],"CodeMirror-linewidget");s.handleMouseEvents||l.setAttribute("cm-ignore-events","true"),Qr(s,l,r,n),e.display.input.setUneditable(l),i&&s.above?A.insertBefore(l,r.gutter||r.text):A.appendChild(l),hr(s,"redraw")}}function Qr(e,t,r,n){if(e.noHScroll){(r.alignable||(r.alignable=[])).push(t);var i=n.wrapperWidth;t.style.left=n.fixedPos+"px",e.coverGutter||(i-=n.gutterTotalWidth,t.style.paddingLeft=n.gutterTotalWidth+"px"),t.style.width=i+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-n.gutterTotalWidth+"px"))}function Er(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!H(document.body,e.node)){var r="position: relative;";e.coverGutter&&(r+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(r+="width: "+t.display.wrapper.clientWidth+"px;"),U(t.display.measure,S("div",[e.node],null,r))}return e.height=e.node.parentNode.offsetHeight}function Ur(e,t){for(var r=Bt(t);r!=e.wrapper;r=r.parentNode)if(!r||1==r.nodeType&&"true"==r.getAttribute("cm-ignore-events")||r.parentNode==e.sizer&&r!=e.mover)return!0}function Fr(e){return e.lineSpace.offsetTop}function Sr(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function Hr(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=U(e.measure,S("pre","x")),r=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,n={left:parseInt(r.paddingLeft),right:parseInt(r.paddingRight)};return isNaN(n.left)||isNaN(n.right)||(e.cachedPaddingH=n),n}function Tr(e){return R-e.display.nativeBarWidth}function kr(e){return e.display.scroller.clientWidth-Tr(e)-e.display.barWidth}function Nr(e){return e.display.scroller.clientHeight-Tr(e)-e.display.barHeight}function Ir(e,t,r){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var n=0;n<e.rest.length;n++)if(e.rest[n]==t)return{map:e.measure.maps[n],cache:e.measure.caches[n]};for(var i=0;i<e.rest.length;i++)if(de(e.rest[i])>r)return{map:e.measure.maps[i],cache:e.measure.caches[i],before:!0}}function Mr(e,t,r,n){return Or(e,Dr(e,t),r,n)}function Lr(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[hn(e,t)];var r=e.display.externalMeasured;return r&&t>=r.lineN&&t<r.lineN+r.size?r:void 0}function Dr(e,t){var r=de(t),n=Lr(e,r);n&&!n.text?n=null:n&&n.changes&&(vr(e,n,r,cn(e)),e.curOp.forceUpdate=!0),n||(n=function(e,t){var r=de(t=Pe(t)),n=e.display.externalMeasured=new ur(e.doc,t,r);n.lineN=r;var i=n.built=Ar(e,n);return n.text=i.pre,U(e.display.lineMeasure,i.pre),n}(e,t));var i=Ir(n,t,r);return{line:t,view:n,rect:null,map:i.map,cache:i.cache,before:i.before,hasHeights:!1}}function Or(e,t,r,n,i){t.before&&(r=-1);var A,o=r+(n||"");return t.cache.hasOwnProperty(o)?A=t.cache[o]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(e,t,r){var n=e.options.lineWrapping,i=n&&kr(e);if(!t.measure.heights||n&&t.measure.width!=i){var A=t.measure.heights=[];if(n){t.measure.width=i;for(var o=t.text.firstChild.getClientRects(),a=0;a<o.length-1;a++){var s=o[a],l=o[a+1];2<Math.abs(s.bottom-l.bottom)&&A.push((s.bottom+l.top)/2-r.top)}}A.push(r.bottom-r.top)}}(e,t.view,t.rect),t.hasHeights=!0),(A=function(e,t,r,n){var i,A=Pr(t.map,r,n),o=A.node,a=A.start,s=A.end,l=A.collapse;if(3==o.nodeType){for(var c=0;c<4;c++){for(;a&&ie(t.line.text.charAt(A.coverStart+a));)--a;for(;A.coverStart+s<A.coverEnd&&ie(t.line.text.charAt(A.coverStart+s));)++s;if((i=B&&y<9&&0==a&&s==A.coverEnd-A.coverStart?o.parentNode.getBoundingClientRect():zr(C(o,a,s).getClientRects(),n)).left||i.right||0==a)break;s=a,a-=1,l="right"}B&&y<11&&(i=function(e,t){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(e){if(null!=Tt)return Tt;var t=U(e,S("span","x")),r=t.getBoundingClientRect(),n=C(t,0,1).getBoundingClientRect();return Tt=1<Math.abs(r.left-n.left)}(e))return t;var r=screen.logicalXDPI/screen.deviceXDPI,n=screen.logicalYDPI/screen.deviceYDPI;return{left:t.left*r,right:t.right*r,top:t.top*n,bottom:t.bottom*n}}(e.display.measure,i))}else{var u;0<a&&(l=n="right"),i=e.options.lineWrapping&&1<(u=o.getClientRects()).length?u["right"==n?u.length-1:0]:o.getBoundingClientRect()}if(B&&y<9&&!a&&(!i||!i.left&&!i.right)){var d=o.parentNode.getClientRects()[0];i=d?{left:d.left,right:d.left+ln(e.display),top:d.top,bottom:d.bottom}:Rr}for(var f=i.top-t.rect.top,p=i.bottom-t.rect.top,h=(f+p)/2,g=t.view.measure.heights,v=0;v<g.length-1&&!(h<g[v]);v++);var m=v?g[v-1]:0,_=g[v],w={left:("right"==l?i.right:i.left)-t.rect.left,right:("left"==l?i.left:i.right)-t.rect.left,top:m,bottom:_};i.left||i.right||(w.bogus=!0);e.options.singleCursorHeightPerLine||(w.rtop=f,w.rbottom=p);return w}(e,t,r,n)).bogus||(t.cache[o]=A)),{left:A.left,right:A.right,top:i?A.rtop:A.top,bottom:i?A.rbottom:A.bottom}}var Kr,Rr={left:0,right:0,top:0,bottom:0};function Pr(e,t,r){for(var n,i,A,o,a,s,l=0;l<e.length;l+=3)if(a=e[l],s=e[l+1],t<a?(i=0,A=1,o="left"):t<s?A=(i=t-a)+1:(l==e.length-3||t==s&&e[l+3]>t)&&(i=(A=s-a)-1,s<=t&&(o="right")),null!=i){if(n=e[l+2],a==s&&r==(n.insertLeft?"left":"right")&&(o=r),"left"==r&&0==i)for(;l&&e[l-2]==e[l-3]&&e[l-1].insertLeft;)n=e[2+(l-=3)],o="left";if("right"==r&&i==s-a)for(;l<e.length-3&&e[l+3]==e[l+4]&&!e[l+5].insertLeft;)n=e[(l+=3)+2],o="right";break}return{node:n,start:i,end:A,collapse:o,coverStart:a,coverEnd:s}}function zr(e,t){var r=Rr;if("left"==t)for(var n=0;n<e.length&&(r=e[n]).left==r.right;n++);else for(var i=e.length-1;0<=i&&(r=e[i]).left==r.right;i--);return r}function Xr(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function Wr(e){e.display.externalMeasure=null,E(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)Xr(e.display.view[t])}function Vr(e){Wr(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function Gr(){return o&&u?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function Yr(){return o&&u?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function jr(e){var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;++r)e.widgets[r].above&&(t+=Er(e.widgets[r]));return t}function Jr(e,t,r,n,i){if(!i){var A=jr(t);r.top+=A,r.bottom+=A}if("line"==n)return r;n||(n="local");var o=Ge(t);if("local"==n?o+=Fr(e.display):o-=e.display.viewOffset,"page"==n||"window"==n){var a=e.display.lineSpace.getBoundingClientRect();o+=a.top+("window"==n?0:Yr());var s=a.left+("window"==n?0:Gr());r.left+=s,r.right+=s}return r.top+=o,r.bottom+=o,r}function qr(e,t,r){if("div"==r)return t;var n=t.left,i=t.top;if("page"==r)n-=Gr(),i-=Yr();else if("local"==r||!r){var A=e.display.sizer.getBoundingClientRect();n+=A.left,i+=A.top}var o=e.display.lineSpace.getBoundingClientRect();return{left:n-o.left,top:i-o.top}}function $r(e,t,r,n,i){return n||(n=se(e.doc,t.line)),Jr(e,n,Mr(e,n,t.ch,i),r)}function Zr(n,e,i,A,o,a){function s(e,t){var r=Or(n,o,e,t?"right":"left",a);return t?r.left=r.right:r.right=r.left,Jr(n,A,r,i)}A=A||se(n.doc,e.line),o||(o=Dr(n,A));var l=at(A,n.doc.direction),t=e.ch,r=e.sticky;if(t>=A.text.length?(t=A.text.length,r="before"):t<=0&&(t=0,r="after"),!l)return s("before"==r?t-1:t,"before"==r);function c(e,t,r){return s(r?e-1:e,1==l[t].level!=r)}var u=qe(l,t,r),d=Je,f=c(t,u,"before"==r);return null!=d&&(f.other=c(t,d,"before"!=r)),f}function en(e,t){var r=0;t=xe(e.doc,t),e.options.lineWrapping||(r=ln(e.display)*t.ch);var n=se(e.doc,t.line),i=Ge(n)+Fr(e.display);return{left:r,right:r,top:i,bottom:i+n.height}}function tn(e,t,r,n,i){var A=ge(e,t,r);return A.xRel=i,n&&(A.outside=!0),A}function rn(e,t,r){var n=e.doc;if((r+=e.display.viewOffset)<0)return tn(n.first,0,null,!0,-1);var i=fe(n,r),A=n.first+n.size-1;if(A<i)return tn(n.first+n.size-1,se(n,A).text.length,null,!0,1);t<0&&(t=0);for(var o=se(n,i);;){var a=an(e,o,i,t,r),s=Ke(o,a.ch+(0<a.xRel?1:0));if(!s)return a;var l=s.find(1);if(l.line==i)return l;o=se(n,i=l.line)}}function nn(t,e,r,n){n-=jr(e);var i=e.text.length,A=oe(function(e){return Or(t,r,e-1).bottom<=n},i,0);return{begin:A,end:i=oe(function(e){return Or(t,r,e).top>n},A,i)}}function An(e,t,r,n){return r||(r=Dr(e,t)),nn(e,t,r,Jr(e,t,Or(e,r,n),"line").top)}function on(e,t,r,n){return!(e.bottom<=r)&&(e.top>r||(n?e.left:e.right)>t)}function an(r,e,t,n,i){i-=Ge(e);var A=Dr(r,e),o=jr(e),a=0,s=e.text.length,l=!0,c=at(e,r.doc.direction);if(c){var u=(r.options.lineWrapping?function(e,t,r,n,i,A,o){var a=nn(e,t,n,o),s=a.begin,l=a.end;/\s/.test(t.text.charAt(l-1))&&l--;for(var c=null,u=null,d=0;d<i.length;d++){var f=i[d];if(!(f.from>=l||f.to<=s)){var p=1!=f.level,h=Or(e,n,p?Math.min(l,f.to)-1:Math.max(s,f.from)).right,g=h<A?A-h+1e9:h-A;(!c||g<u)&&(c=f,u=g)}}c||(c=i[i.length-1]);c.from<s&&(c={from:s,to:c.to,level:c.level});c.to>l&&(c={from:c.from,to:l,level:c.level});return c}:function(n,i,A,o,a,s,l){var e=oe(function(e){var t=a[e],r=1!=t.level;return on(Zr(n,ge(A,r?t.to:t.from,r?"before":"after"),"line",i,o),s,l,!0)},0,a.length-1),t=a[e];if(0<e){var r=1!=t.level,c=Zr(n,ge(A,r?t.from:t.to,r?"after":"before"),"line",i,o);on(c,s,l,!0)&&c.top>l&&(t=a[e-1])}return t})(r,e,t,A,c,n,i);a=(l=1!=u.level)?u.from:u.to-1,s=l?u.to:u.from-1}var d,f,p=null,h=null,g=oe(function(e){var t=Or(r,A,e);return t.top+=o,t.bottom+=o,!!on(t,n,i,!1)&&(t.top<=i&&t.left<=n&&(p=e,h=t),!0)},a,s),v=!1;if(h){var m=n-h.left<h.right-n,_=m==l;g=p+(_?0:1),f=_?"after":"before",d=m?h.left:h.right}else{l||g!=s&&g!=a||g++,f=0==g?"after":g==e.text.length?"before":Or(r,A,g-(l?1:0)).bottom+o<=i==l?"after":"before";var w=Zr(r,ge(t,g,f),"line",e,A);d=w.left,v=i<w.top||i>=w.bottom}return tn(t,g=Ae(e.text,g,1),f,v,n-d)}function sn(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==Kr){Kr=S("pre");for(var t=0;t<49;++t)Kr.appendChild(document.createTextNode("x")),Kr.appendChild(S("br"));Kr.appendChild(document.createTextNode("x"))}U(e.measure,Kr);var r=Kr.offsetHeight/50;return 3<r&&(e.cachedTextHeight=r),E(e.measure),r||1}function ln(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=S("span","xxxxxxxxxx"),r=S("pre",[t]);U(e.measure,r);var n=t.getBoundingClientRect(),i=(n.right-n.left)/10;return 2<i&&(e.cachedCharWidth=i),i||10}function cn(e){for(var t=e.display,r={},n={},i=t.gutters.clientLeft,A=t.gutters.firstChild,o=0;A;A=A.nextSibling,++o)r[e.options.gutters[o]]=A.offsetLeft+A.clientLeft+i,n[e.options.gutters[o]]=A.clientWidth;return{fixedPos:un(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:r,gutterWidth:n,wrapperWidth:t.wrapper.clientWidth}}function un(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function dn(n){var i=sn(n.display),A=n.options.lineWrapping,o=A&&Math.max(5,n.display.scroller.clientWidth/ln(n.display)-3);return function(e){if(We(n.doc,e))return 0;var t=0;if(e.widgets)for(var r=0;r<e.widgets.length;r++)e.widgets[r].height&&(t+=e.widgets[r].height);return A?t+(Math.ceil(e.text.length/o)||1)*i:t+i}}function fn(e){var t=e.doc,r=dn(e);t.iter(function(e){var t=r(e);t!=e.height&&ue(e,t)})}function pn(e,t,r,n){var i=e.display;if(!r&&"true"==Bt(t).getAttribute("cm-not-content"))return null;var A,o,a=i.lineSpace.getBoundingClientRect();try{A=t.clientX-a.left,o=t.clientY-a.top}catch(t){return null}var s,l=rn(e,A,o);if(n&&1==l.xRel&&(s=se(e.doc,l.line).text).length==l.ch){var c=D(s,s.length,e.options.tabSize)-s.length;l=ge(l.line,Math.max(0,Math.round((A-Hr(e.display).left)/ln(e.display))-c))}return l}function hn(e,t){if(t>=e.display.viewTo)return null;if((t-=e.display.viewFrom)<0)return null;for(var r=e.display.view,n=0;n<r.length;n++)if((t-=r[n].size)<0)return n}function gn(e){e.display.input.showSelection(e.display.input.prepareSelection())}function vn(e,t){void 0===t&&(t=!0);for(var r=e.doc,n={},i=n.cursors=document.createDocumentFragment(),A=n.selection=document.createDocumentFragment(),o=0;o<r.sel.ranges.length;o++)if(t||o!=r.sel.primIndex){var a=r.sel.ranges[o];if(!(a.from().line>=e.display.viewTo||a.to().line<e.display.viewFrom)){var s=a.empty();(s||e.options.showCursorWhenSelecting)&&mn(e,a.head,i),s||wn(e,a,A)}}return n}function mn(e,t,r){var n=Zr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),i=r.appendChild(S("div","\xa0","CodeMirror-cursor"));if(i.style.left=n.left+"px",i.style.top=n.top+"px",i.style.height=Math.max(0,n.bottom-n.top)*e.options.cursorHeight+"px",n.other){var A=r.appendChild(S("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));A.style.display="",A.style.left=n.other.left+"px",A.style.top=n.other.top+"px",A.style.height=.85*(n.other.bottom-n.other.top)+"px"}}function _n(e,t){return e.top-t.top||e.left-t.left}function wn(o,e,t){var r=o.display,n=o.doc,i=document.createDocumentFragment(),A=Hr(o.display),Q=A.left,E=Math.max(r.sizerWidth,kr(o)-r.sizer.offsetLeft)-A.right,U="ltr"==n.direction;function F(e,t,r,n){t<0&&(t=0),t=Math.round(t),n=Math.round(n),i.appendChild(S("div",null,"CodeMirror-selected","position: absolute; left: "+e+"px;\n                             top: "+t+"px; width: "+(null==r?E-e:r)+"px;\n                             height: "+(n-t)+"px"))}function a(r,m,_){var w,B,A=se(n,r),y=A.text.length;function x(e,t){return $r(o,ge(r,e),"div",A,t)}function b(e,t,r){var n=An(o,A,null,e),i="ltr"==t==("after"==r)?"left":"right";return x("after"==r?n.begin:n.end-(/\s/.test(A.text.charAt(n.end-1))?2:1),i)[i]}var C=at(A,n.direction);return function(e,t,r,n){if(!e)return n(t,r,"ltr",0);for(var i=!1,A=0;A<e.length;++A){var o=e[A];(o.from<r&&o.to>t||t==r&&o.to==t)&&(n(Math.max(o.from,t),Math.min(o.to,r),1==o.level?"rtl":"ltr",A),i=!0)}i||n(t,r,"ltr")}(C,m||0,null==_?y:_,function(e,t,r,n){var i="ltr"==r,A=x(e,i?"left":"right"),o=x(t-1,i?"right":"left"),a=null==m&&0==e,s=null==_&&t==y,l=0==n,c=!C||n==C.length-1;if(o.top-A.top<=3){var u=(U?s:a)&&c,d=(U?a:s)&&l?Q:(i?A:o).left,f=u?E:(i?o:A).right;F(d,A.top,f-d,A.bottom)}else{var p,h,g,v;v=i?(p=U&&a&&l?Q:A.left,h=U?E:b(e,r,"before"),g=U?Q:b(t,r,"after"),U&&s&&c?E:o.right):(p=U?b(e,r,"before"):Q,h=!U&&a&&l?E:A.right,g=!U&&s&&c?Q:o.left,U?b(t,r,"after"):E),F(p,A.top,h-p,A.bottom),A.bottom<o.top&&F(Q,A.bottom,null,o.top),F(g,o.top,v-g,o.bottom)}(!w||_n(A,w)<0)&&(w=A),_n(o,w)<0&&(w=o),(!B||_n(A,B)<0)&&(B=A),_n(o,B)<0&&(B=o)}),{start:w,end:B}}var s=e.from(),l=e.to();if(s.line==l.line)a(s.line,s.ch,l.ch);else{var c=se(n,s.line),u=se(n,l.line),d=Pe(c)==Pe(u),f=a(s.line,s.ch,d?c.text.length+1:null).end,p=a(l.line,d?0:null,l.ch).start;d&&(f.top<p.top-2?(F(f.right,f.top,null,f.bottom),F(Q,p.top,p.left,p.bottom)):F(f.right,f.top,p.left-f.right,f.bottom)),f.bottom<p.top&&F(Q,f.bottom,null,p.top)}t.appendChild(i)}function Bn(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var r=!0;t.cursorDiv.style.visibility="",0<e.options.cursorBlinkRate?t.blinker=setInterval(function(){return t.cursorDiv.style.visibility=(r=!r)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function yn(e){e.state.focused||(e.display.input.focus(),bn(e))}function xn(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,Cn(e))},100)}function bn(e,t){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(dt(e,"focus",e,t),e.state.focused=!0,k(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),_&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Bn(e))}function Cn(e,t){e.state.delayingBlurEvent||(e.state.focused&&(dt(e,"blur",e,t),e.state.focused=!1,Q(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function Qn(e){for(var t=e.display,r=t.lineDiv.offsetTop,n=0;n<t.view.length;n++){var i=t.view[n],A=void 0;if(!i.hidden){if(B&&y<8){var o=i.node.offsetTop+i.node.offsetHeight;A=o-r,r=o}else{var a=i.node.getBoundingClientRect();A=a.bottom-a.top}var s=i.line.height-A;if(A<2&&(A=sn(t)),(.005<s||s<-.005)&&(ue(i.line,A),En(i.line),i.rest))for(var l=0;l<i.rest.length;l++)En(i.rest[l])}}}function En(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var r=e.widgets[t],n=r.node.parentNode;n&&(r.height=n.offsetHeight)}}function Un(e,t,r){var n=r&&null!=r.top?Math.max(0,r.top):e.scroller.scrollTop;n=Math.floor(n-Fr(e));var i=r&&null!=r.bottom?r.bottom:n+e.wrapper.clientHeight,A=fe(t,n),o=fe(t,i);if(r&&r.ensure){var a=r.ensure.from.line,s=r.ensure.to.line;a<A?o=fe(t,Ge(se(t,A=a))+e.wrapper.clientHeight):Math.min(s,t.lastLine())>=o&&(A=fe(t,Ge(se(t,s))-e.wrapper.clientHeight),o=s)}return{from:A,to:Math.max(o,A+1)}}function Fn(e){var t=e.display,r=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var n=un(t)-t.scroller.scrollLeft+e.doc.scrollLeft,i=t.gutters.offsetWidth,A=n+"px",o=0;o<r.length;o++)if(!r[o].hidden){e.options.fixedGutter&&(r[o].gutter&&(r[o].gutter.style.left=A),r[o].gutterBackground&&(r[o].gutterBackground.style.left=A));var a=r[o].alignable;if(a)for(var s=0;s<a.length;s++)a[s].style.left=A}e.options.fixedGutter&&(t.gutters.style.left=n+i+"px")}}function Sn(e){if(!e.options.lineNumbers)return!1;var t=e.doc,r=he(e.options,t.first+t.size-1),n=e.display;if(r.length==n.lineNumChars)return!1;var i=n.measure.appendChild(S("div",[S("div",r)],"CodeMirror-linenumber CodeMirror-gutter-elt")),A=i.firstChild.offsetWidth,o=i.offsetWidth-A;return n.lineGutter.style.width="",n.lineNumInnerWidth=Math.max(A,n.lineGutter.offsetWidth-o)+1,n.lineNumWidth=n.lineNumInnerWidth+o,n.lineNumChars=n.lineNumInnerWidth?r.length:-1,n.lineGutter.style.width=n.lineNumWidth+"px",hi(e),!0}function Hn(e,t){var r=e.display,n=sn(e.display);t.top<0&&(t.top=0);var i=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:r.scroller.scrollTop,A=Nr(e),o={};t.bottom-t.top>A&&(t.bottom=t.top+A);var a=e.doc.height+Sr(r),s=t.top<n,l=t.bottom>a-n;if(t.top<i)o.scrollTop=s?0:t.top;else if(t.bottom>i+A){var c=Math.min(t.top,(l?a:t.bottom)-A);c!=i&&(o.scrollTop=c)}var u=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:r.scroller.scrollLeft,d=kr(e)-(e.options.fixedGutter?r.gutters.offsetWidth:0),f=t.right-t.left>d;return f&&(t.right=t.left+d),t.left<10?o.scrollLeft=0:t.left<u?o.scrollLeft=Math.max(0,t.left-(f?0:10)):t.right>d+u-3&&(o.scrollLeft=t.right+(f?0:10)-d),o}function Tn(e,t){null!=t&&(In(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function kn(e){In(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function Nn(e,t,r){null==t&&null==r||In(e),null!=t&&(e.curOp.scrollLeft=t),null!=r&&(e.curOp.scrollTop=r)}function In(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,Mn(e,en(e,t.from),en(e,t.to),t.margin))}function Mn(e,t,r,n){var i=Hn(e,{left:Math.min(t.left,r.left),top:Math.min(t.top,r.top)-n,right:Math.max(t.right,r.right),bottom:Math.max(t.bottom,r.bottom)+n});Nn(e,i.scrollLeft,i.scrollTop)}function Ln(e,t){Math.abs(e.doc.scrollTop-t)<2||(h||pi(e,{top:t}),Dn(e,t,!0),h&&pi(e),li(e,100))}function Dn(e,t,r){t=Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t),(e.display.scroller.scrollTop!=t||r)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function On(e,t,r,n){t=Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth),(r?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!n||(e.doc.scrollLeft=t,Fn(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Kn(e){var t=e.display,r=t.gutters.offsetWidth,n=Math.round(e.doc.height+Sr(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?r:0,docHeight:n,scrollHeight:n+Tr(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:r}}function Rn(e,t,r){this.cm=r;var n=this.vert=S("div",[S("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),i=this.horiz=S("div",[S("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");n.tabIndex=i.tabIndex=-1,e(n),e(i),lt(n,"scroll",function(){n.clientHeight&&t(n.scrollTop,"vertical")}),lt(i,"scroll",function(){i.clientWidth&&t(i.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,B&&y<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")}Rn.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,r=e.scrollHeight>e.clientHeight+1,n=e.nativeBarWidth;if(r){this.vert.style.display="block",this.vert.style.bottom=t?n+"px":"0";var i=e.viewHeight-(t?n:0);this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+i)+"px"}else this.vert.style.display="",this.vert.firstChild.style.height="0";if(t){this.horiz.style.display="block",this.horiz.style.right=r?n+"px":"0",this.horiz.style.left=e.barLeft+"px";var A=e.viewWidth-e.barLeft-(r?n:0);this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+A)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&0<e.clientHeight&&(0==n&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:r?n:0,bottom:t?n:0}},Rn.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Rn.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Rn.prototype.zeroWidthHack=function(){var e=w&&!a?"12px":"18px";this.horiz.style.height=this.vert.style.width=e,this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new O,this.disableVert=new O},Rn.prototype.enableZeroWidthBar=function(r,n,i){r.style.pointerEvents="auto",n.set(1e3,function e(){var t=r.getBoundingClientRect();("vert"==i?document.elementFromPoint(t.right-1,(t.top+t.bottom)/2):document.elementFromPoint((t.right+t.left)/2,t.bottom-1))!=r?r.style.pointerEvents="none":n.set(1e3,e)})},Rn.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};function Pn(){}function zn(e,t){t||(t=Kn(e));var r=e.display.barWidth,n=e.display.barHeight;Xn(e,t);for(var i=0;i<4&&r!=e.display.barWidth||n!=e.display.barHeight;i++)r!=e.display.barWidth&&e.options.lineWrapping&&Qn(e),Xn(e,Kn(e)),r=e.display.barWidth,n=e.display.barHeight}function Xn(e,t){var r=e.display,n=r.scrollbars.update(t);r.sizer.style.paddingRight=(r.barWidth=n.right)+"px",r.sizer.style.paddingBottom=(r.barHeight=n.bottom)+"px",r.heightForcer.style.borderBottom=n.bottom+"px solid transparent",n.right&&n.bottom?(r.scrollbarFiller.style.display="block",r.scrollbarFiller.style.height=n.bottom+"px",r.scrollbarFiller.style.width=n.right+"px"):r.scrollbarFiller.style.display="",n.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(r.gutterFiller.style.display="block",r.gutterFiller.style.height=n.bottom+"px",r.gutterFiller.style.width=t.gutterWidth+"px"):r.gutterFiller.style.display=""}Pn.prototype.update=function(){return{bottom:0,right:0}},Pn.prototype.setScrollLeft=function(){},Pn.prototype.setScrollTop=function(){},Pn.prototype.clear=function(){};var Wn={native:Rn,null:Pn};function Vn(r){r.display.scrollbars&&(r.display.scrollbars.clear(),r.display.scrollbars.addClass&&Q(r.display.wrapper,r.display.scrollbars.addClass)),r.display.scrollbars=new Wn[r.options.scrollbarStyle](function(e){r.display.wrapper.insertBefore(e,r.display.scrollbarFiller),lt(e,"mousedown",function(){r.state.focused&&setTimeout(function(){return r.display.input.focus()},0)}),e.setAttribute("cm-not-content","true")},function(e,t){"horizontal"==t?On(r,e):Ln(r,e)},r),r.display.scrollbars.addClass&&k(r.display.wrapper,r.display.scrollbars.addClass)}var Gn=0;function Yn(e){e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:null,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Gn},function(e){fr?fr.ops.push(e):e.ownsGroup=fr={ops:[e],delayedCallbacks:[]}}(e.curOp)}function jn(e){!function(e,t){var r=e.ownsGroup;if(r)try{!function(e){var t=e.delayedCallbacks,r=0;do{for(;r<t.length;r++)t[r].call(null);for(var n=0;n<e.ops.length;n++){var i=e.ops[n];if(i.cursorActivityHandlers)for(;i.cursorActivityCalled<i.cursorActivityHandlers.length;)i.cursorActivityHandlers[i.cursorActivityCalled++].call(null,i.cm)}}while(r<t.length)}(r)}finally{fr=null,t(r)}}(e.curOp,function(e){for(var t=0;t<e.ops.length;t++)e.ops[t].cm.curOp=null;!function(e){for(var t=e.ops,r=0;r<t.length;r++)Jn(t[r]);for(var n=0;n<t.length;n++)(i=t[n]).updatedDisplay=i.mustUpdate&&di(i.cm,i.update);var i;for(var A=0;A<t.length;A++)qn(t[A]);for(var o=0;o<t.length;o++)$n(t[o]);for(var a=0;a<t.length;a++)Zn(t[a])}(e)})}function Jn(e){var t=e.cm,r=t.display;!function(e){var t=e.display;!t.scrollbarsClipped&&t.scroller.offsetWidth&&(t.nativeBarWidth=t.scroller.offsetWidth-t.scroller.clientWidth,t.heightForcer.style.height=Tr(e)+"px",t.sizer.style.marginBottom=-t.nativeBarWidth+"px",t.sizer.style.borderRightWidth=Tr(e)+"px",t.scrollbarsClipped=!0)}(t),e.updateMaxLine&&je(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<r.viewFrom||e.scrollToPos.to.line>=r.viewTo)||r.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new ui(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function qn(e){var t=e.cm,r=t.display;e.updatedDisplay&&Qn(t),e.barMeasure=Kn(t),r.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=Mr(t,r.maxLine,r.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(r.scroller.clientWidth,r.sizer.offsetLeft+e.adjustWidthTo+Tr(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,r.sizer.offsetLeft+e.adjustWidthTo-kr(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=r.input.prepareSelection())}function $n(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&On(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var r=e.focus&&e.focus==T();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,r),(e.updatedDisplay||e.startHeight!=t.doc.height)&&zn(t,e.barMeasure),e.updatedDisplay&&gi(t,e.barMeasure),e.selectionChanged&&Bn(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),r&&yn(e.cm)}function Zn(e){var t=e.cm,r=t.display,n=t.doc;(e.updatedDisplay&&fi(t,e.update),null==r.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(r.wheelStartX=r.wheelStartY=null),null!=e.scrollTop&&Dn(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&On(t,e.scrollLeft,!0,!0),e.scrollToPos)&&function(e,t){if(!ft(e,"scrollCursorIntoView")){var r=e.display,n=r.sizer.getBoundingClientRect(),i=null;if(t.top+n.top<0?i=!0:t.bottom+n.top>(window.innerHeight||document.documentElement.clientHeight)&&(i=!1),null!=i&&!l){var A=S("div","\u200b",null,"position: absolute;\n                         top: "+(t.top-r.viewOffset-Fr(e.display))+"px;\n                         height: "+(t.bottom-t.top+Tr(e)+r.barHeight)+"px;\n                         left: "+t.left+"px; width: "+Math.max(2,t.right-t.left)+"px;");e.display.lineSpace.appendChild(A),A.scrollIntoView(i),e.display.lineSpace.removeChild(A)}}}(t,function(e,t,r,n){var i;null==n&&(n=0),e.options.lineWrapping||t!=r||(r="before"==(t=t.ch?ge(t.line,"before"==t.sticky?t.ch-1:t.ch,"after"):t).sticky?ge(t.line,t.ch+1,"before"):t);for(var A=0;A<5;A++){var o=!1,a=Zr(e,t),s=r&&r!=t?Zr(e,r):a,l=Hn(e,i={left:Math.min(a.left,s.left),top:Math.min(a.top,s.top)-n,right:Math.max(a.left,s.left),bottom:Math.max(a.bottom,s.bottom)+n}),c=e.doc.scrollTop,u=e.doc.scrollLeft;if(null!=l.scrollTop&&(Ln(e,l.scrollTop),1<Math.abs(e.doc.scrollTop-c)&&(o=!0)),null!=l.scrollLeft&&(On(e,l.scrollLeft),1<Math.abs(e.doc.scrollLeft-u)&&(o=!0)),!o)break}return i}(t,xe(n,e.scrollToPos.from),xe(n,e.scrollToPos.to),e.scrollToPos.margin));var i=e.maybeHiddenMarkers,A=e.maybeUnhiddenMarkers;if(i)for(var o=0;o<i.length;++o)i[o].lines.length||dt(i[o],"hide");if(A)for(var a=0;a<A.length;++a)A[a].lines.length&&dt(A[a],"unhide");r.wrapper.offsetHeight&&(n.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&dt(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function ei(e,t){if(e.curOp)return t();Yn(e);try{return t()}finally{jn(e)}}function ti(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Yn(e);try{return t.apply(e,arguments)}finally{jn(e)}}}function ri(e){return function(){if(this.curOp)return e.apply(this,arguments);Yn(this);try{return e.apply(this,arguments)}finally{jn(this)}}}function ni(t){return function(){var e=this.cm;if(!e||e.curOp)return t.apply(this,arguments);Yn(e);try{return t.apply(this,arguments)}finally{jn(e)}}}function ii(e,t,r,n){null==t&&(t=e.doc.first),null==r&&(r=e.doc.first+e.doc.size),n||(n=0);var i=e.display;if(n&&r<i.viewTo&&(null==i.updateLineNumbers||i.updateLineNumbers>t)&&(i.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=i.viewTo)Qe&&ze(e.doc,t)<i.viewTo&&oi(e);else if(r<=i.viewFrom)Qe&&Xe(e.doc,r+n)>i.viewFrom?oi(e):(i.viewFrom+=n,i.viewTo+=n);else if(t<=i.viewFrom&&r>=i.viewTo)oi(e);else if(t<=i.viewFrom){var A=ai(e,r,r+n,1);A?(i.view=i.view.slice(A.index),i.viewFrom=A.lineN,i.viewTo+=n):oi(e)}else if(r>=i.viewTo){var o=ai(e,t,t,-1);o?(i.view=i.view.slice(0,o.index),i.viewTo=o.lineN):oi(e)}else{var a=ai(e,t,t,-1),s=ai(e,r,r+n,1);a&&s?(i.view=i.view.slice(0,a.index).concat(dr(e,a.lineN,s.lineN)).concat(i.view.slice(s.index)),i.viewTo+=n):oi(e)}var l=i.externalMeasured;l&&(r<l.lineN?l.lineN+=n:t<l.lineN+l.size&&(i.externalMeasured=null))}function Ai(e,t,r){e.curOp.viewChanged=!0;var n=e.display,i=e.display.externalMeasured;if(i&&t>=i.lineN&&t<i.lineN+i.size&&(n.externalMeasured=null),!(t<n.viewFrom||t>=n.viewTo)){var A=n.view[hn(e,t)];if(null!=A.node){var o=A.changes||(A.changes=[]);-1==K(o,r)&&o.push(r)}}}function oi(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function ai(e,t,r,n){var i,A=hn(e,t),o=e.display.view;if(!Qe||r==e.doc.first+e.doc.size)return{index:A,lineN:r};for(var a=e.display.viewFrom,s=0;s<A;s++)a+=o[s].size;if(a!=t){if(0<n){if(A==o.length-1)return null;i=a+o[A].size-t,A++}else i=a-t;t+=i,r+=i}for(;ze(e.doc,r)!=r;){if(A==(n<0?0:o.length-1))return null;r+=n*o[A-(n<0?1:0)].size,A+=n}return{index:A,lineN:r}}function si(e){for(var t=e.display.view,r=0,n=0;n<t.length;n++){var i=t[n];i.hidden||i.node&&!i.changes||++r}return r}function li(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,M(ci,e))}function ci(s){var l=s.doc;if(!(l.highlightFrontier>=s.display.viewTo)){var c=+new Date+s.options.workTime,u=Gt(s,l.highlightFrontier),d=[];l.iter(u.line,Math.min(l.first+l.size,s.display.viewTo+500),function(e){if(u.line>=s.display.viewFrom){var t=e.styles,r=e.text.length>s.options.maxHighlightLength?Ot(l.mode,u.state):null,n=Wt(s,e,u,!0);r&&(u.state=r),e.styles=n.styles;var i=e.styleClasses,A=n.classes;A?e.styleClasses=A:i&&(e.styleClasses=null);for(var o=!t||t.length!=e.styles.length||i!=A&&(!i||!A||i.bgClass!=A.bgClass||i.textClass!=A.textClass),a=0;!o&&a<t.length;++a)o=t[a]!=e.styles[a];o&&d.push(u.line),e.stateAfter=u.save(),u.nextLine()}else e.text.length<=s.options.maxHighlightLength&&Yt(s,e.text,u),e.stateAfter=u.line%5==0?u.save():null,u.nextLine();if(+new Date>c)return li(s,s.options.workDelay),!0}),l.highlightFrontier=u.line,l.modeFrontier=Math.max(l.modeFrontier,u.line),d.length&&ei(s,function(){for(var e=0;e<d.length;e++)Ai(s,d[e],"text")})}}var ui=function(e,t,r){var n=e.display;this.viewport=t,this.visible=Un(n,e.doc,t),this.editorIsHidden=!n.wrapper.offsetWidth,this.wrapperHeight=n.wrapper.clientHeight,this.wrapperWidth=n.wrapper.clientWidth,this.oldDisplayWidth=kr(e),this.force=r,this.dims=cn(e),this.events=[]};function di(e,t){var r=e.display,n=e.doc;if(t.editorIsHidden)return oi(e),!1;if(!t.force&&t.visible.from>=r.viewFrom&&t.visible.to<=r.viewTo&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo)&&r.renderedView==r.view&&0==si(e))return!1;Sn(e)&&(oi(e),t.dims=cn(e));var i=n.first+n.size,A=Math.max(t.visible.from-e.options.viewportMargin,n.first),o=Math.min(i,t.visible.to+e.options.viewportMargin);r.viewFrom<A&&A-r.viewFrom<20&&(A=Math.max(n.first,r.viewFrom)),r.viewTo>o&&r.viewTo-o<20&&(o=Math.min(i,r.viewTo)),Qe&&(A=ze(e.doc,A),o=Xe(e.doc,o));var a=A!=r.viewFrom||o!=r.viewTo||r.lastWrapHeight!=t.wrapperHeight||r.lastWrapWidth!=t.wrapperWidth;!function(e,t,r){var n=e.display;0==n.view.length||t>=n.viewTo||r<=n.viewFrom?(n.view=dr(e,t,r),n.viewFrom=t):(n.viewFrom>t?n.view=dr(e,t,n.viewFrom).concat(n.view):n.viewFrom<t&&(n.view=n.view.slice(hn(e,t))),n.viewFrom=t,n.viewTo<r?n.view=n.view.concat(dr(e,n.viewTo,r)):n.viewTo>r&&(n.view=n.view.slice(0,hn(e,r)))),n.viewTo=r}(e,A,o),r.viewOffset=Ge(se(e.doc,r.viewFrom)),e.display.mover.style.top=r.viewOffset+"px";var s=si(e);if(!a&&0==s&&!t.force&&r.renderedView==r.view&&(null==r.updateLineNumbers||r.updateLineNumbers>=r.viewTo))return!1;var l=function(e){if(e.hasFocus())return null;var t=T();if(!t||!H(e.display.lineDiv,t))return null;var r={activeElt:t};if(window.getSelection){var n=window.getSelection();n.anchorNode&&n.extend&&H(e.display.lineDiv,n.anchorNode)&&(r.anchorNode=n.anchorNode,r.anchorOffset=n.anchorOffset,r.focusNode=n.focusNode,r.focusOffset=n.focusOffset)}return r}(e);return 4<s&&(r.lineDiv.style.display="none"),function(r,e,t){var n=r.display,i=r.options.lineNumbers,A=n.lineDiv,o=A.firstChild;function a(e){var t=e.nextSibling;return _&&w&&r.display.currentWheelTarget==e?e.style.display="none":e.parentNode.removeChild(e),t}for(var s=n.view,l=n.viewFrom,c=0;c<s.length;c++){var u=s[c];if(u.hidden);else if(u.node&&u.node.parentNode==A){for(;o!=u.node;)o=a(o);var d=i&&null!=e&&e<=l&&u.lineNumber;u.changes&&(-1<K(u.changes,"gutter")&&(d=!1),vr(r,u,l,t)),d&&(E(u.lineNumber),u.lineNumber.appendChild(document.createTextNode(he(r.options,l)))),o=u.node.nextSibling}else{var f=(g=l,v=t,void 0,m=_r(p=r,h=u),h.text=h.node=m.pre,m.bgClass&&(h.bgClass=m.bgClass),m.textClass&&(h.textClass=m.textClass),Br(p,h),yr(p,h,g,v),br(p,h,v),h.node);A.insertBefore(f,o)}l+=u.size}var p,h,g,v,m;for(;o;)o=a(o)}(e,r.updateLineNumbers,t.dims),4<s&&(r.lineDiv.style.display=""),r.renderedView=r.view,function(e){if(e&&e.activeElt&&e.activeElt!=T()&&(e.activeElt.focus(),e.anchorNode&&H(document.body,e.anchorNode)&&H(document.body,e.focusNode))){var t=window.getSelection(),r=document.createRange();r.setEnd(e.anchorNode,e.anchorOffset),r.collapse(!1),t.removeAllRanges(),t.addRange(r),t.extend(e.focusNode,e.focusOffset)}}(l),E(r.cursorDiv),E(r.selectionDiv),r.gutters.style.height=r.sizer.style.minHeight=0,a&&(r.lastWrapHeight=t.wrapperHeight,r.lastWrapWidth=t.wrapperWidth,li(e,400)),!(r.updateLineNumbers=null)}function fi(e,t){for(var r=t.viewport,n=!0;(n&&e.options.lineWrapping&&t.oldDisplayWidth!=kr(e)||(r&&null!=r.top&&(r={top:Math.min(e.doc.height+Sr(e.display)-Nr(e),r.top)}),t.visible=Un(e.display,e.doc,r),!(t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)))&&di(e,t);n=!1){Qn(e);var i=Kn(e);gn(e),zn(e,i),gi(e,i),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function pi(e,t){var r=new ui(e,t);if(di(e,r)){Qn(e),fi(e,r);var n=Kn(e);gn(e),zn(e,n),gi(e,n),r.finish()}}function hi(e){var t=e.display.gutters.offsetWidth;e.display.sizer.style.marginLeft=t+"px"}function gi(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Tr(e)+"px"}function vi(e){var t=e.display.gutters,r=e.options.gutters;E(t);for(var n=0;n<r.length;++n){var i=r[n],A=t.appendChild(S("div",null,"CodeMirror-gutter "+i));"CodeMirror-linenumbers"==i&&((e.display.lineGutter=A).style.width=(e.display.lineNumWidth||1)+"px")}t.style.display=n?"":"none",hi(e)}function mi(e){var t=K(e.gutters,"CodeMirror-linenumbers");-1==t&&e.lineNumbers?e.gutters=e.gutters.concat(["CodeMirror-linenumbers"]):-1<t&&!e.lineNumbers&&(e.gutters=e.gutters.slice(0),e.gutters.splice(t,1))}ui.prototype.signal=function(e,t){ht(e,t)&&this.events.push(arguments)},ui.prototype.finish=function(){for(var e=0;e<this.events.length;e++)dt.apply(null,this.events[e])};var _i=0,wi=null;function Bi(e){var t=e.wheelDeltaX,r=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==r&&e.detail&&e.axis==e.VERTICAL_AXIS?r=e.detail:null==r&&(r=e.wheelDelta),{x:t,y:r}}function yi(e){var t=Bi(e);return t.x*=wi,t.y*=wi,t}function xi(e,t){var r=Bi(t),n=r.x,i=r.y,A=e.display,o=A.scroller,a=o.scrollWidth>o.clientWidth,s=o.scrollHeight>o.clientHeight;if(n&&a||i&&s){if(i&&w&&_)e:for(var l=t.target,c=A.view;l!=o;l=l.parentNode)for(var u=0;u<c.length;u++)if(c[u].node==l){e.display.currentWheelTarget=l;break e}if(n&&!h&&!g&&null!=wi)return i&&s&&Ln(e,Math.max(0,o.scrollTop+i*wi)),On(e,Math.max(0,o.scrollLeft+n*wi)),(!i||i&&s)&&vt(t),void(A.wheelStartX=null);if(i&&null!=wi){var d=i*wi,f=e.doc.scrollTop,p=f+A.wrapper.clientHeight;d<0?f=Math.max(0,f+d-50):p=Math.min(e.doc.height,p+d+50),pi(e,{top:f,bottom:p})}_i<20&&(null==A.wheelStartX?(A.wheelStartX=o.scrollLeft,A.wheelStartY=o.scrollTop,A.wheelDX=n,A.wheelDY=i,setTimeout(function(){if(null!=A.wheelStartX){var e=o.scrollLeft-A.wheelStartX,t=o.scrollTop-A.wheelStartY,r=t&&A.wheelDY&&t/A.wheelDY||e&&A.wheelDX&&e/A.wheelDX;A.wheelStartX=A.wheelStartY=null,r&&(wi=(wi*_i+r)/(_i+1),++_i)}},200)):(A.wheelDX+=n,A.wheelDY+=i))}}B?wi=-.53:h?wi=15:o?wi=-.7:s&&(wi=-1/3);var bi=function(e,t){this.ranges=e,this.primIndex=t};bi.prototype.primary=function(){return this.ranges[this.primIndex]},bi.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var r=this.ranges[t],n=e.ranges[t];if(!me(r.anchor,n.anchor)||!me(r.head,n.head))return!1}return!0},bi.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new Ci(_e(this.ranges[t].anchor),_e(this.ranges[t].head));return new bi(e,this.primIndex)},bi.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},bi.prototype.contains=function(e,t){t||(t=e);for(var r=0;r<this.ranges.length;r++){var n=this.ranges[r];if(0<=ve(t,n.from())&&ve(e,n.to())<=0)return r}return-1};var Ci=function(e,t){this.anchor=e,this.head=t};function Qi(e,t){var r=e[t];e.sort(function(e,t){return ve(e.from(),t.from())}),t=K(e,r);for(var n=1;n<e.length;n++){var i=e[n],A=e[n-1];if(0<=ve(A.to(),i.from())){var o=Be(A.from(),i.from()),a=we(A.to(),i.to()),s=A.empty()?i.from()==i.head:A.from()==A.head;n<=t&&--t,e.splice(--n,2,new Ci(s?a:o,s?o:a))}}return new bi(e,t)}function Ei(e,t){return new bi([new Ci(e,t||e)],0)}function Ui(e){return e.text?ge(e.from.line+e.text.length-1,j(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Fi(e,t){if(ve(e,t.from)<0)return e;if(ve(e,t.to)<=0)return Ui(t);var r=e.line+t.text.length-(t.to.line-t.from.line)-1,n=e.ch;return e.line==t.to.line&&(n+=Ui(t).ch-t.to.ch),ge(r,n)}function Si(e,t){for(var r=[],n=0;n<e.sel.ranges.length;n++){var i=e.sel.ranges[n];r.push(new Ci(Fi(i.anchor,t),Fi(i.head,t)))}return Qi(r,e.sel.primIndex)}function Hi(e,t,r){return e.line==t.line?ge(r.line,e.ch-t.ch+r.ch):ge(r.line+(e.line-t.line),e.ch)}function Ti(e){e.doc.mode=Mt(e.options,e.doc.modeOption),ki(e)}function ki(e){e.doc.iter(function(e){e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,li(e,100),e.state.modeGen++,e.curOp&&ii(e)}function Ni(e,t){return 0==t.from.ch&&0==t.to.ch&&""==j(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ii(e,n,t,i){function A(e){return t?t[e]:null}function r(e,t,r){!function(e,t,r,n){e.text=t,e.stateAfter&&(e.stateAfter=null),e.styles&&(e.styles=null),null!=e.order&&(e.order=null),Te(e),ke(e,r);var i=n?n(e):1;i!=e.height&&ue(e,i)}(e,t,r,i),hr(e,"change",e,n)}function o(e,t){for(var r=[],n=e;n<t;++n)r.push(new tr(l[n],A(n),i));return r}var a=n.from,s=n.to,l=n.text,c=se(e,a.line),u=se(e,s.line),d=j(l),f=A(l.length-1),p=s.line-a.line;if(n.full)e.insert(0,o(0,l.length)),e.remove(l.length,e.size-l.length);else if(Ni(e,n)){var h=o(0,l.length-1);r(u,u.text,f),p&&e.remove(a.line,p),h.length&&e.insert(a.line,h)}else if(c==u)if(1==l.length)r(c,c.text.slice(0,a.ch)+d+c.text.slice(s.ch),f);else{var g=o(1,l.length-1);g.push(new tr(d+c.text.slice(s.ch),f,i)),r(c,c.text.slice(0,a.ch)+l[0],A(0)),e.insert(a.line+1,g)}else if(1==l.length)r(c,c.text.slice(0,a.ch)+l[0]+u.text.slice(s.ch),A(0)),e.remove(a.line+1,p);else{r(c,c.text.slice(0,a.ch)+l[0],A(0)),r(u,d+u.text.slice(s.ch),f);var v=o(1,l.length-1);1<p&&e.remove(a.line+1,p-1),e.insert(a.line+1,v)}hr(e,"change",e,n)}function Mi(e,a,s){!function e(t,r,n){if(t.linked)for(var i=0;i<t.linked.length;++i){var A=t.linked[i];if(A.doc!=r){var o=n&&A.sharedHist;s&&!o||(a(A.doc,o),e(A.doc,t,o))}}}(e,null,!0)}function Li(e,t){if(t.cm)throw new Error("This document is already in use.");fn((e.doc=t).cm=e),Ti(e),Di(e),e.options.lineWrapping||je(e),e.options.mode=t.modeOption,ii(e)}function Di(e){("rtl"==e.doc.direction?k:Q)(e.display.lineDiv,"CodeMirror-rtl")}function Oi(e){this.done=[],this.undone=[],this.undoDepth=1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e||1}function Ki(e,t){var r={from:_e(t.from),to:Ui(t),text:le(e,t.from,t.to)};return Wi(e,r,t.from.line,t.to.line+1),Mi(e,function(e){return Wi(e,r,t.from.line,t.to.line+1)},!0),r}function Ri(e){for(;e.length;){if(!j(e).ranges)break;e.pop()}}function Pi(e,t,r,n){var i=e.history;i.undone.length=0;var A,o,a=+new Date;if((i.lastOp==n||i.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&i.lastModTime>a-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(A=function(e,t){return t?(Ri(e.done),j(e.done)):e.done.length&&!j(e.done).ranges?j(e.done):1<e.done.length&&!e.done[e.done.length-2].ranges?(e.done.pop(),j(e.done)):void 0}(i,i.lastOp==n)))o=j(A.changes),0==ve(t.from,t.to)&&0==ve(t.from,o.to)?o.to=Ui(t):A.changes.push(Ki(e,t));else{var s=j(i.done);for(s&&s.ranges||Xi(e.sel,i.done),A={changes:[Ki(e,t)],generation:i.generation},i.done.push(A);i.done.length>i.undoDepth;)i.done.shift(),i.done[0].ranges||i.done.shift()}i.done.push(r),i.generation=++i.maxGeneration,i.lastModTime=i.lastSelTime=a,i.lastOp=i.lastSelOp=n,i.lastOrigin=i.lastSelOrigin=t.origin,o||dt(e,"historyAdded")}function zi(e,t,r,n){var i=e.history,A=n&&n.origin;r==i.lastSelOp||A&&i.lastSelOrigin==A&&(i.lastModTime==i.lastSelTime&&i.lastOrigin==A||function(e,t,r,n){var i=t.charAt(0);return"*"==i||"+"==i&&r.ranges.length==n.ranges.length&&r.somethingSelected()==n.somethingSelected()&&new Date-e.history.lastSelTime<=(e.cm?e.cm.options.historyEventDelay:500)}(e,A,j(i.done),t))?i.done[i.done.length-1]=t:Xi(t,i.done),i.lastSelTime=+new Date,i.lastSelOrigin=A,i.lastSelOp=r,n&&!1!==n.clearRedo&&Ri(i.undone)}function Xi(e,t){var r=j(t);r&&r.ranges&&r.equals(e)||t.push(e)}function Wi(t,r,e,n){var i=r["spans_"+t.id],A=0;t.iter(Math.max(t.first,e),Math.min(t.first+t.size,n),function(e){e.markedSpans&&((i||(i=r["spans_"+t.id]={}))[A]=e.markedSpans),++A})}function Vi(e){if(!e)return null;for(var t,r=0;r<e.length;++r)e[r].marker.explicitlyCleared?t||(t=e.slice(0,r)):t&&t.push(e[r]);return t?t.length?t:null:e}function Gi(e,t){var r=function(e,t){var r=t["spans_"+e.id];if(!r)return null;for(var n=[],i=0;i<t.text.length;++i)n.push(Vi(r[i]));return n}(e,t),n=Se(e,t);if(!r)return n;if(!n)return r;for(var i=0;i<r.length;++i){var A=r[i],o=n[i];if(A&&o)e:for(var a=0;a<o.length;++a){for(var s=o[a],l=0;l<A.length;++l)if(A[l].marker==s.marker)continue e;A.push(s)}else o&&(r[i]=o)}return r}function Yi(e,t,r){for(var n=[],i=0;i<e.length;++i){var A=e[i];if(A.ranges)n.push(r?bi.prototype.deepCopy.call(A):A);else{var o=A.changes,a=[];n.push({changes:a});for(var s=0;s<o.length;++s){var l=o[s],c=void 0;if(a.push({from:l.from,to:l.to,text:l.text}),t)for(var u in l)(c=u.match(/^spans_(\d+)$/))&&-1<K(t,Number(c[1]))&&(j(a)[u]=l[u],delete l[u])}}}return n}function ji(e,t,r,n){if(n){var i=e.anchor;if(r){var A=ve(t,i)<0;A!=ve(r,i)<0?(i=t,t=r):A!=ve(t,r)<0&&(t=r)}return new Ci(i,t)}return new Ci(r||t,t)}function Ji(e,t,r,n,i){null==i&&(i=e.cm&&(e.cm.display.shift||e.extend)),tA(e,new bi([ji(e.sel.primary(),t,r,i)],0),n)}function qi(e,t,r){for(var n=[],i=e.cm&&(e.cm.display.shift||e.extend),A=0;A<e.sel.ranges.length;A++)n[A]=ji(e.sel.ranges[A],t[A],null,i);tA(e,Qi(n,e.sel.primIndex),r)}function $i(e,t,r,n){var i=e.sel.ranges.slice(0);i[t]=r,tA(e,Qi(i,e.sel.primIndex),n)}function Zi(e,t,r,n){tA(e,Ei(t,r),n)}function eA(e,t,r){var n=e.history.done,i=j(n);i&&i.ranges?rA(e,n[n.length-1]=t,r):tA(e,t,r)}function tA(e,t,r){rA(e,t,r),zi(e,e.sel,e.cm?e.cm.curOp.id:NaN,r)}function rA(e,t,r){(ht(e,"beforeSelectionChange")||e.cm&&ht(e.cm,"beforeSelectionChange"))&&(t=function(r,e,t){var n={ranges:e.ranges,update:function(e){this.ranges=[];for(var t=0;t<e.length;t++)this.ranges[t]=new Ci(xe(r,e[t].anchor),xe(r,e[t].head))},origin:t&&t.origin};return dt(r,"beforeSelectionChange",r,n),r.cm&&dt(r.cm,"beforeSelectionChange",r.cm,n),n.ranges!=e.ranges?Qi(n.ranges,n.ranges.length-1):e}(e,t,r));var n=r&&r.bias||(ve(t.primary().head,e.sel.primary().head)<0?-1:1);nA(e,AA(e,t,n,!0)),r&&!1===r.scroll||!e.cm||kn(e.cm)}function nA(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=e.cm.curOp.selectionChanged=!0,pt(e.cm)),hr(e,"cursorActivity",e))}function iA(e){nA(e,AA(e,e.sel,null,!1))}function AA(e,t,r,n){for(var i,A=0;A<t.ranges.length;A++){var o=t.ranges[A],a=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[A],s=aA(e,o.anchor,a&&a.anchor,r,n),l=aA(e,o.head,a&&a.head,r,n);(i||s!=o.anchor||l!=o.head)&&(i||(i=t.ranges.slice(0,A)),i[A]=new Ci(s,l))}return i?Qi(i,t.primIndex):t}function oA(e,t,r,n,i){var A=se(e,t.line);if(A.markedSpans)for(var o=0;o<A.markedSpans.length;++o){var a=A.markedSpans[o],s=a.marker;if((null==a.from||(s.inclusiveLeft?a.from<=t.ch:a.from<t.ch))&&(null==a.to||(s.inclusiveRight?a.to>=t.ch:a.to>t.ch))){if(i&&(dt(s,"beforeCursorEnter"),s.explicitlyCleared)){if(A.markedSpans){--o;continue}break}if(!s.atomic)continue;if(r){var l=s.find(n<0?1:-1),c=void 0;if((n<0?s.inclusiveRight:s.inclusiveLeft)&&(l=sA(e,l,-n,l&&l.line==t.line?A:null)),l&&l.line==t.line&&(c=ve(l,r))&&(n<0?c<0:0<c))return oA(e,l,t,n,i)}var u=s.find(n<0?-1:1);return(n<0?s.inclusiveLeft:s.inclusiveRight)&&(u=sA(e,u,n,u.line==t.line?A:null)),u?oA(e,u,t,n,i):null}}return t}function aA(e,t,r,n,i){var A=n||1,o=oA(e,t,r,A,i)||!i&&oA(e,t,r,A,!0)||oA(e,t,r,-A,i)||!i&&oA(e,t,r,-A,!0);return o||(e.cantEdit=!0,ge(e.first,0))}function sA(e,t,r,n){return r<0&&0==t.ch?t.line>e.first?xe(e,ge(t.line-1)):null:0<r&&t.ch==(n||se(e,t.line)).text.length?t.line<e.first+e.size-1?ge(t.line+1,0):null:new ge(t.line,t.ch+r)}function lA(e){e.setSelection(ge(e.firstLine(),0),ge(e.lastLine()),z)}function cA(i,e,t){var A={canceled:!1,from:e.from,to:e.to,text:e.text,origin:e.origin,cancel:function(){return A.canceled=!0}};return t&&(A.update=function(e,t,r,n){e&&(A.from=xe(i,e)),t&&(A.to=xe(i,t)),r&&(A.text=r),void 0!==n&&(A.origin=n)}),dt(i,"beforeChange",i,A),i.cm&&dt(i.cm,"beforeChange",i.cm,A),A.canceled?null:{from:A.from,to:A.to,text:A.text,origin:A.origin}}function uA(e,t,r){if(e.cm){if(!e.cm.curOp)return ti(e.cm,uA)(e,t,r);if(e.cm.state.suppressEdits)return}if(!(ht(e,"beforeChange")||e.cm&&ht(e.cm,"beforeChange"))||(t=cA(e,t,!0))){var n=Ce&&!r&&function(e,t,r){var n=null;if(e.iter(t.line,r.line+1,function(e){if(e.markedSpans)for(var t=0;t<e.markedSpans.length;++t){var r=e.markedSpans[t].marker;!r.readOnly||n&&-1!=K(n,r)||(n||(n=[])).push(r)}}),!n)return null;for(var i=[{from:t,to:r}],A=0;A<n.length;++A)for(var o=n[A],a=o.find(0),s=0;s<i.length;++s){var l=i[s];if(!(ve(l.to,a.from)<0||0<ve(l.from,a.to))){var c=[s,1],u=ve(l.from,a.from),d=ve(l.to,a.to);(u<0||!o.inclusiveLeft&&!u)&&c.push({from:l.from,to:a.from}),(0<d||!o.inclusiveRight&&!d)&&c.push({from:a.to,to:l.to}),i.splice.apply(i,c),s+=c.length-3}}return i}(e,t.from,t.to);if(n)for(var i=n.length-1;0<=i;--i)dA(e,{from:n[i].from,to:n[i].to,text:i?[""]:t.text,origin:t.origin});else dA(e,t)}}function dA(e,r){if(1!=r.text.length||""!=r.text[0]||0!=ve(r.from,r.to)){var t=Si(e,r);Pi(e,r,t,e.cm?e.cm.curOp.id:NaN),hA(e,r,t,Se(e,r));var n=[];Mi(e,function(e,t){t||-1!=K(n,e.history)||(_A(e.history,r),n.push(e.history)),hA(e,r,null,Se(e,r))})}}function fA(i,A,e){var t=i.cm&&i.cm.state.suppressEdits;if(!t||e){for(var o,r=i.history,n=i.sel,a="undo"==A?r.done:r.undone,s="undo"==A?r.undone:r.done,l=0;l<a.length&&(o=a[l],e?!o.ranges||o.equals(i.sel):o.ranges);l++);if(l!=a.length){for(r.lastOrigin=r.lastSelOrigin=null;;){if(!(o=a.pop()).ranges){if(t)return void a.push(o);break}if(Xi(o,s),e&&!o.equals(i.sel))return void tA(i,o,{clearRedo:!1});n=o}var c=[];Xi(n,s),s.push({changes:c,generation:r.generation}),r.generation=o.generation||++r.maxGeneration;for(var u=ht(i,"beforeChange")||i.cm&&ht(i.cm,"beforeChange"),d=function(e){var r=o.changes[e];if(r.origin=A,u&&!cA(i,r,!1))return a.length=0,{};c.push(Ki(i,r));var t=e?Si(i,r):j(a);hA(i,r,t,Gi(i,r)),!e&&i.cm&&i.cm.scrollIntoView({from:r.from,to:Ui(r)});var n=[];Mi(i,function(e,t){t||-1!=K(n,e.history)||(_A(e.history,r),n.push(e.history)),hA(e,r,null,Gi(e,r))})},f=o.changes.length-1;0<=f;--f){var p=d(f);if(p)return p.v}}}}function pA(e,t){if(0!=t&&(e.first+=t,e.sel=new bi(J(e.sel.ranges,function(e){return new Ci(ge(e.anchor.line+t,e.anchor.ch),ge(e.head.line+t,e.head.ch))}),e.sel.primIndex),e.cm)){ii(e.cm,e.first,e.first-t,t);for(var r=e.cm.display,n=r.viewFrom;n<r.viewTo;n++)Ai(e.cm,n,"gutter")}}function hA(e,t,r,n){if(e.cm&&!e.cm.curOp)return ti(e.cm,hA)(e,t,r,n);if(t.to.line<e.first)pA(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var i=t.text.length-1-(e.first-t.from.line);pA(e,i),t={from:ge(e.first,0),to:ge(t.to.line+i,t.to.ch),text:[j(t.text)],origin:t.origin}}var A=e.lastLine();t.to.line>A&&(t={from:t.from,to:ge(A,se(e,A).text.length),text:[t.text[0]],origin:t.origin}),t.removed=le(e,t.from,t.to),r||(r=Si(e,t)),e.cm?function(e,t,r){var n=e.doc,i=e.display,A=t.from,o=t.to,a=!1,s=A.line;e.options.lineWrapping||(s=de(Pe(se(n,A.line))),n.iter(s,o.line+1,function(e){if(e==i.maxLine)return a=!0}));-1<n.sel.contains(t.from,t.to)&&pt(e);Ii(n,t,r,dn(e)),e.options.lineWrapping||(n.iter(s,A.line+t.text.length,function(e){var t=Ye(e);t>i.maxLineLength&&(i.maxLine=e,i.maxLineLength=t,i.maxLineChanged=!0,a=!1)}),a&&(e.curOp.updateMaxLine=!0));(function(e,t){if(e.modeFrontier=Math.min(e.modeFrontier,t),!(e.highlightFrontier<t-10)){for(var r=e.first,n=t-1;r<n;n--){var i=se(e,n).stateAfter;if(i&&(!(i instanceof zt)||n+i.lookAhead<t)){r=n+1;break}}e.highlightFrontier=Math.min(e.highlightFrontier,r)}})(n,A.line),li(e,400);var l=t.text.length-(o.line-A.line)-1;t.full?ii(e):A.line!=o.line||1!=t.text.length||Ni(e.doc,t)?ii(e,A.line,o.line+1,l):Ai(e,A.line,"text");var c=ht(e,"changes"),u=ht(e,"change");if(u||c){var d={from:A,to:o,text:t.text,removed:t.removed,origin:t.origin};u&&hr(e,"change",e,d),c&&(e.curOp.changeObjs||(e.curOp.changeObjs=[])).push(d)}e.display.selForContextMenu=null}(e.cm,t,n):Ii(e,t,n),rA(e,r,z)}}function gA(e,t,r,n,i){var A;(n||(n=r),ve(n,r)<0)&&(r=(A=[n,r])[0],n=A[1]);"string"==typeof t&&(t=e.splitLines(t)),uA(e,{from:r,to:n,text:t,origin:i})}function vA(e,t,r,n){r<e.line?e.line+=n:t<e.line&&(e.line=t,e.ch=0)}function mA(e,t,r,n){for(var i=0;i<e.length;++i){var A=e[i],o=!0;if(A.ranges){A.copied||((A=e[i]=A.deepCopy()).copied=!0);for(var a=0;a<A.ranges.length;a++)vA(A.ranges[a].anchor,t,r,n),vA(A.ranges[a].head,t,r,n)}else{for(var s=0;s<A.changes.length;++s){var l=A.changes[s];if(r<l.from.line)l.from=ge(l.from.line+n,l.from.ch),l.to=ge(l.to.line+n,l.to.ch);else if(t<=l.to.line){o=!1;break}}o||(e.splice(0,i+1),i=0)}}}function _A(e,t){var r=t.from.line,n=t.to.line,i=t.text.length-(n-r)-1;mA(e.done,r,n,i),mA(e.undone,r,n,i)}function wA(e,t,r,n){var i=t,A=t;return"number"==typeof t?A=se(e,ye(e,t)):i=de(t),null==i?null:(n(A,i)&&e.cm&&Ai(e.cm,i,r),A)}function BA(e){this.lines=e,this.parent=null;for(var t=0,r=0;r<e.length;++r)e[r].parent=this,t+=e[r].height;this.height=t}function yA(e){this.children=e;for(var t=0,r=0,n=0;n<e.length;++n){var i=e[n];t+=i.chunkSize(),r+=i.height,i.parent=this}this.size=t,this.height=r,this.parent=null}Ci.prototype.from=function(){return Be(this.anchor,this.head)},Ci.prototype.to=function(){return we(this.anchor,this.head)},Ci.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},BA.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var r,n=e,i=e+t;n<i;++n){var A=this.lines[n];this.height-=A.height,(r=A).parent=null,Te(r),hr(A,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,r){this.height+=r,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var n=0;n<t.length;++n)t[n].parent=this},iterN:function(e,t,r){for(var n=e+t;e<n;++e)if(r(this.lines[e]))return!0}},yA.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var r=0;r<this.children.length;++r){var n=this.children[r],i=n.chunkSize();if(e<i){var A=Math.min(t,i-e),o=n.height;if(n.removeInner(e,A),this.height-=o-n.height,i==A&&(this.children.splice(r--,1),n.parent=null),0==(t-=A))break;e=0}else e-=i}if(this.size-t<25&&(1<this.children.length||!(this.children[0]instanceof BA))){var a=[];this.collapse(a),this.children=[new BA(a)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,r){this.size+=t.length,this.height+=r;for(var n=0;n<this.children.length;++n){var i=this.children[n],A=i.chunkSize();if(e<=A){if(i.insertInner(e,t,r),i.lines&&50<i.lines.length){for(var o=i.lines.length%25+25,a=o;a<i.lines.length;){var s=new BA(i.lines.slice(a,a+=25));i.height-=s.height,this.children.splice(++n,0,s),s.parent=this}i.lines=i.lines.slice(0,o),this.maybeSpill()}break}e-=A}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new yA(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var r=K(e.parent.children,e);e.parent.children.splice(r+1,0,t)}else{var n=new yA(e.children);(n.parent=e).children=[n,t],e=n}t.parent=e.parent}while(10<e.children.length);e.parent.maybeSpill()}},iterN:function(e,t,r){for(var n=0;n<this.children.length;++n){var i=this.children[n],A=i.chunkSize();if(e<A){var o=Math.min(t,A-e);if(i.iterN(e,o,r))return!0;if(0==(t-=o))break;e=0}else e-=A}}};function xA(e,t,r){if(r)for(var n in r)r.hasOwnProperty(n)&&(this[n]=r[n]);this.doc=e,this.node=t}function bA(e,t,r){Ge(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Tn(e,r)}xA.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,r=this.line,n=de(r);if(null!=n&&t){for(var i=0;i<t.length;++i)t[i]==this&&t.splice(i--,1);t.length||(r.widgets=null);var A=Er(this);ue(r,Math.max(0,r.height-A)),e&&(ei(e,function(){bA(e,r,-A),Ai(e,n,"widget")}),hr(e,"lineWidgetCleared",e,this,n))}},xA.prototype.changed=function(){var e=this,t=this.height,r=this.doc.cm,n=this.line;this.height=null;var i=Er(this)-t;i&&(We(this.doc,n)||ue(n,n.height+i),r&&ei(r,function(){r.curOp.forceUpdate=!0,bA(r,n,i),hr(r,"lineWidgetChanged",r,e,de(n))}))},gt(xA);var CA=0,QA=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++CA};function EA(t,r,n,e,i){if(e&&e.shared)return function(e,r,n,i,A){(i=L(i)).shared=!1;var o=[EA(e,r,n,i,A)],a=o[0],s=i.widgetNode;return Mi(e,function(e){s&&(i.widgetNode=s.cloneNode(!0)),o.push(EA(e,xe(e,r),xe(e,n),i,A));for(var t=0;t<e.linked.length;++t)if(e.linked[t].isParent)return;a=j(o)}),new UA(o,a)}(t,r,n,e,i);if(t.cm&&!t.cm.curOp)return ti(t.cm,EA)(t,r,n,e,i);var A=new QA(t,i),o=ve(r,n);if(e&&L(e,A,!1),0<o||0==o&&!1!==A.clearWhenEmpty)return A;if(A.replacedWith&&(A.collapsed=!0,A.widgetNode=F("span",[A.replacedWith],"CodeMirror-widget"),e.handleMouseEvents||A.widgetNode.setAttribute("cm-ignore-events","true"),e.insertLeft&&(A.widgetNode.insertLeft=!0)),A.collapsed){if(Re(t,r.line,r,n,A)||r.line!=n.line&&Re(t,n.line,r,n,A))throw new Error("Inserting collapsed marker partially overlapping an existing one");Qe=!0}A.addToHistory&&Pi(t,{from:r,to:n,origin:"markText"},t.sel,NaN);var a,s=r.line,l=t.cm;if(t.iter(s,n.line+1,function(e){l&&A.collapsed&&!l.options.lineWrapping&&Pe(e)==l.display.maxLine&&(a=!0),A.collapsed&&s!=r.line&&ue(e,0),function(e,t){e.markedSpans=e.markedSpans?e.markedSpans.concat([t]):[t],t.marker.attachLine(e)}(e,new Ee(A,s==r.line?r.ch:null,s==n.line?n.ch:null)),++s}),A.collapsed&&t.iter(r.line,n.line+1,function(e){We(t,e)&&ue(e,0)}),A.clearOnEnter&&lt(A,"beforeCursorEnter",function(){return A.clear()}),A.readOnly&&(Ce=!0,(t.history.done.length||t.history.undone.length)&&t.clearHistory()),A.collapsed&&(A.id=++CA,A.atomic=!0),l){if(a&&(l.curOp.updateMaxLine=!0),A.collapsed)ii(l,r.line,n.line+1);else if(A.className||A.title||A.startStyle||A.endStyle||A.css)for(var c=r.line;c<=n.line;c++)Ai(l,c,"text");A.atomic&&iA(l.doc),hr(l,"markerAdded",l,A)}return A}QA.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Yn(e),ht(this,"clear")){var r=this.find();r&&hr(this,"clear",r.from,r.to)}for(var n=null,i=null,A=0;A<this.lines.length;++A){var o=this.lines[A],a=Ue(o.markedSpans,this);e&&!this.collapsed?Ai(e,de(o),"text"):e&&(null!=a.to&&(i=de(o)),null!=a.from&&(n=de(o))),o.markedSpans=Fe(o.markedSpans,a),null==a.from&&this.collapsed&&!We(this.doc,o)&&e&&ue(o,sn(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var s=0;s<this.lines.length;++s){var l=Pe(this.lines[s]),c=Ye(l);c>e.display.maxLineLength&&(e.display.maxLine=l,e.display.maxLineLength=c,e.display.maxLineChanged=!0)}null!=n&&e&&this.collapsed&&ii(e,n,i+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&iA(e.doc)),e&&hr(e,"markerCleared",e,this,n,i),t&&jn(e),this.parent&&this.parent.clear()}},QA.prototype.find=function(e,t){var r,n;null==e&&"bookmark"==this.type&&(e=1);for(var i=0;i<this.lines.length;++i){var A=this.lines[i],o=Ue(A.markedSpans,this);if(null!=o.from&&(r=ge(t?A:de(A),o.from),-1==e))return r;if(null!=o.to&&(n=ge(t?A:de(A),o.to),1==e))return n}return r&&{from:r,to:n}},QA.prototype.changed=function(){var A=this,o=this.find(-1,!0),a=this,s=this.doc.cm;o&&s&&ei(s,function(){var e=o.line,t=de(o.line),r=Lr(s,t);if(r&&(Xr(r),s.curOp.selectionChanged=s.curOp.forceUpdate=!0),s.curOp.updateMaxLine=!0,!We(a.doc,e)&&null!=a.height){var n=a.height;a.height=null;var i=Er(a)-n;i&&ue(e,e.height+i)}hr(s,"markerChanged",s,A)})},QA.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=K(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},QA.prototype.detachLine=function(e){if(this.lines.splice(K(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},gt(QA);var UA=function(e,t){this.markers=e,this.primary=t;for(var r=0;r<e.length;++r)e[r].parent=this};function FA(e){return e.findMarks(ge(e.first,0),e.clipPos(ge(e.lastLine())),function(e){return e.parent})}function SA(A){for(var e=function(e){var t=A[e],r=[t.primary.doc];Mi(t.primary.doc,function(e){return r.push(e)});for(var n=0;n<t.markers.length;n++){var i=t.markers[n];-1==K(r,i.doc)&&(i.parent=null,t.markers.splice(n--,1))}},t=0;t<A.length;t++)e(t)}UA.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();hr(this,"clear")}},UA.prototype.find=function(e,t){return this.primary.find(e,t)},gt(UA);var HA=0,TA=function(e,t,r,n,i){if(!(this instanceof TA))return new TA(e,t,r,n,i);null==r&&(r=0),yA.call(this,[new BA([new tr("",null)])]),this.first=r,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=r;var A=ge(r,0);this.sel=Ei(A),this.history=new Oi(null),this.id=++HA,this.modeOption=t,this.lineSep=n,this.direction="rtl"==i?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ii(this,{from:A,to:A,text:e}),tA(this,Ei(A),z)};TA.prototype=$(yA.prototype,{constructor:TA,iter:function(e,t,r){r?this.iterN(e-this.first,t-e,r):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var r=0,n=0;n<t.length;++n)r+=t[n].height;this.insertInner(e-this.first,t,r)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=ce(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:ni(function(e){var t=ge(this.first,0),r=this.first+this.size-1;uA(this,{from:t,to:ge(r,se(this,r).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&Nn(this.cm,0,0),tA(this,Ei(t),z)}),replaceRange:function(e,t,r,n){gA(this,e,t=xe(this,t),r=r?xe(this,r):t,n)},getRange:function(e,t,r){var n=le(this,xe(this,e),xe(this,t));return!1===r?n:n.join(r||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(pe(this,e))return se(this,e)},getLineNumber:function(e){return de(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=se(this,e)),Pe(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return xe(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ni(function(e,t,r){Zi(this,xe(this,"number"==typeof e?ge(e,t||0):e),null,r)}),setSelection:ni(function(e,t,r){Zi(this,xe(this,e),xe(this,t||e),r)}),extendSelection:ni(function(e,t,r){Ji(this,xe(this,e),t&&xe(this,t),r)}),extendSelections:ni(function(e,t){qi(this,be(this,e),t)}),extendSelectionsBy:ni(function(e,t){qi(this,be(this,J(this.sel.ranges,e)),t)}),setSelections:ni(function(e,t,r){if(e.length){for(var n=[],i=0;i<e.length;i++)n[i]=new Ci(xe(this,e[i].anchor),xe(this,e[i].head));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),tA(this,Qi(n,t),r)}}),addSelection:ni(function(e,t,r){var n=this.sel.ranges.slice(0);n.push(new Ci(xe(this,e),xe(this,t||e))),tA(this,Qi(n,n.length-1),r)}),getSelection:function(e){for(var t,r=this.sel.ranges,n=0;n<r.length;n++){var i=le(this,r[n].from(),r[n].to());t=t?t.concat(i):i}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],r=this.sel.ranges,n=0;n<r.length;n++){var i=le(this,r[n].from(),r[n].to());!1!==e&&(i=i.join(e||this.lineSeparator())),t[n]=i}return t},replaceSelection:function(e,t,r){for(var n=[],i=0;i<this.sel.ranges.length;i++)n[i]=e;this.replaceSelections(n,t,r||"+input")},replaceSelections:ni(function(e,t,r){for(var n=[],i=this.sel,A=0;A<i.ranges.length;A++){var o=i.ranges[A];n[A]={from:o.from(),to:o.to(),text:this.splitLines(e[A]),origin:r}}for(var a=t&&"end"!=t&&function(e,t,r){for(var n=[],i=ge(e.first,0),A=i,o=0;o<t.length;o++){var a=t[o],s=Hi(a.from,i,A),l=Hi(Ui(a),i,A);if(i=a.to,A=l,"around"==r){var c=e.sel.ranges[o],u=ve(c.head,c.anchor)<0;n[o]=new Ci(u?l:s,u?s:l)}else n[o]=new Ci(s,s)}return new bi(n,e.sel.primIndex)}(this,n,t),s=n.length-1;0<=s;s--)uA(this,n[s]);a?eA(this,a):this.cm&&kn(this.cm)}),undo:ni(function(){fA(this,"undo")}),redo:ni(function(){fA(this,"redo")}),undoSelection:ni(function(){fA(this,"undo",!0)}),redoSelection:ni(function(){fA(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,r=0,n=0;n<e.done.length;n++)e.done[n].ranges||++t;for(var i=0;i<e.undone.length;i++)e.undone[i].ranges||++r;return{undo:t,redo:r}},clearHistory:function(){this.history=new Oi(this.history.maxGeneration)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:Yi(this.history.done),undone:Yi(this.history.undone)}},setHistory:function(e){var t=this.history=new Oi(this.history.maxGeneration);t.done=Yi(e.done.slice(0),null,!0),t.undone=Yi(e.undone.slice(0),null,!0)},setGutterMarker:ni(function(e,r,n){return wA(this,e,"gutter",function(e){var t=e.gutterMarkers||(e.gutterMarkers={});return!(t[r]=n)&&re(t)&&(e.gutterMarkers=null),!0})}),clearGutter:ni(function(t){var r=this;this.iter(function(e){e.gutterMarkers&&e.gutterMarkers[t]&&wA(r,e,"gutter",function(){return e.gutterMarkers[t]=null,re(e.gutterMarkers)&&(e.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!pe(this,e))return null;if(!(e=se(this,t=e)))return null}else if(null==(t=de(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:ni(function(e,r,n){return wA(this,e,"gutter"==r?"gutter":"class",function(e){var t="text"==r?"textClass":"background"==r?"bgClass":"gutter"==r?"gutterClass":"wrapClass";if(e[t]){if(b(n).test(e[t]))return!1;e[t]+=" "+n}else e[t]=n;return!0})}),removeLineClass:ni(function(e,A,o){return wA(this,e,"gutter"==A?"gutter":"class",function(e){var t="text"==A?"textClass":"background"==A?"bgClass":"gutter"==A?"gutterClass":"wrapClass",r=e[t];if(!r)return!1;if(null==o)e[t]=null;else{var n=r.match(b(o));if(!n)return!1;var i=n.index+n[0].length;e[t]=r.slice(0,n.index)+(n.index&&i!=r.length?" ":"")+r.slice(i)||null}return!0})}),addLineWidget:ni(function(e,t,r){return function(n,e,t,r){var i=new xA(n,t,r),A=n.cm;return A&&i.noHScroll&&(A.display.alignWidgets=!0),wA(n,e,"widget",function(e){var t=e.widgets||(e.widgets=[]);if(null==i.insertAt?t.push(i):t.splice(Math.min(t.length-1,Math.max(0,i.insertAt)),0,i),i.line=e,A&&!We(n,e)){var r=Ge(e)<n.scrollTop;ue(e,e.height+Er(i)),r&&Tn(A,i.height),A.curOp.forceUpdate=!0}return!0}),A&&hr(A,"lineWidgetAdded",A,i,"number"==typeof e?e:de(e)),i}(this,e,t,r)}),removeLineWidget:function(e){e.clear()},markText:function(e,t,r){return EA(this,xe(this,e),xe(this,t),r,r&&r.type||"range")},setBookmark:function(e,t){var r={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return EA(this,e=xe(this,e),e,r,"bookmark")},findMarksAt:function(e){var t=[],r=se(this,(e=xe(this,e)).line).markedSpans;if(r)for(var n=0;n<r.length;++n){var i=r[n];(null==i.from||i.from<=e.ch)&&(null==i.to||i.to>=e.ch)&&t.push(i.marker.parent||i.marker)}return t},findMarks:function(i,A,o){i=xe(this,i),A=xe(this,A);var a=[],s=i.line;return this.iter(i.line,A.line+1,function(e){var t=e.markedSpans;if(t)for(var r=0;r<t.length;r++){var n=t[r];null!=n.to&&s==i.line&&i.ch>=n.to||null==n.from&&s!=i.line||null!=n.from&&s==A.line&&n.from>=A.ch||o&&!o(n.marker)||a.push(n.marker.parent||n.marker)}++s}),a},getAllMarks:function(){var n=[];return this.iter(function(e){var t=e.markedSpans;if(t)for(var r=0;r<t.length;++r)null!=t[r].from&&n.push(t[r].marker)}),n},posFromIndex:function(r){var n,i=this.first,A=this.lineSeparator().length;return this.iter(function(e){var t=e.text.length+A;if(r<t)return n=r,!0;r-=t,++i}),xe(this,ge(i,n))},indexFromPos:function(e){var t=(e=xe(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var r=this.lineSeparator().length;return this.iter(this.first,e.line,function(e){t+=e.text.length+r}),t},copy:function(e){var t=new TA(ce(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,r=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<r&&(r=e.to);var n=new TA(ce(this,t,r),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(n.history=this.history),(this.linked||(this.linked=[])).push({doc:n,sharedHist:e.sharedHist}),n.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(e,t){for(var r=0;r<t.length;r++){var n=t[r],i=n.find(),A=e.clipPos(i.from),o=e.clipPos(i.to);if(ve(A,o)){var a=EA(e,A,o,n.primary,n.primary.type);n.markers.push(a),a.parent=n}}}(n,FA(this)),n},unlinkDoc:function(e){if(e instanceof So&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t){if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),SA(FA(this));break}}if(e.history==this.history){var r=[e.id];Mi(e,function(e){return r.push(e.id)},!0),e.history=new Oi(null),e.history.done=Yi(this.history.done,r),e.history.undone=Yi(this.history.undone,r)}},iterLinkedDocs:function(e){Mi(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):Ft(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ni(function(e){"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(e){return e.order=null}),this.cm&&function(e){ei(e,function(){Di(e),ii(e)})}(this.cm))})}),TA.prototype.eachLine=TA.prototype.iter;var kA=0;function NA(e){var i=this;if(IA(i),!ft(i,e)&&!Ur(i.display,e)){vt(e),B&&(kA=+new Date);var A=pn(i,e,!0),t=e.dataTransfer.files;if(A&&!i.isReadOnly())if(t&&t.length&&window.FileReader&&window.File)for(var o=t.length,a=Array(o),s=0,r=function(e,r){if(!i.options.allowDropFileTypes||-1!=K(i.options.allowDropFileTypes,e.type)){var n=new FileReader;n.onload=ti(i,function(){var e=n.result;if(/[\x00-\x08\x0e-\x1f]{2}/.test(e)&&(e=""),a[r]=e,++s==o){var t={from:A=xe(i.doc,A),to:A,text:i.doc.splitLines(a.join(i.doc.lineSeparator())),origin:"paste"};uA(i.doc,t),eA(i.doc,Ei(A,Ui(t)))}}),n.readAsText(e)}},n=0;n<o;++n)r(t[n],n);else{if(i.state.draggingText&&-1<i.doc.sel.contains(A))return i.state.draggingText(e),void setTimeout(function(){return i.display.input.focus()},20);try{var l=e.dataTransfer.getData("Text");if(l){var c;if(i.state.draggingText&&!i.state.draggingText.copy&&(c=i.listSelections()),rA(i.doc,Ei(A,A)),c)for(var u=0;u<c.length;++u)gA(i.doc,"",c[u].anchor,c[u].head,"drag");i.replaceSelection(l,"around","paste"),i.display.input.focus()}}catch(e){}}}}function IA(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function MA(e){if(document.getElementsByClassName)for(var t=document.getElementsByClassName("CodeMirror"),r=0;r<t.length;r++){var n=t[r].CodeMirror;n&&e(n)}}var LA=!1;function DA(){LA||(function(){var e;lt(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,MA(OA)},100))}),lt(window,"blur",function(){return MA(Cn)})}(),LA=!0)}function OA(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var KA={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",127:"Delete",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},RA=0;RA<10;RA++)KA[RA+48]=KA[RA+96]=String(RA);for(var PA=65;PA<=90;PA++)KA[PA]=String.fromCharCode(PA);for(var zA=1;zA<=12;zA++)KA[zA+111]=KA[zA+63235]="F"+zA;var XA={};function WA(e){var t,r,n,i,A=e.split(/-(?!$)/);e=A[A.length-1];for(var o=0;o<A.length-1;o++){var a=A[o];if(/^(cmd|meta|m)$/i.test(a))i=!0;else if(/^a(lt)?$/i.test(a))t=!0;else if(/^(c|ctrl|control)$/i.test(a))r=!0;else{if(!/^s(hift)?$/i.test(a))throw new Error("Unrecognized modifier name: "+a);n=!0}}return t&&(e="Alt-"+e),r&&(e="Ctrl-"+e),i&&(e="Cmd-"+e),n&&(e="Shift-"+e),e}function VA(e){var t={};for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];if(/^(name|fallthrough|(de|at)tach)$/.test(r))continue;if("..."==n){delete e[r];continue}for(var i=J(r.split(" "),WA),A=0;A<i.length;A++){var o=void 0,a=void 0;o=A==i.length-1?(a=i.join(" "),n):(a=i.slice(0,A+1).join(" "),"...");var s=t[a];if(s){if(s!=o)throw new Error("Inconsistent bindings for "+a)}else t[a]=o}delete e[r]}for(var l in t)e[l]=t[l];return e}function GA(e,t,r,n){var i=(t=qA(t)).call?t.call(e,n):t[e];if(!1===i)return"nothing";if("..."===i)return"multi";if(null!=i&&r(i))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return GA(e,t.fallthrough,r,n);for(var A=0;A<t.fallthrough.length;A++){var o=GA(e,t.fallthrough[A],r,n);if(o)return o}}}function YA(e){var t="string"==typeof e?e:KA[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function jA(e,t,r){var n=e;return t.altKey&&"Alt"!=n&&(e="Alt-"+e),(m?t.metaKey:t.ctrlKey)&&"Ctrl"!=n&&(e="Ctrl-"+e),(m?t.ctrlKey:t.metaKey)&&"Cmd"!=n&&(e="Cmd-"+e),!r&&t.shiftKey&&"Shift"!=n&&(e="Shift-"+e),e}function JA(e,t){if(g&&34==e.keyCode&&e.char)return!1;var r=KA[e.keyCode];return null!=r&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(r=e.code),jA(r,e,t))}function qA(e){return"string"==typeof e?XA[e]:e}function $A(t,e){for(var r=t.doc.sel.ranges,n=[],i=0;i<r.length;i++){for(var A=e(r[i]);n.length&&ve(A.from,j(n).to)<=0;){var o=n.pop();if(ve(o.from,A.from)<0){A.from=o.from;break}}n.push(A)}ei(t,function(){for(var e=n.length-1;0<=e;e--)gA(t.doc,"",n[e].from,n[e].to,"+delete");kn(t)})}function ZA(e,t,r){var n=Ae(e.text,t+r,r);return n<0||n>e.text.length?null:n}function eo(e,t,r){var n=ZA(e,t.ch,r);return null==n?null:new ge(t.line,n,r<0?"after":"before")}function to(e,t,r,n,i){if(e){var A=at(r,t.doc.direction);if(A){var o,a=i<0?j(A):A[0],s=i<0==(1==a.level)?"after":"before";if(0<a.level||"rtl"==t.doc.direction){var l=Dr(t,r);o=i<0?r.text.length-1:0;var c=Or(t,l,o).top;o=oe(function(e){return Or(t,l,e).top==c},i<0==(1==a.level)?a.from:a.to-1,o),"before"==s&&(o=ZA(r,o,1))}else o=i<0?a.to:a.from;return new ge(n,o,s)}}return new ge(n,i<0?r.text.length:0,i<0?"before":"after")}XA.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},XA.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},XA.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Alt-F":"goWordRight","Alt-B":"goWordLeft","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-D":"delWordAfter","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},XA.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},XA.default=w?XA.macDefault:XA.pcDefault;var ro={selectAll:lA,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),z)},killLine:function(r){return $A(r,function(e){if(e.empty()){var t=se(r.doc,e.head.line).text.length;return e.head.ch==t&&e.head.line<r.lastLine()?{from:e.head,to:ge(e.head.line+1,0)}:{from:e.head,to:ge(e.head.line,t)}}return{from:e.from(),to:e.to()}})},deleteLine:function(t){return $A(t,function(e){return{from:ge(e.from().line,0),to:xe(t.doc,ge(e.to().line+1,0))}})},delLineLeft:function(e){return $A(e,function(e){return{from:ge(e.from().line,0),to:e.from()}})},delWrappedLineLeft:function(r){return $A(r,function(e){var t=r.charCoords(e.head,"div").top+5;return{from:r.coordsChar({left:0,top:t},"div"),to:e.from()}})},delWrappedLineRight:function(n){return $A(n,function(e){var t=n.charCoords(e.head,"div").top+5,r=n.coordsChar({left:n.display.lineDiv.offsetWidth+100,top:t},"div");return{from:e.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(ge(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(ge(e.lastLine()))},goLineStart:function(t){return t.extendSelectionsBy(function(e){return no(t,e.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(t){return t.extendSelectionsBy(function(e){return io(t,e.head)},{origin:"+move",bias:1})},goLineEnd:function(t){return t.extendSelectionsBy(function(e){return function(e,t){var r=se(e.doc,t),n=function(e){for(var t;t=Oe(e);)e=t.find(1,!0).line;return e}(r);n!=r&&(t=de(n));return to(!0,e,r,t,-1)}(t,e.head.line)},{origin:"+move",bias:-1})},goLineRight:function(r){return r.extendSelectionsBy(function(e){var t=r.cursorCoords(e.head,"div").top+5;return r.coordsChar({left:r.display.lineDiv.offsetWidth+100,top:t},"div")},W)},goLineLeft:function(r){return r.extendSelectionsBy(function(e){var t=r.cursorCoords(e.head,"div").top+5;return r.coordsChar({left:0,top:t},"div")},W)},goLineLeftSmart:function(n){return n.extendSelectionsBy(function(e){var t=n.cursorCoords(e.head,"div").top+5,r=n.coordsChar({left:0,top:t},"div");return r.ch<n.getLine(r.line).search(/\S/)?io(n,e.head):r},W)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"char")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],r=e.listSelections(),n=e.options.tabSize,i=0;i<r.length;i++){var A=r[i].from(),o=D(e.getLine(A.line),A.ch,n);t.push(Y(n-o%n))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(o){return ei(o,function(){for(var e=o.listSelections(),t=[],r=0;r<e.length;r++)if(e[r].empty()){var n=e[r].head,i=se(o.doc,n.line).text;if(i)if(n.ch==i.length&&(n=new ge(n.line,n.ch-1)),0<n.ch)n=new ge(n.line,n.ch+1),o.replaceRange(i.charAt(n.ch-1)+i.charAt(n.ch-2),ge(n.line,n.ch-2),n,"+transpose");else if(n.line>o.doc.first){var A=se(o.doc,n.line-1).text;A&&(n=new ge(n.line,1),o.replaceRange(i.charAt(0)+o.doc.lineSeparator()+A.charAt(A.length-1),ge(n.line-1,A.length-1),n,"+transpose"))}t.push(new Ci(n,n))}o.setSelections(t)})},newlineAndIndent:function(n){return ei(n,function(){for(var e=n.listSelections(),t=e.length-1;0<=t;t--)n.replaceRange(n.doc.lineSeparator(),e[t].anchor,e[t].head,"+input");e=n.listSelections();for(var r=0;r<e.length;r++)n.indentLine(e[r].from().line,null,!0);kn(n)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function no(e,t){var r=se(e.doc,t),n=Pe(r);return n!=r&&(t=de(n)),to(!0,e,n,t,1)}function io(e,t){var r=no(e,t.line),n=se(e.doc,r.line),i=at(n,e.doc.direction);if(i&&0!=i[0].level)return r;var A=Math.max(0,n.text.search(/\S/)),o=t.line==r.line&&t.ch<=A&&t.ch;return ge(r.line,o?0:A,r.sticky)}function Ao(e,t,r){if("string"==typeof t&&!(t=ro[t]))return!1;e.display.input.ensurePolled();var n=e.display.shift,i=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),r&&(e.display.shift=!1),i=t(e)!=P}finally{e.display.shift=n,e.state.suppressEdits=!1}return i}var oo=new O;function ao(e,t,r,n){var i=e.state.keySeq;if(i){if(YA(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:oo.set(50,function(){e.state.keySeq==i&&(e.state.keySeq=null,e.display.input.reset())}),so(e,i+" "+t,r,n))return!0}return so(e,t,r,n)}function so(e,t,r,n){var i=function(e,t,r){for(var n=0;n<e.state.keyMaps.length;n++){var i=GA(t,e.state.keyMaps[n],r,e);if(i)return i}return e.options.extraKeys&&GA(t,e.options.extraKeys,r,e)||GA(t,e.options.keyMap,r,e)}(e,t,n);return"multi"==i&&(e.state.keySeq=t),"handled"==i&&hr(e,"keyHandled",e,t,r),"handled"!=i&&"multi"!=i||(vt(r),Bn(e)),!!i}function lo(t,e){var r=JA(e,!0);return!!r&&(e.shiftKey&&!t.state.keySeq?ao(t,"Shift-"+r,e,function(e){return Ao(t,e,!0)})||ao(t,r,e,function(e){if("string"==typeof e?/^go[A-Z]/.test(e):e.motion)return Ao(t,e)}):ao(t,r,e,function(e){return Ao(t,e)}))}var co=null;function uo(e){if(this.curOp.focus=T(),!ft(this,e)){B&&y<11&&27==e.keyCode&&(e.returnValue=!1);var t=e.keyCode;this.display.shift=16==t||e.shiftKey;var r=lo(this,e);g&&(co=r?t:null,!r&&88==t&&!Ht&&(w?e.metaKey:e.ctrlKey)&&this.replaceSelection("",null,"cut")),18!=t||/\bCodeMirror-crosshair\b/.test(this.display.lineDiv.className)||function(e){var t=e.display.lineDiv;function r(e){18!=e.keyCode&&e.altKey||(Q(t,"CodeMirror-crosshair"),ut(document,"keyup",r),ut(document,"mouseover",r))}k(t,"CodeMirror-crosshair"),lt(document,"keyup",r),lt(document,"mouseover",r)}(this)}}function fo(e){16==e.keyCode&&(this.doc.sel.shift=!1),ft(this,e)}function po(e){if(!(Ur(this.display,e)||ft(this,e)||e.ctrlKey&&!e.altKey||w&&e.metaKey)){var t=e.keyCode,r=e.charCode;if(g&&t==co)return co=null,void vt(e);if(!g||e.which&&!(e.which<10)||!lo(this,e)){var n=String.fromCharCode(null==r?t:r);"\b"!=n&&(function(t,e,r){return ao(t,"'"+r+"'",e,function(e){return Ao(t,e,!0)})}(this,e,n)||this.display.input.onKeyPress(e))}}}var ho,go,vo=function(e,t,r){this.time=e,this.pos=t,this.button=r};function mo(e){var t=this,r=t.display;if(!(ft(t,e)||r.activeTouch&&r.input.supportsTouch()))if(r.input.ensurePolled(),r.shift=e.shiftKey,Ur(r,e))_||(r.scroller.draggable=!1,setTimeout(function(){return r.scroller.draggable=!0},100));else if(!Bo(t,e)){var n=pn(t,e),i=yt(e),A=n?function(e,t){var r=+new Date;return go&&go.compare(r,e,t)?(ho=go=null,"triple"):ho&&ho.compare(r,e,t)?(go=new vo(r,e,t),ho=null,"double"):(ho=new vo(r,e,t),go=null,"single")}(n,i):"single";window.focus(),1==i&&t.state.selectingText&&t.state.selectingText(e),n&&function(r,e,n,t,i){var A="Click";"double"==t?A="Double"+A:"triple"==t&&(A="Triple"+A);return ao(r,jA(A=(1==e?"Left":2==e?"Middle":"Right")+A,i),i,function(e){if("string"==typeof e&&(e=ro[e]),!e)return!1;var t=!1;try{r.isReadOnly()&&(r.state.suppressEdits=!0),t=e(r,n)!=P}finally{r.state.suppressEdits=!1}return t})}(t,i,n,A,e)||(1==i?n?function(e,t,r,n){B?setTimeout(M(yn,e),0):e.curOp.focus=T();var i,A=function(e,t,r){var n=e.getOption("configureMouse"),i=n?n(e,t,r):{};if(null==i.unit){var A=f?r.shiftKey&&r.metaKey:r.altKey;i.unit=A?"rectangle":"single"==t?"char":"double"==t?"word":"line"}(null==i.extend||e.doc.extend)&&(i.extend=e.doc.extend||r.shiftKey);null==i.addNew&&(i.addNew=w?r.metaKey:r.ctrlKey);null==i.moveOnDrag&&(i.moveOnDrag=!(w?r.altKey:r.ctrlKey));return i}(e,r,n),o=e.doc.sel;e.options.dragDrop&&Ct&&!e.isReadOnly()&&"single"==r&&-1<(i=o.contains(t))&&(ve((i=o.ranges[i]).from(),t)<0||0<t.xRel)&&(0<ve(i.to(),t)||t.xRel<0)?function(t,r,n,i){var A=t.display,o=!1,a=ti(t,function(e){_&&(A.scroller.draggable=!1),t.state.draggingText=!1,ut(A.wrapper.ownerDocument,"mouseup",a),ut(A.wrapper.ownerDocument,"mousemove",s),ut(A.scroller,"dragstart",l),ut(A.scroller,"drop",a),o||(vt(e),i.addNew||Ji(t.doc,n,null,null,i.extend),_||B&&9==y?setTimeout(function(){A.wrapper.ownerDocument.body.focus(),A.input.focus()},20):A.input.focus())}),s=function(e){o=o||10<=Math.abs(r.clientX-e.clientX)+Math.abs(r.clientY-e.clientY)},l=function(){return o=!0};_&&(A.scroller.draggable=!0);(t.state.draggingText=a).copy=!i.moveOnDrag,A.scroller.dragDrop&&A.scroller.dragDrop();lt(A.wrapper.ownerDocument,"mouseup",a),lt(A.wrapper.ownerDocument,"mousemove",s),lt(A.scroller,"dragstart",l),lt(A.scroller,"drop",a),xn(t),setTimeout(function(){return A.input.focus()},20)}(e,n,t,A):function(g,e,v,m){var o=g.display,_=g.doc;vt(e);var w,B,y=_.sel,t=y.ranges;m.addNew&&!m.extend?(B=_.sel.contains(v),w=-1<B?t[B]:new Ci(v,v)):(w=_.sel.primary(),B=_.sel.primIndex);if("rectangle"==m.unit)m.addNew||(w=new Ci(v,v)),v=pn(g,e,!0,!0),B=-1;else{var r=_o(g,v,m.unit);w=m.extend?ji(w,r.anchor,r.head,m.extend):r}m.addNew?-1==B?(B=t.length,tA(_,Qi(t.concat([w]),B),{scroll:!1,origin:"*mouse"})):1<t.length&&t[B].empty()&&"char"==m.unit&&!m.extend?(tA(_,Qi(t.slice(0,B).concat(t.slice(B+1)),0),{scroll:!1,origin:"*mouse"}),y=_.sel):$i(_,B,w,X):(tA(_,new bi([w],B=0),X),y=_.sel);var x=v;function a(e){if(0!=ve(x,e))if(x=e,"rectangle"==m.unit){for(var t=[],r=g.options.tabSize,n=D(se(_,v.line).text,v.ch,r),i=D(se(_,e.line).text,e.ch,r),A=Math.min(n,i),o=Math.max(n,i),a=Math.min(v.line,e.line),s=Math.min(g.lastLine(),Math.max(v.line,e.line));a<=s;a++){var l=se(_,a).text,c=V(l,A,r);A==o?t.push(new Ci(ge(a,c),ge(a,c))):l.length>c&&t.push(new Ci(ge(a,c),ge(a,V(l,o,r))))}t.length||t.push(new Ci(v,v)),tA(_,Qi(y.ranges.slice(0,B).concat(t),B),{origin:"*mouse",scroll:!1}),g.scrollIntoView(e)}else{var u,d=w,f=_o(g,e,m.unit),p=d.anchor;p=0<ve(f.anchor,p)?(u=f.head,Be(d.from(),f.anchor)):(u=f.anchor,we(d.to(),f.head));var h=y.ranges.slice(0);h[B]=function(e,t){var r=t.anchor,n=t.head,i=se(e.doc,r.line);if(0==ve(r,n)&&r.sticky==n.sticky)return t;var A=at(i);if(!A)return t;var o=qe(A,r.ch,r.sticky),a=A[o];if(a.from!=r.ch&&a.to!=r.ch)return t;var s,l=o+(a.from==r.ch==(1!=a.level)?0:1);if(0==l||l==A.length)return t;if(n.line!=r.line)s=0<(n.line-r.line)*("ltr"==e.doc.direction?1:-1);else{var c=qe(A,n.ch,n.sticky),u=c-o||(n.ch-r.ch)*(1==a.level?-1:1);s=c==l-1||c==l?u<0:0<u}var d=A[l+(s?-1:0)],f=s==(1==d.level),p=f?d.from:d.to,h=f?"after":"before";return r.ch==p&&r.sticky==h?t:new Ci(new ge(r.line,p,h),n)}(g,new Ci(xe(_,p),u)),tA(_,Qi(h,B),X)}}var s=o.wrapper.getBoundingClientRect(),l=0;function n(e){g.state.selectingText=!1,l=1/0,vt(e),o.input.focus(),ut(o.wrapper.ownerDocument,"mousemove",i),ut(o.wrapper.ownerDocument,"mouseup",A),_.history.lastSelOrigin=null}var i=ti(g,function(e){0!==e.buttons&&yt(e)?function e(t){var r=++l;var n=pn(g,t,!0,"rectangle"==m.unit);if(!n)return;if(0!=ve(n,x)){g.curOp.focus=T(),a(n);var i=Un(o,_);(n.line>=i.to||n.line<i.from)&&setTimeout(ti(g,function(){l==r&&e(t)}),150)}else{var A=t.clientY<s.top?-20:t.clientY>s.bottom?20:0;A&&setTimeout(ti(g,function(){l==r&&(o.scroller.scrollTop+=A,e(t))}),50)}}(e):n(e)}),A=ti(g,n);g.state.selectingText=A,lt(o.wrapper.ownerDocument,"mousemove",i),lt(o.wrapper.ownerDocument,"mouseup",A)}(e,n,t,A)}(t,n,A,e):Bt(e)==r.scroller&&vt(e):2==i?(n&&Ji(t.doc,n),setTimeout(function(){return r.input.focus()},20)):3==i&&(x?yo(t,e):xn(t)))}}function _o(e,t,r){if("char"==r)return new Ci(t,t);if("word"==r)return e.findWordAt(t);if("line"==r)return new Ci(ge(t.line,0),xe(e.doc,ge(t.line+1,0)));var n=r(e,t);return new Ci(n.from,n.to)}function wo(e,t,r,n){var i,A;if(t.touches)i=t.touches[0].clientX,A=t.touches[0].clientY;else try{i=t.clientX,A=t.clientY}catch(t){return!1}if(i>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;n&&vt(t);var o=e.display,a=o.lineDiv.getBoundingClientRect();if(A>a.bottom||!ht(e,r))return _t(t);A-=a.top-o.viewOffset;for(var s=0;s<e.options.gutters.length;++s){var l=o.gutters.childNodes[s];if(l&&l.getBoundingClientRect().right>=i)return dt(e,r,e,fe(e.doc,A),e.options.gutters[s],t),_t(t)}}function Bo(e,t){return wo(e,t,"gutterClick",!0)}function yo(e,t){Ur(e.display,t)||function(e,t){return!!ht(e,"gutterContextMenu")&&wo(e,t,"gutterContextMenu",!1)}(e,t)||ft(e,t,"contextmenu")||e.display.input.onContextMenu(t)}function xo(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Vr(e)}vo.prototype.compare=function(e,t,r){return this.time+400>e&&0==ve(t,this.pos)&&r==this.button};var bo={toString:function(){return"CodeMirror.Init"}},Co={},Qo={};function Eo(e){vi(e),ii(e),Fn(e)}function Uo(e,t,r){if(!t!=!(r&&r!=bo)){var n=e.display.dragFunctions,i=t?lt:ut;i(e.display.scroller,"dragstart",n.start),i(e.display.scroller,"dragenter",n.enter),i(e.display.scroller,"dragover",n.over),i(e.display.scroller,"dragleave",n.leave),i(e.display.scroller,"drop",n.drop)}}function Fo(e){e.options.lineWrapping?(k(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(Q(e.display.wrapper,"CodeMirror-wrap"),je(e)),fn(e),ii(e),Vr(e),setTimeout(function(){return zn(e)},100)}function So(e,t){var r=this;if(!(this instanceof So))return new So(e,t);this.options=t=t?L(t):{},L(Co,t,!1),mi(t);var n=t.value;"string"==typeof n?n=new TA(n,t.mode,null,t.lineSeparator,t.direction):t.mode&&(n.modeOption=t.mode),this.doc=n;var i=new So.inputStyles[t.inputStyle](this),A=this.display=new ae(e,n,i);for(var o in vi(A.wrapper.CodeMirror=this),xo(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),Vn(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:!1,cutIncoming:!1,selectingText:!1,draggingText:!1,highlight:new O,keySeq:null,specialChars:null},t.autofocus&&!d&&A.input.focus(),B&&y<11&&setTimeout(function(){return r.display.input.reset(!0)},20),function(i){var A=i.display;lt(A.scroller,"mousedown",ti(i,mo)),lt(A.scroller,"dblclick",B&&y<11?ti(i,function(e){if(!ft(i,e)){var t=pn(i,e);if(t&&!Bo(i,e)&&!Ur(i.display,e)){vt(e);var r=i.findWordAt(t);Ji(i.doc,r.anchor,r.head)}}}):function(e){return ft(i,e)||vt(e)});x||lt(A.scroller,"contextmenu",function(e){return yo(i,e)});var r,n={end:0};function o(){A.activeTouch&&(r=setTimeout(function(){return A.activeTouch=null},1e3),(n=A.activeTouch).end=+new Date)}function a(e,t){if(null==t.left)return!0;var r=t.left-e.left,n=t.top-e.top;return 400<r*r+n*n}lt(A.scroller,"touchstart",function(e){if(!ft(i,e)&&!function(e){if(1!=e.touches.length)return!1;var t=e.touches[0];return t.radiusX<=1&&t.radiusY<=1}(e)&&!Bo(i,e)){A.input.ensurePolled(),clearTimeout(r);var t=+new Date;A.activeTouch={start:t,moved:!1,prev:t-n.end<=300?n:null},1==e.touches.length&&(A.activeTouch.left=e.touches[0].pageX,A.activeTouch.top=e.touches[0].pageY)}}),lt(A.scroller,"touchmove",function(){A.activeTouch&&(A.activeTouch.moved=!0)}),lt(A.scroller,"touchend",function(e){var t=A.activeTouch;if(t&&!Ur(A,e)&&null!=t.left&&!t.moved&&new Date-t.start<300){var r,n=i.coordsChar(A.activeTouch,"page");r=!t.prev||a(t,t.prev)?new Ci(n,n):!t.prev.prev||a(t,t.prev.prev)?i.findWordAt(n):new Ci(ge(n.line,0),xe(i.doc,ge(n.line+1,0))),i.setSelection(r.anchor,r.head),i.focus(),vt(e)}o()}),lt(A.scroller,"touchcancel",o),lt(A.scroller,"scroll",function(){A.scroller.clientHeight&&(Ln(i,A.scroller.scrollTop),On(i,A.scroller.scrollLeft,!0),dt(i,"scroll",i))}),lt(A.scroller,"mousewheel",function(e){return xi(i,e)}),lt(A.scroller,"DOMMouseScroll",function(e){return xi(i,e)}),lt(A.wrapper,"scroll",function(){return A.wrapper.scrollTop=A.wrapper.scrollLeft=0}),A.dragFunctions={enter:function(e){ft(i,e)||wt(e)},over:function(e){ft(i,e)||(function(e,t){var r=pn(e,t);if(r){var n=document.createDocumentFragment();mn(e,r,n),e.display.dragCursor||(e.display.dragCursor=S("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),e.display.lineSpace.insertBefore(e.display.dragCursor,e.display.cursorDiv)),U(e.display.dragCursor,n)}}(i,e),wt(e))},start:function(e){return function(e,t){if(B&&(!e.state.draggingText||+new Date-kA<100))wt(t);else if(!ft(e,t)&&!Ur(e.display,t)&&(t.dataTransfer.setData("Text",e.getSelection()),t.dataTransfer.effectAllowed="copyMove",t.dataTransfer.setDragImage&&!s)){var r=S("img",null,null,"position: fixed; left: 0; top: 0;");r.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",g&&(r.width=r.height=1,e.display.wrapper.appendChild(r),r._top=r.offsetTop),t.dataTransfer.setDragImage(r,0,0),g&&r.parentNode.removeChild(r)}}(i,e)},drop:ti(i,NA),leave:function(e){ft(i,e)||IA(i)}};var e=A.input.getField();lt(e,"keyup",function(e){return fo.call(i,e)}),lt(e,"keydown",ti(i,uo)),lt(e,"keypress",ti(i,po)),lt(e,"focus",function(e){return bn(i,e)}),lt(e,"blur",function(e){return Cn(i,e)})}(this),DA(),Yn(this),this.curOp.forceUpdate=!0,Li(this,n),t.autofocus&&!d||this.hasFocus()?setTimeout(M(bn,this),20):Cn(this),Qo)Qo.hasOwnProperty(o)&&Qo[o](r,t[o],bo);Sn(this),t.finishInit&&t.finishInit(this);for(var a=0;a<Ho.length;++a)Ho[a](r);jn(this),_&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(A.lineDiv).textRendering&&(A.lineDiv.style.textRendering="auto")}So.defaults=Co,So.optionHandlers=Qo;var Ho=[];function To(e,t,r,n){var i,A=e.doc;null==r&&(r="add"),"smart"==r&&(A.mode.indent?i=Gt(e,t).state:r="prev");var o=e.options.tabSize,a=se(A,t),s=D(a.text,null,o);a.stateAfter&&(a.stateAfter=null);var l,c=a.text.match(/^\s*/)[0];if(n||/\S/.test(a.text)){if("smart"==r&&((l=A.mode.indent(i,a.text.slice(c.length),a.text))==P||150<l)){if(!n)return;r="prev"}}else l=0,r="not";"prev"==r?l=t>A.first?D(se(A,t-1).text,null,o):0:"add"==r?l=s+e.options.indentUnit:"subtract"==r?l=s-e.options.indentUnit:"number"==typeof r&&(l=s+r),l=Math.max(0,l);var u="",d=0;if(e.options.indentWithTabs)for(var f=Math.floor(l/o);f;--f)d+=o,u+="\t";if(d<l&&(u+=Y(l-d)),u!=c)return gA(A,u,ge(t,0),ge(t,c.length),"+input"),!(a.stateAfter=null);for(var p=0;p<A.sel.ranges.length;p++){var h=A.sel.ranges[p];if(h.head.line==t&&h.head.ch<c.length){var g=ge(t,c.length);$i(A,p,new Ci(g,g));break}}}So.defineInitHook=function(e){return Ho.push(e)};var ko=null;function No(e){ko=e}function Io(e,t,r,n,i){var A=e.doc;e.display.shift=!1,n||(n=A.sel);var o,a=e.state.pasteIncoming||"paste"==i,s=Ft(t),l=null;if(a&&1<n.ranges.length)if(ko&&ko.text.join("\n")==t){if(n.ranges.length%ko.text.length==0){l=[];for(var c=0;c<ko.text.length;c++)l.push(A.splitLines(ko.text[c]))}}else s.length==n.ranges.length&&e.options.pasteLinesPerSelection&&(l=J(s,function(e){return[e]}));for(var u=n.ranges.length-1;0<=u;u--){var d=n.ranges[u],f=d.from(),p=d.to();d.empty()&&(r&&0<r?f=ge(f.line,f.ch-r):e.state.overwrite&&!a?p=ge(p.line,Math.min(se(A,p.line).text.length,p.ch+j(s).length)):ko&&ko.lineWise&&ko.text.join("\n")==t&&(f=p=ge(f.line,0))),o=e.curOp.updateInput;var h={from:f,to:p,text:l?l[u%l.length]:s,origin:i||(a?"paste":e.state.cutIncoming?"cut":"+input")};uA(e.doc,h),hr(e,"inputRead",e,h)}t&&!a&&Lo(e,t),kn(e),e.curOp.updateInput=o,e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=!1}function Mo(e,t){var r=e.clipboardData&&e.clipboardData.getData("Text");if(r)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||ei(t,function(){return Io(t,r,0,null,"paste")}),!0}function Lo(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var r=e.doc.sel,n=r.ranges.length-1;0<=n;n--){var i=r.ranges[n];if(!(100<i.head.ch||n&&r.ranges[n-1].head.line==i.head.line)){var A=e.getModeAt(i.head),o=!1;if(A.electricChars){for(var a=0;a<A.electricChars.length;a++)if(-1<t.indexOf(A.electricChars.charAt(a))){o=To(e,i.head.line,"smart");break}}else A.electricInput&&A.electricInput.test(se(e.doc,i.head.line).text.slice(0,i.head.ch))&&(o=To(e,i.head.line,"smart"));o&&hr(e,"electricInput",e,i.head.line)}}}function Do(e){for(var t=[],r=[],n=0;n<e.doc.sel.ranges.length;n++){var i=e.doc.sel.ranges[n].head.line,A={anchor:ge(i,0),head:ge(i+1,0)};r.push(A),t.push(e.getRange(A.anchor,A.head))}return{text:t,ranges:r}}function Oo(e,t){e.setAttribute("autocorrect","off"),e.setAttribute("autocapitalize","off"),e.setAttribute("spellcheck",!!t)}function Ko(){var e=S("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=S("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return _?e.style.width="1000px":e.setAttribute("wrap","off"),c&&(e.style.border="1px solid black"),Oo(e),t}function Ro(r,n,i,e,A){var t=n,o=i,a=se(r,n.line);function s(e){var t;if(null==(t=A?function(t,r,a,e){var s=at(r,t.doc.direction);if(!s)return eo(r,a,e);a.ch>=r.text.length?(a.ch=r.text.length,a.sticky="before"):a.ch<=0&&(a.ch=0,a.sticky="after");var n=qe(s,a.ch,a.sticky),i=s[n];if("ltr"==t.doc.direction&&i.level%2==0&&(0<e?i.to>a.ch:i.from<a.ch))return eo(r,a,e);function l(e,t){return ZA(r,e instanceof ge?e.ch:e,t)}function A(e){return t.options.lineWrapping?(o=o||Dr(t,r),An(t,r,o,e)):{begin:0,end:r.text.length}}var o,c=A("before"==a.sticky?l(a,-1):a.ch);if("rtl"==t.doc.direction||1==i.level){var u=1==i.level==e<0,d=l(a,u?1:-1);if(null!=d&&(u?d<=i.to&&d<=c.end:d>=i.from&&d>=c.begin)){var f=u?"before":"after";return new ge(a.line,d,f)}}function p(e,t,r){for(var n=function(e,t){return t?new ge(a.line,l(e,1),"before"):new ge(a.line,e,"after")};0<=e&&e<s.length;e+=t){var i=s[e],A=0<t==(1!=i.level),o=A?r.begin:l(r.end,-1);if(i.from<=o&&o<i.to)return n(o,A);if(o=A?i.from:l(i.to,-1),r.begin<=o&&o<r.end)return n(o,A)}}var h=p(n+e,e,c);if(h)return h;var g=0<e?c.end:l(c.begin,-1);return null==g||0<e&&g==r.text.length||!(h=p(0<e?0:s.length-1,e,A(g)))?null:h}(r.cm,a,n,i):eo(a,n,i))){if(e||!function(){var e=n.line+i;return!(e<r.first||e>=r.first+r.size)&&(n=new ge(e,n.ch,n.sticky),a=se(r,e))}())return!1;n=to(A,r.cm,a,n.line,i)}else n=t;return!0}if("char"==e)s();else if("column"==e)s(!0);else if("word"==e||"group"==e)for(var l=null,c="group"==e,u=r.cm&&r.cm.getHelper(n,"wordChars"),d=!0;!(i<0)||s(!d);d=!1){var f=a.text.charAt(n.ch)||"\n",p=te(f,u)?"w":c&&"\n"==f?"n":!c||/\s/.test(f)?null:"p";if(!c||d||p||(p="s"),l&&l!=p){i<0&&(i=1,s(),n.sticky="after");break}if(p&&(l=p),0<i&&!s(!d))break}var h=aA(r,n,t,o,!0);return me(t,h)&&(h.hitSide=!0),h}function Po(e,t,r,n){var i,A,o=e.doc,a=t.left;if("page"==n){var s=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),l=Math.max(s-.5*sn(e.display),3);i=(0<r?t.bottom:t.top)+r*l}else"line"==n&&(i=0<r?t.bottom+3:t.top-3);for(;(A=rn(e,a,i)).outside;){if(r<0?i<=0:i>=o.height){A.hitSide=!0;break}i+=5*r}return A}function zo(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new O,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null}function Xo(e,t){var r=Lr(e,t.line);if(!r||r.hidden)return null;var n=se(e.doc,t.line),i=Ir(r,n,t.line),A=at(n,e.doc.direction),o="left";A&&(o=qe(A,t.ch)%2?"right":"left");var a=Pr(i.map,t.ch,o);return a.offset="right"==a.collapse?a.end:a.start,a}function Wo(e,t){return t&&(e.bad=!0),e}function Vo(e,t,r){var n;if(t==e.display.lineDiv){if(!(n=e.display.lineDiv.childNodes[r]))return Wo(e.clipPos(ge(e.display.viewTo-1)),!0);t=null,r=0}else for(n=t;;n=n.parentNode){if(!n||n==e.display.lineDiv)return null;if(n.parentNode&&n.parentNode==e.display.lineDiv)break}for(var i=0;i<e.display.view.length;i++){var A=e.display.view[i];if(A.node==n)return Go(A,t,r)}}function Go(l,e,t){var r=l.text.firstChild,n=!1;if(!e||!H(r,e))return Wo(ge(de(l.line),0),!0);if(e==r&&(n=!0,e=r.childNodes[t],t=0,!e)){var i=l.rest?j(l.rest):l.line;return Wo(ge(de(i),i.text.length),n)}var A=3==e.nodeType?e:null,o=e;for(A||1!=e.childNodes.length||3!=e.firstChild.nodeType||(A=e.firstChild,t&&(t=A.nodeValue.length));o.parentNode!=r;)o=o.parentNode;var c=l.measure,u=c.maps;function a(e,t,r){for(var n=-1;n<(u?u.length:0);n++)for(var i=n<0?c.map:u[n],A=0;A<i.length;A+=3){var o=i[A+2];if(o==e||o==t){var a=de(n<0?l.line:l.rest[n]),s=i[A]+r;return(r<0||o!=e)&&(s=i[A+(r?1:0)]),ge(a,s)}}}var s=a(A,o,t);if(s)return Wo(s,n);for(var d=o.nextSibling,f=A?A.nodeValue.length-t:0;d;d=d.nextSibling){if(s=a(d,d.firstChild,0))return Wo(ge(s.line,s.ch-f),n);f+=d.textContent.length}for(var p=o.previousSibling,h=t;p;p=p.previousSibling){if(s=a(p,p.firstChild,-1))return Wo(ge(s.line,s.ch+h),n);h+=p.textContent.length}}zo.prototype.init=function(e){var t=this,o=this,a=o.cm,s=o.div=e.lineDiv;function r(e){if(!ft(a,e)){if(a.somethingSelected())No({lineWise:!1,text:a.getSelections()}),"cut"==e.type&&a.replaceSelection("",null,"cut");else{if(!a.options.lineWiseCopyCut)return;var t=Do(a);No({lineWise:!0,text:t.text}),"cut"==e.type&&a.operation(function(){a.setSelections(t.ranges,0,z),a.replaceSelection("",null,"cut")})}if(e.clipboardData){e.clipboardData.clearData();var r=ko.text.join("\n");if(e.clipboardData.setData("Text",r),e.clipboardData.getData("Text")==r)return void e.preventDefault()}var n=Ko(),i=n.firstChild;a.display.lineSpace.insertBefore(n,a.display.lineSpace.firstChild),i.value=ko.text.join("\n");var A=document.activeElement;I(i),setTimeout(function(){a.display.lineSpace.removeChild(n),A.focus(),A==s&&o.showPrimarySelection()},50)}}Oo(s,a.options.spellcheck),lt(s,"paste",function(e){ft(a,e)||Mo(e,a)||y<=11&&setTimeout(ti(a,function(){return t.updateFromDOM()}),20)}),lt(s,"compositionstart",function(e){t.composing={data:e.data,done:!1}}),lt(s,"compositionupdate",function(e){t.composing||(t.composing={data:e.data,done:!1})}),lt(s,"compositionend",function(e){t.composing&&(e.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),lt(s,"touchstart",function(){return o.forceCompositionEnd()}),lt(s,"input",function(){t.composing||t.readFromDOMSoon()}),lt(s,"copy",r),lt(s,"cut",r)},zo.prototype.prepareSelection=function(){var e=vn(this.cm,!1);return e.focus=this.cm.state.focused,e},zo.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},zo.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},zo.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,r=t.doc.sel.primary(),n=r.from(),i=r.to();if(t.display.viewTo==t.display.viewFrom||n.line>=t.display.viewTo||i.line<t.display.viewFrom)e.removeAllRanges();else{var A=Vo(t,e.anchorNode,e.anchorOffset),o=Vo(t,e.focusNode,e.focusOffset);if(!A||A.bad||!o||o.bad||0!=ve(Be(A,o),n)||0!=ve(we(A,o),i)){var a=t.display.view,s=n.line>=t.display.viewFrom&&Xo(t,n)||{node:a[0].measure.map[2],offset:0},l=i.line<t.display.viewTo&&Xo(t,i);if(!l){var c=a[a.length-1].measure,u=c.maps?c.maps[c.maps.length-1]:c.map;l={node:u[u.length-1],offset:u[u.length-2]-u[u.length-3]}}if(s&&l){var d,f=e.rangeCount&&e.getRangeAt(0);try{d=C(s.node,s.offset,l.offset,l.node)}catch(e){}d&&(!h&&t.state.focused?(e.collapse(s.node,s.offset),d.collapsed||(e.removeAllRanges(),e.addRange(d))):(e.removeAllRanges(),e.addRange(d)),f&&null==e.anchorNode?e.addRange(f):h&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},zo.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},zo.prototype.showMultipleSelections=function(e){U(this.cm.display.cursorDiv,e.cursors),U(this.cm.display.selectionDiv,e.selection)},zo.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},zo.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return H(this.div,t)},zo.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()||this.showSelection(this.prepareSelection(),!0),this.div.focus())},zo.prototype.blur=function(){this.div.blur()},zo.prototype.getField=function(){return this.div},zo.prototype.supportsTouch=function(){return!0},zo.prototype.receivedFocus=function(){var t=this;this.selectionInEditor()?this.pollSelection():ei(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function e(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,e))})},zo.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},zo.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(u&&o&&this.cm.options.gutters.length&&function(e){for(var t=e;t;t=t.parentNode)if(/CodeMirror-gutter-wrapper/.test(t.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var r=Vo(t,e.anchorNode,e.anchorOffset),n=Vo(t,e.focusNode,e.focusOffset);r&&n&&ei(t,function(){tA(t.doc,Ei(r,n),z),(r.bad||n.bad)&&(t.curOp.selectionChanged=!0)})}}},zo.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,r,n=this.cm,i=n.display,A=n.doc.sel.primary(),o=A.from(),a=A.to();if(0==o.ch&&o.line>n.firstLine()&&(o=ge(o.line-1,se(n.doc,o.line-1).length)),a.ch==se(n.doc,a.line).text.length&&a.line<n.lastLine()&&(a=ge(a.line+1,0)),o.line<i.viewFrom||a.line>i.viewTo-1)return!1;r=o.line==i.viewFrom||0==(e=hn(n,o.line))?(t=de(i.view[0].line),i.view[0].node):(t=de(i.view[e].line),i.view[e-1].node.nextSibling);var s,l,c=hn(n,a.line);if(l=c==i.view.length-1?(s=i.viewTo-1,i.lineDiv.lastChild):(s=de(i.view[c+1].line)-1,i.view[c+1].node.previousSibling),!r)return!1;for(var u=n.doc.splitLines(function(a,e,t,s,l){var r="",c=!1,u=a.doc.lineSeparator(),d=!1;function f(){c&&(r+=u,d&&(r+=u),c=d=!1)}function p(e){e&&(f(),r+=e)}function h(e){if(1==e.nodeType){var t=e.getAttribute("cm-text");if(t)return void p(t);var r,n=e.getAttribute("cm-marker");if(n){var i=a.findMarks(ge(s,0),ge(l+1,0),function(t){return function(e){return e.id==t}}(+n));return void(i.length&&(r=i[0].find(0))&&p(le(a.doc,r.from,r.to).join(u)))}if("false"==e.getAttribute("contenteditable"))return;var A=/^(pre|div|p|li|table|br)$/i.test(e.nodeName);if(!/^br$/i.test(e.nodeName)&&0==e.textContent.length)return;A&&f();for(var o=0;o<e.childNodes.length;o++)h(e.childNodes[o]);/^(pre|p)$/i.test(e.nodeName)&&(d=!0),A&&(c=!0)}else 3==e.nodeType&&p(e.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;h(e),e!=t;)e=e.nextSibling,d=!1;return r}(n,r,l,t,s)),d=le(n.doc,ge(t,0),ge(s,se(n.doc,s).text.length));1<u.length&&1<d.length;)if(j(u)==j(d))u.pop(),d.pop(),s--;else{if(u[0]!=d[0])break;u.shift(),d.shift(),t++}for(var f=0,p=0,h=u[0],g=d[0],v=Math.min(h.length,g.length);f<v&&h.charCodeAt(f)==g.charCodeAt(f);)++f;for(var m=j(u),_=j(d),w=Math.min(m.length-(1==u.length?f:0),_.length-(1==d.length?f:0));p<w&&m.charCodeAt(m.length-p-1)==_.charCodeAt(_.length-p-1);)++p;if(1==u.length&&1==d.length&&t==o.line)for(;f&&f>o.ch&&m.charCodeAt(m.length-p-1)==_.charCodeAt(_.length-p-1);)f--,p++;u[u.length-1]=m.slice(0,m.length-p).replace(/^\u200b+/,""),u[0]=u[0].slice(f).replace(/\u200b+$/,"");var B=ge(t,f),y=ge(s,d.length?j(d).length-p:0);return 1<u.length||u[0]||ve(B,y)?(gA(n.doc,u,B,y,"+input"),!0):void 0},zo.prototype.ensurePolled=function(){this.forceCompositionEnd()},zo.prototype.reset=function(){this.forceCompositionEnd()},zo.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},zo.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},zo.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||ei(this.cm,function(){return ii(e.cm)})},zo.prototype.setUneditable=function(e){e.contentEditable="false"},zo.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||ti(this.cm,Io)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},zo.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},zo.prototype.onContextMenu=function(){},zo.prototype.resetPosition=function(){},zo.prototype.needsContentAttribute=!0;function Yo(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new O,this.hasSelection=!1,this.composing=null}var jo,Jo,qo,$o,Zo;function ea(e,t,n,r){jo.defaults[e]=t,n&&(Jo[e]=r?function(e,t,r){r!=bo&&n(e,t,r)}:n)}Yo.prototype.init=function(t){var e=this,r=this,n=this.cm;this.createField(t);var i=this.textarea;function A(e){if(!ft(n,e)){if(n.somethingSelected())No({lineWise:!1,text:n.getSelections()});else{if(!n.options.lineWiseCopyCut)return;var t=Do(n);No({lineWise:!0,text:t.text}),"cut"==e.type?n.setSelections(t.ranges,null,z):(r.prevInput="",i.value=t.text.join("\n"),I(i))}"cut"==e.type&&(n.state.cutIncoming=!0)}}t.wrapper.insertBefore(this.wrapper,t.wrapper.firstChild),c&&(i.style.width="0px"),lt(i,"input",function(){B&&9<=y&&e.hasSelection&&(e.hasSelection=null),r.poll()}),lt(i,"paste",function(e){ft(n,e)||Mo(e,n)||(n.state.pasteIncoming=!0,r.fastPoll())}),lt(i,"cut",A),lt(i,"copy",A),lt(t.scroller,"paste",function(e){Ur(t,e)||ft(n,e)||(n.state.pasteIncoming=!0,r.focus())}),lt(t.lineSpace,"selectstart",function(e){Ur(t,e)||vt(e)}),lt(i,"compositionstart",function(){var e=n.getCursor("from");r.composing&&r.composing.range.clear(),r.composing={start:e,range:n.markText(e,n.getCursor("to"),{className:"CodeMirror-composing"})}}),lt(i,"compositionend",function(){r.composing&&(r.poll(),r.composing.range.clear(),r.composing=null)})},Yo.prototype.createField=function(e){this.wrapper=Ko(),this.textarea=this.wrapper.firstChild},Yo.prototype.prepareSelection=function(){var e=this.cm,t=e.display,r=e.doc,n=vn(e);if(e.options.moveInputWithCursor){var i=Zr(e,r.sel.primary().head,"div"),A=t.wrapper.getBoundingClientRect(),o=t.lineDiv.getBoundingClientRect();n.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,i.top+o.top-A.top)),n.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,i.left+o.left-A.left))}return n},Yo.prototype.showSelection=function(e){var t=this.cm.display;U(t.cursorDiv,e.cursors),U(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Yo.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var r=t.getSelection();this.textarea.value=r,t.state.focused&&I(this.textarea),B&&9<=y&&(this.hasSelection=r)}else e||(this.prevInput=this.textarea.value="",B&&9<=y&&(this.hasSelection=null))}},Yo.prototype.getField=function(){return this.textarea},Yo.prototype.supportsTouch=function(){return!1},Yo.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!d||T()!=this.textarea))try{this.textarea.focus()}catch(e){}},Yo.prototype.blur=function(){this.textarea.blur()},Yo.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Yo.prototype.receivedFocus=function(){this.slowPoll()},Yo.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Yo.prototype.fastPoll=function(){var t=!1,r=this;r.pollingFast=!0,r.polling.set(20,function e(){r.poll()||t?(r.pollingFast=!1,r.slowPoll()):(t=!0,r.polling.set(60,e))})},Yo.prototype.poll=function(){var e=this,t=this.cm,r=this.textarea,n=this.prevInput;if(this.contextMenuPending||!t.state.focused||St(r)&&!n&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var i=r.value;if(i==n&&!t.somethingSelected())return!1;if(B&&9<=y&&this.hasSelection===i||w&&/[\uf700-\uf7ff]/.test(i))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var A=i.charCodeAt(0);if(8203!=A||n||(n="\u200b"),8666==A)return this.reset(),this.cm.execCommand("undo")}for(var o=0,a=Math.min(n.length,i.length);o<a&&n.charCodeAt(o)==i.charCodeAt(o);)++o;return ei(t,function(){Io(t,i.slice(o),n.length-o,null,e.composing?"*compose":null),1e3<i.length||-1<i.indexOf("\n")?r.value=e.prevInput="":e.prevInput=i,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Yo.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Yo.prototype.onKeyPress=function(){B&&9<=y&&(this.hasSelection=null),this.fastPoll()},Yo.prototype.onContextMenu=function(e){var r=this,n=r.cm,i=n.display,A=r.textarea,t=pn(n,e),o=i.scroller.scrollTop;if(t&&!g){n.options.resetSelectionOnContextMenu&&-1==n.doc.sel.contains(t)&&ti(n,tA)(n.doc,Ei(t),z);var a=A.style.cssText,s=r.wrapper.style.cssText;r.wrapper.style.cssText="position: absolute";var l,c=r.wrapper.getBoundingClientRect();if(A.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-c.top-5)+"px; left: "+(e.clientX-c.left-5)+"px;\n      z-index: 1000; background: "+(B?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",_&&(l=window.scrollY),i.input.focus(),_&&window.scrollTo(null,l),i.input.reset(),n.somethingSelected()||(A.value=r.prevInput=" "),r.contextMenuPending=!0,i.selForContextMenu=n.doc.sel,clearTimeout(i.detectingSelectAll),B&&9<=y&&d(),x){wt(e);var u=function(){ut(window,"mouseup",u),setTimeout(f,20)};lt(window,"mouseup",u)}else setTimeout(f,50)}function d(){if(null!=A.selectionStart){var e=n.somethingSelected(),t="\u200b"+(e?A.value:"");A.value="\u21da",A.value=t,r.prevInput=e?"":"\u200b",A.selectionStart=1,A.selectionEnd=t.length,i.selForContextMenu=n.doc.sel}}function f(){if(r.contextMenuPending=!1,r.wrapper.style.cssText=s,A.style.cssText=a,B&&y<9&&i.scrollbars.setScrollTop(i.scroller.scrollTop=o),null!=A.selectionStart){(!B||B&&y<9)&&d();var e=0,t=function(){i.selForContextMenu==n.doc.sel&&0==A.selectionStart&&0<A.selectionEnd&&"\u200b"==r.prevInput?ti(n,lA)(n):e++<10?i.detectingSelectAll=setTimeout(t,500):(i.selForContextMenu=null,i.input.reset())};i.detectingSelectAll=setTimeout(t,200)}}},Yo.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e},Yo.prototype.setUneditable=function(){},Yo.prototype.needsContentAttribute=!1,Jo=(jo=So).optionHandlers,jo.defineOption=ea,jo.Init=bo,ea("value","",function(e,t){return e.setValue(t)},!0),ea("mode",null,function(e,t){e.doc.modeOption=t,Ti(e)},!0),ea("indentUnit",2,Ti,!0),ea("indentWithTabs",!1),ea("smartIndent",!0),ea("tabSize",4,function(e){ki(e),Vr(e),ii(e)},!0),ea("lineSeparator",null,function(e,n){if(e.doc.lineSep=n){var i=[],A=e.doc.first;e.doc.iter(function(e){for(var t=0;;){var r=e.text.indexOf(n,t);if(-1==r)break;t=r+n.length,i.push(ge(A,r))}A++});for(var t=i.length-1;0<=t;t--)gA(e.doc,n,i[t],ge(i[t].line,i[t].ch+n.length))}}),ea("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b-\u200f\u2028\u2029\ufeff]/g,function(e,t,r){e.state.specialChars=new RegExp(t.source+(t.test("\t")?"":"|\t"),"g"),r!=bo&&e.refresh()}),ea("specialCharPlaceholder",or,function(e){return e.refresh()},!0),ea("electricChars",!0),ea("inputStyle",d?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),ea("spellcheck",!1,function(e,t){return e.getInputField().spellcheck=t},!0),ea("rtlMoveVisually",!p),ea("wholeLineUpdateBefore",!0),ea("theme","default",function(e){xo(e),Eo(e)},!0),ea("keyMap","default",function(e,t,r){var n=qA(t),i=r!=bo&&qA(r);i&&i.detach&&i.detach(e,n),n.attach&&n.attach(e,i||null)}),ea("extraKeys",null),ea("configureMouse",null),ea("lineWrapping",!1,Fo,!0),ea("gutters",[],function(e){mi(e.options),Eo(e)},!0),ea("fixedGutter",!0,function(e,t){e.display.gutters.style.left=t?un(e.display)+"px":"0",e.refresh()},!0),ea("coverGutterNextToScrollbar",!1,function(e){return zn(e)},!0),ea("scrollbarStyle","native",function(e){Vn(e),zn(e),e.display.scrollbars.setScrollTop(e.doc.scrollTop),e.display.scrollbars.setScrollLeft(e.doc.scrollLeft)},!0),ea("lineNumbers",!1,function(e){mi(e.options),Eo(e)},!0),ea("firstLineNumber",1,Eo,!0),ea("lineNumberFormatter",function(e){return e},Eo,!0),ea("showCursorWhenSelecting",!1,gn,!0),ea("resetSelectionOnContextMenu",!0),ea("lineWiseCopyCut",!0),ea("pasteLinesPerSelection",!0),ea("readOnly",!1,function(e,t){"nocursor"==t&&(Cn(e),e.display.input.blur()),e.display.input.readOnlyChanged(t)}),ea("disableInput",!1,function(e,t){t||e.display.input.reset()},!0),ea("dragDrop",!0,Uo),ea("allowDropFileTypes",null),ea("cursorBlinkRate",530),ea("cursorScrollMargin",0),ea("cursorHeight",1,gn,!0),ea("singleCursorHeightPerLine",!0,gn,!0),ea("workTime",100),ea("workDelay",100),ea("flattenSpans",!0,ki,!0),ea("addModeClass",!1,ki,!0),ea("pollInterval",100),ea("undoDepth",200,function(e,t){return e.doc.history.undoDepth=t}),ea("historyEventDelay",1250),ea("viewportMargin",10,function(e){return e.refresh()},!0),ea("maxHighlightLength",1e4,ki,!0),ea("moveInputWithCursor",!0,function(e,t){t||e.display.input.resetPosition()}),ea("tabindex",null,function(e,t){return e.display.input.getField().tabIndex=t||""}),ea("autofocus",null),ea("direction","ltr",function(e,t){return e.doc.setDirection(t)},!0),$o=(qo=So).optionHandlers,Zo=qo.helpers={},qo.prototype={constructor:qo,focus:function(){window.focus(),this.display.input.focus()},setOption:function(e,t){var r=this.options,n=r[e];r[e]==t&&"mode"!=e||(r[e]=t,$o.hasOwnProperty(e)&&ti(this,$o[e])(this,t,n),dt(this,"optionChange",this,e))},getOption:function(e){return this.options[e]},getDoc:function(){return this.doc},addKeyMap:function(e,t){this.state.keyMaps[t?"push":"unshift"](qA(e))},removeKeyMap:function(e){for(var t=this.state.keyMaps,r=0;r<t.length;++r)if(t[r]==e||t[r].name==e)return t.splice(r,1),!0},addOverlay:ri(function(e,t){var r=e.token?e:qo.getMode(this.options,e);if(r.startState)throw new Error("Overlays may not be stateful.");!function(e,t,r){for(var n=0,i=r(t);n<e.length&&r(e[n])<=i;)n++;e.splice(n,0,t)}(this.state.overlays,{mode:r,modeSpec:e,opaque:t&&t.opaque,priority:t&&t.priority||0},function(e){return e.priority}),this.state.modeGen++,ii(this)}),removeOverlay:ri(function(e){for(var t=this.state.overlays,r=0;r<t.length;++r){var n=t[r].modeSpec;if(n==e||"string"==typeof e&&n.name==e)return t.splice(r,1),this.state.modeGen++,void ii(this)}}),indentLine:ri(function(e,t,r){"string"!=typeof t&&"number"!=typeof t&&(t=null==t?this.options.smartIndent?"smart":"prev":t?"add":"subtract"),pe(this.doc,e)&&To(this,e,t,r)}),indentSelection:ri(function(e){for(var t=this.doc.sel.ranges,r=-1,n=0;n<t.length;n++){var i=t[n];if(i.empty())i.head.line>r&&(To(this,i.head.line,e,!0),r=i.head.line,n==this.doc.sel.primIndex&&kn(this));else{var A=i.from(),o=i.to(),a=Math.max(r,A.line);r=Math.min(this.lastLine(),o.line-(o.ch?0:1))+1;for(var s=a;s<r;++s)To(this,s,e);var l=this.doc.sel.ranges;0==A.ch&&t.length==l.length&&0<l[n].from().ch&&$i(this.doc,n,new Ci(A,l[n].to()),z)}}}),getTokenAt:function(e,t){return $t(this,e,t)},getLineTokens:function(e,t){return $t(this,ge(e),t,!0)},getTokenTypeAt:function(e){e=xe(this.doc,e);var t,r=Vt(this,se(this.doc,e.line)),n=0,i=(r.length-1)/2,A=e.ch;if(0==A)t=r[2];else for(;;){var o=n+i>>1;if((o?r[2*o-1]:0)>=A)i=o;else{if(!(r[2*o+1]<A)){t=r[2*o+2];break}n=1+o}}var a=t?t.indexOf("overlay "):-1;return a<0?t:0==a?null:t.slice(0,a-1)},getModeAt:function(e){var t=this.doc.mode;return t.innerMode?qo.innerMode(t,this.getTokenAt(e).state).mode:t},getHelper:function(e,t){return this.getHelpers(e,t)[0]},getHelpers:function(e,t){var r=[];if(!Zo.hasOwnProperty(t))return r;var n=Zo[t],i=this.getModeAt(e);if("string"==typeof i[t])n[i[t]]&&r.push(n[i[t]]);else if(i[t])for(var A=0;A<i[t].length;A++){var o=n[i[t][A]];o&&r.push(o)}else i.helperType&&n[i.helperType]?r.push(n[i.helperType]):n[i.name]&&r.push(n[i.name]);for(var a=0;a<n._global.length;a++){var s=n._global[a];s.pred(i,this)&&-1==K(r,s.val)&&r.push(s.val)}return r},getStateAfter:function(e,t){var r=this.doc;return Gt(this,(e=ye(r,null==e?r.first+r.size-1:e))+1,t).state},cursorCoords:function(e,t){var r=this.doc.sel.primary();return Zr(this,null==e?r.head:"object"==typeof e?xe(this.doc,e):e?r.from():r.to(),t||"page")},charCoords:function(e,t){return $r(this,xe(this.doc,e),t||"page")},coordsChar:function(e,t){return rn(this,(e=qr(this,e,t||"page")).left,e.top)},lineAtHeight:function(e,t){return e=qr(this,{top:e,left:0},t||"page").top,fe(this.doc,e+this.display.viewOffset)},heightAtLine:function(e,t,r){var n,i=!1;if("number"==typeof e){var A=this.doc.first+this.doc.size-1;e<this.doc.first?e=this.doc.first:A<e&&(e=A,i=!0),n=se(this.doc,e)}else n=e;return Jr(this,n,{top:0,left:0},t||"page",r||i).top+(i?this.doc.height-Ge(n):0)},defaultTextHeight:function(){return sn(this.display)},defaultCharWidth:function(){return ln(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(e,t,r,n,i){var A=this.display,o=(e=Zr(this,xe(this.doc,e))).bottom,a=e.left;if(t.style.position="absolute",t.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(t),A.sizer.appendChild(t),"over"==n)o=e.top;else if("above"==n||"near"==n){var s=Math.max(A.wrapper.clientHeight,this.doc.height),l=Math.max(A.sizer.clientWidth,A.lineSpace.clientWidth);("above"==n||e.bottom+t.offsetHeight>s)&&e.top>t.offsetHeight?o=e.top-t.offsetHeight:e.bottom+t.offsetHeight<=s&&(o=e.bottom),a+t.offsetWidth>l&&(a=l-t.offsetWidth)}t.style.top=o+"px",t.style.left=t.style.right="","right"==i?(a=A.sizer.clientWidth-t.offsetWidth,t.style.right="0px"):("left"==i?a=0:"middle"==i&&(a=(A.sizer.clientWidth-t.offsetWidth)/2),t.style.left=a+"px"),r&&function(e,t){var r=Hn(e,t);null!=r.scrollTop&&Ln(e,r.scrollTop),null!=r.scrollLeft&&On(e,r.scrollLeft)}(this,{left:a,top:o,right:a+t.offsetWidth,bottom:o+t.offsetHeight})},triggerOnKeyDown:ri(uo),triggerOnKeyPress:ri(po),triggerOnKeyUp:fo,triggerOnMouseDown:ri(mo),execCommand:function(e){if(ro.hasOwnProperty(e))return ro[e].call(null,this)},triggerElectric:ri(function(e){Lo(this,e)}),findPosH:function(e,t,r,n){var i=1;t<0&&(i=-1,t=-t);for(var A=xe(this.doc,e),o=0;o<t&&!(A=Ro(this.doc,A,i,r,n)).hitSide;++o);return A},moveH:ri(function(t,r){var n=this;this.extendSelectionsBy(function(e){return n.display.shift||n.doc.extend||e.empty()?Ro(n.doc,e.head,t,r,n.options.rtlMoveVisually):t<0?e.from():e.to()},W)}),deleteH:ri(function(r,n){var e=this.doc.sel,i=this.doc;e.somethingSelected()?i.replaceSelection("",null,"+delete"):$A(this,function(e){var t=Ro(i,e.head,r,n,!1);return r<0?{from:t,to:e.head}:{from:e.head,to:t}})}),findPosV:function(e,t,r,n){var i=1,A=n;t<0&&(i=-1,t=-t);for(var o=xe(this.doc,e),a=0;a<t;++a){var s=Zr(this,o,"div");if(null==A?A=s.left:s.left=A,(o=Po(this,s,i,r)).hitSide)break}return o},moveV:ri(function(n,i){var A=this,o=this.doc,a=[],s=!this.display.shift&&!o.extend&&o.sel.somethingSelected();if(o.extendSelectionsBy(function(e){if(s)return n<0?e.from():e.to();var t=Zr(A,e.head,"div");null!=e.goalColumn&&(t.left=e.goalColumn),a.push(t.left);var r=Po(A,t,n,i);return"page"==i&&e==o.sel.primary()&&Tn(A,$r(A,r,"div").top-t.top),r},W),a.length)for(var e=0;e<o.sel.ranges.length;e++)o.sel.ranges[e].goalColumn=a[e]}),findWordAt:function(e){var t=se(this.doc,e.line).text,r=e.ch,n=e.ch;if(t){var i=this.getHelper(e,"wordChars");"before"!=e.sticky&&n!=t.length||!r?++n:--r;for(var A=t.charAt(r),o=te(A,i)?function(e){return te(e,i)}:/\s/.test(A)?function(e){return/\s/.test(e)}:function(e){return!/\s/.test(e)&&!te(e)};0<r&&o(t.charAt(r-1));)--r;for(;n<t.length&&o(t.charAt(n));)++n}return new Ci(ge(e.line,r),ge(e.line,n))},toggleOverwrite:function(e){null!=e&&e==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?k(this.display.cursorDiv,"CodeMirror-overwrite"):Q(this.display.cursorDiv,"CodeMirror-overwrite"),dt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==T()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:ri(function(e,t){Nn(this,e,t)}),getScrollInfo:function(){var e=this.display.scroller;return{left:e.scrollLeft,top:e.scrollTop,height:e.scrollHeight-Tr(this)-this.display.barHeight,width:e.scrollWidth-Tr(this)-this.display.barWidth,clientHeight:Nr(this),clientWidth:kr(this)}},scrollIntoView:ri(function(e,t){null==e?(e={from:this.doc.sel.primary().head,to:null},null==t&&(t=this.options.cursorScrollMargin)):"number"==typeof e?e={from:ge(e,0),to:null}:null==e.from&&(e={from:e,to:null}),e.to||(e.to=e.from),e.margin=t||0,null!=e.from.line?function(e,t){In(e),e.curOp.scrollToPos=t}(this,e):Mn(this,e.from,e.to,e.margin)}),setSize:ri(function(e,t){function r(e){return"number"==typeof e||/^\d+$/.test(String(e))?e+"px":e}var n=this;null!=e&&(this.display.wrapper.style.width=r(e)),null!=t&&(this.display.wrapper.style.height=r(t)),this.options.lineWrapping&&Wr(this);var i=this.display.viewFrom;this.doc.iter(i,this.display.viewTo,function(e){if(e.widgets)for(var t=0;t<e.widgets.length;t++)if(e.widgets[t].noHScroll){Ai(n,i,"widget");break}++i}),this.curOp.forceUpdate=!0,dt(this,"refresh",this)}),operation:function(e){return ei(this,e)},startOperation:function(){return Yn(this)},endOperation:function(){return jn(this)},refresh:ri(function(){var e=this.display.cachedTextHeight;ii(this),this.curOp.forceUpdate=!0,Vr(this),Nn(this,this.doc.scrollLeft,this.doc.scrollTop),hi(this),(null==e||.5<Math.abs(e-sn(this.display)))&&fn(this),dt(this,"refresh",this)}),swapDoc:ri(function(e){var t=this.doc;return t.cm=null,Li(this,e),Vr(this),this.display.input.reset(),Nn(this,e.scrollLeft,e.scrollTop),this.curOp.forceScroll=!0,hr(this,"swapDoc",this,t),t}),getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},gt(qo),qo.registerHelper=function(e,t,r){Zo.hasOwnProperty(e)||(Zo[e]=qo[e]={_global:[]}),Zo[e][t]=r},qo.registerGlobalHelper=function(e,t,r,n){qo.registerHelper(e,t,n),Zo[e]._global.push({pred:r,val:n})};var ta,ra="iter insert remove copy getEditor constructor".split(" ");for(var na in TA.prototype)TA.prototype.hasOwnProperty(na)&&K(ra,na)<0&&(So.prototype[na]=function(e){return function(){return e.apply(this.doc,arguments)}}(TA.prototype[na]));return gt(TA),So.inputStyles={textarea:Yo,contenteditable:zo},So.defineMode=function(e){So.defaults.mode||"null"==e||(So.defaults.mode=e),function(e,t){2<arguments.length&&(t.dependencies=Array.prototype.slice.call(arguments,2)),kt[e]=t}.apply(this,arguments)},So.defineMIME=function(e,t){Nt[e]=t},So.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),So.defineMIME("text/plain","null"),So.defineExtension=function(e,t){So.prototype[e]=t},So.defineDocExtension=function(e,t){TA.prototype[e]=t},So.fromTextArea=function(t,e){if((e=e?L(e):{}).value=t.value,!e.tabindex&&t.tabIndex&&(e.tabindex=t.tabIndex),!e.placeholder&&t.placeholder&&(e.placeholder=t.placeholder),null==e.autofocus){var r=T();e.autofocus=r==t||null!=t.getAttribute("autofocus")&&r==document.body}function n(){t.value=a.getValue()}var i;if(t.form&&(lt(t.form,"submit",n),!e.leaveSubmitMethodAlone)){var A=t.form;i=A.submit;try{var o=A.submit=function(){n(),A.submit=i,A.submit(),A.submit=o}}catch(e){}}e.finishInit=function(e){e.save=n,e.getTextArea=function(){return t},e.toTextArea=function(){e.toTextArea=isNaN,n(),t.parentNode.removeChild(e.getWrapperElement()),t.style.display="",t.form&&(ut(t.form,"submit",n),"function"==typeof t.form.submit&&(t.form.submit=i))}},t.style.display="none";var a=So(function(e){return t.parentNode.insertBefore(e,t.nextSibling)},e);return a},(ta=So).off=ut,ta.on=lt,ta.wheelEventPixels=yi,ta.Doc=TA,ta.splitLines=Ft,ta.countColumn=D,ta.findColumn=V,ta.isWordChar=ee,ta.Pass=P,ta.signal=dt,ta.Line=tr,ta.changeEnd=Ui,ta.scrollbarModel=Wn,ta.Pos=ge,ta.cmpPos=ve,ta.modes=kt,ta.mimeModes=Nt,ta.resolveMode=It,ta.getMode=Mt,ta.modeExtensions=Lt,ta.extendMode=Dt,ta.copyState=Ot,ta.startState=Rt,ta.innerMode=Kt,ta.commands=ro,ta.keyMap=XA,ta.keyName=JA,ta.isModifierKey=YA,ta.lookupKey=GA,ta.normalizeKeyMap=VA,ta.StringStream=Pt,ta.SharedTextMarker=UA,ta.TextMarker=QA,ta.LineWidget=xA,ta.e_preventDefault=vt,ta.e_stopPropagation=mt,ta.e_stop=wt,ta.addClass=k,ta.contains=H,ta.rmClass=Q,ta.keyNames=KA,So.version="5.39.2",So}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(h){"use strict";h.multiplexingMode=function(d){var f=Array.prototype.slice.call(arguments,1);function p(e,t,r,n){if("string"==typeof t){var i=e.indexOf(t,r);return n&&-1<i?i+t.length:i}var A=t.exec(r?e.slice(r):e);return A?A.index+r+(n?A[0].length:0):-1}return{startState:function(){return{outer:h.startState(d),innerActive:null,inner:null}},copyState:function(e){return{outer:h.copyState(d,e.outer),innerActive:e.innerActive,inner:e.innerActive&&h.copyState(e.innerActive.mode,e.inner)}},token:function(e,t){if(t.innerActive){var r=t.innerActive;A=e.string;if(!r.close&&e.sol())return t.innerActive=t.inner=null,this.token(e,t);if((a=r.close?p(A,r.close,e.pos,r.parseDelimiters):-1)==e.pos&&!r.parseDelimiters)return e.match(r.close),t.innerActive=t.inner=null,r.delimStyle&&r.delimStyle+" "+r.delimStyle+"-close";-1<a&&(e.string=A.slice(0,a));var n=r.mode.token(e,t.inner);return-1<a&&(e.string=A),a==e.pos&&r.parseDelimiters&&(t.innerActive=t.inner=null),r.innerStyle&&(n=n?n+" "+r.innerStyle:r.innerStyle),n}for(var i=1/0,A=e.string,o=0;o<f.length;++o){var a,s=f[o];if((a=p(A,s.open,e.pos))==e.pos){s.parseDelimiters||e.match(s.open),t.innerActive=s;var l=0;if(d.indent){var c=d.indent(t.outer,"");c!==h.Pass&&(l=c)}return t.inner=h.startState(s.mode,l),s.delimStyle&&s.delimStyle+" "+s.delimStyle+"-open"}-1!=a&&a<i&&(i=a)}i!=1/0&&(e.string=A.slice(0,i));var u=d.token(e,t.outer);return i!=1/0&&(e.string=A),u},indent:function(e,t){var r=e.innerActive?e.innerActive.mode:d;return r.indent?r.indent(e.innerActive?e.inner:e.outer,t):h.Pass},blankLine:function(e){var t=e.innerActive?e.innerActive.mode:d;if(t.blankLine&&t.blankLine(e.innerActive?e.inner:e.outer),e.innerActive)"\n"===e.innerActive.close&&(e.innerActive=e.inner=null);else for(var r=0;r<f.length;++r){var n=f[r];"\n"===n.open&&(e.innerActive=n,e.inner=h.startState(n.mode,t.indent?t.indent(e.outer,""):0))}},electricChars:d.electricChars,innerMode:function(e){return e.inner?{state:e.inner,mode:e.innerActive.mode}:{state:e.outer,mode:d}}}}}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(x){"use strict";var b={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},C={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};x.defineMode("xml",function(e,t){var i,A,o=e.indentUnit,a={},r=t.htmlMode?b:C;for(var n in r)a[n]=r[n];for(var n in t)a[n]=t[n];function s(t,r){function e(e){return(r.tokenize=e)(t,r)}var n=t.next();return"<"==n?t.eat("!")?t.eat("[")?t.match("CDATA[")?e(c("atom","]]>")):null:t.match("--")?e(c("comment","--\x3e")):t.match("DOCTYPE",!0,!0)?(t.eatWhile(/[\w\._\-]/),e(function n(i){return function(e,t){for(var r;null!=(r=e.next());){if("<"==r)return t.tokenize=n(i+1),t.tokenize(e,t);if(">"==r){if(1!=i)return t.tokenize=n(i-1),t.tokenize(e,t);t.tokenize=s;break}}return"meta"}}(1))):null:t.eat("?")?(t.eatWhile(/[\w\._\-]/),r.tokenize=c("meta","?>"),"meta"):(i=t.eat("/")?"closeTag":"openTag",r.tokenize=l,"tag bracket"):"&"!=n?(t.eatWhile(/[^&<]/),null):(t.eat("#")?t.eat("x")?t.eatWhile(/[a-fA-F\d]/)&&t.eat(";"):t.eatWhile(/[\d]/)&&t.eat(";"):t.eatWhile(/[\w\.\-:]/)&&t.eat(";"))?"atom":"error"}function l(e,t){var r=e.next();if(">"==r||"/"==r&&e.eat(">"))return t.tokenize=s,i=">"==r?"endTag":"selfcloseTag","tag bracket";if("="==r)return i="equals",null;if("<"!=r)return/[\'\"]/.test(r)?(t.tokenize=function(r){var e=function(e,t){for(;!e.eol();)if(e.next()==r){t.tokenize=l;break}return"string"};return e.isInAttribute=!0,e}(r),t.stringStartCol=e.column(),t.tokenize(e,t)):(e.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word");t.tokenize=s,t.state=p,t.tagName=t.tagStart=null;var n=t.tokenize(e,t);return n?n+" tag error":"tag error"}function c(r,n){return function(e,t){for(;!e.eol();){if(e.match(n)){t.tokenize=s;break}e.next()}return r}}function u(e,t,r){this.prev=e.context,this.tagName=t,this.indent=e.indented,this.startOfLine=r,(a.doNotIndent.hasOwnProperty(t)||e.context&&e.context.noIndent)&&(this.noIndent=!0)}function d(e){e.context&&(e.context=e.context.prev)}function f(e,t){for(var r;;){if(!e.context)return;if(r=e.context.tagName,!a.contextGrabbers.hasOwnProperty(r)||!a.contextGrabbers[r].hasOwnProperty(t))return;d(e)}}function p(e,t,r){return"openTag"==e?(r.tagStart=t.column(),h):"closeTag"==e?g:p}function h(e,t,r){return"word"==e?(r.tagName=t.current(),A="tag",_):a.allowMissingTagName&&"endTag"==e?(A="tag bracket",_(e,t,r)):(A="error",h)}function g(e,t,r){if("word"!=e)return a.allowMissingTagName&&"endTag"==e?(A="tag bracket",v(e,t,r)):(A="error",m);var n=t.current();return r.context&&r.context.tagName!=n&&a.implicitlyClosed.hasOwnProperty(r.context.tagName)&&d(r),r.context&&r.context.tagName==n||!1===a.matchClosing?(A="tag",v):(A="tag error",m)}function v(e,t,r){return"endTag"!=e?(A="error",v):(d(r),p)}function m(e,t,r){return A="error",v(e,0,r)}function _(e,t,r){if("word"==e)return A="attribute",w;if("endTag"!=e&&"selfcloseTag"!=e)return A="error",_;var n=r.tagName,i=r.tagStart;return r.tagName=r.tagStart=null,"selfcloseTag"==e||a.autoSelfClosers.hasOwnProperty(n)?f(r,n):(f(r,n),r.context=new u(r,n,i==r.indented)),p}function w(e,t,r){return"equals"==e?B:(a.allowMissing||(A="error"),_(e,0,r))}function B(e,t,r){return"string"==e?y:"word"==e&&a.allowUnquoted?(A="string",_):(A="error",_(e,0,r))}function y(e,t,r){return"string"==e?y:_(e,0,r)}return s.isInText=!0,{startState:function(e){var t={tokenize:s,state:p,indented:e||0,tagName:null,tagStart:null,context:null};return null!=e&&(t.baseIndent=e),t},token:function(e,t){if(!t.tagName&&e.sol()&&(t.indented=e.indentation()),e.eatSpace())return null;i=null;var r=t.tokenize(e,t);return(r||i)&&"comment"!=r&&(A=null,t.state=t.state(i||r,e,t),A&&(r="error"==A?r+" error":A)),r},indent:function(e,t,r){var n=e.context;if(e.tokenize.isInAttribute)return e.tagStart==e.indented?e.stringStartCol+1:e.indented+o;if(n&&n.noIndent)return x.Pass;if(e.tokenize!=l&&e.tokenize!=s)return r?r.match(/^(\s*)/)[0].length:0;if(e.tagName)return!1!==a.multilineTagIndentPastTag?e.tagStart+e.tagName.length+2:e.tagStart+o*(a.multilineTagIndentFactor||1);if(a.alignCDATA&&/<!\[CDATA\[/.test(t))return 0;var i=t&&/^<(\/)?([\w_:\.-]*)/.exec(t);if(i&&i[1])for(;n;){if(n.tagName==i[2]){n=n.prev;break}if(!a.implicitlyClosed.hasOwnProperty(n.tagName))break;n=n.prev}else if(i)for(;n;){var A=a.contextGrabbers[n.tagName];if(!A||!A.hasOwnProperty(i[2]))break;n=n.prev}for(;n&&n.prev&&!n.startOfLine;)n=n.prev;return n?n.indent+o:e.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:a.htmlMode?"html":"xml",helperType:a.htmlMode?"html":"xml",skipAttribute:function(e){e.state==B&&(e.state=_)}}}),x.defineMIME("text/xml","xml"),x.defineMIME("application/xml","xml"),x.mimeModes.hasOwnProperty("text/html")||x.defineMIME("text/html",{name:"xml",htmlMode:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(et){"use strict";et.defineMode("javascript",function(e,l){var t,r,n,i,A,o,c=e.indentUnit,u=l.statementIndent,a=l.jsonld,s=l.json||a,d=l.typescript,f=l.wordCharacters||/[\w$\xa1-\uffff]/,p=(t=h("keyword a"),r=h("keyword b"),n=h("keyword c"),i=h("keyword d"),A=h("operator"),o={type:"atom",style:"atom"},{if:h("if"),while:t,with:t,else:r,do:r,try:r,finally:r,return:i,break:i,continue:i,new:h("new"),delete:n,void:n,throw:n,debugger:h("debugger"),var:h("var"),const:h("var"),let:h("var"),function:h("function"),catch:h("catch"),for:h("for"),switch:h("switch"),case:h("case"),default:h("default"),in:A,typeof:A,instanceof:A,true:o,false:o,null:o,undefined:o,NaN:o,Infinity:o,this:h("this"),class:h("class"),super:h("atom"),yield:n,export:h("export"),import:h("import"),extends:n,await:n});function h(e){return{type:e,style:"keyword"}}var g,v,m=/[+\-*&%=<>!?|~^@]/,_=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function w(e,t,r){return g=e,v=r,t}function B(e,t){var r=e.next();if('"'==r||"'"==r)return t.tokenize=function(i){return function(e,t){var r,n=!1;if(a&&"@"==e.peek()&&e.match(_))return t.tokenize=B,w("jsonld-keyword","meta");for(;null!=(r=e.next())&&(r!=i||n);)n=!n&&"\\"==r;return n||(t.tokenize=B),w("string","string")}}(r),t.tokenize(e,t);if("."==r&&e.match(/^\d+(?:[eE][+\-]?\d+)?/))return w("number","number");if("."==r&&e.match(".."))return w("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(r))return w(r);if("="==r&&e.eat(">"))return w("=>","operator");if("0"==r&&e.match(/^(?:x[\da-f]+|o[0-7]+|b[01]+)n?/i))return w("number","number");if(/\d/.test(r))return e.match(/^\d*(?:n|(?:\.\d*)?(?:[eE][+\-]?\d+)?)?/),w("number","number");if("/"==r)return e.eat("*")?(t.tokenize=y)(e,t):e.eat("/")?(e.skipToEnd(),w("comment","comment")):Ze(e,t,1)?(function(e){for(var t,r=!1,n=!1;null!=(t=e.next());){if(!r){if("/"==t&&!n)return;"["==t?n=!0:n&&"]"==t&&(n=!1)}r=!r&&"\\"==t}}(e),e.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),w("regexp","string-2")):(e.eat("="),w("operator","operator",e.current()));if("`"==r)return(t.tokenize=x)(e,t);if("#"==r)return e.skipToEnd(),w("error","error");if(m.test(r))return">"==r&&t.lexical&&">"==t.lexical.type||(e.eat("=")?"!"!=r&&"="!=r||e.eat("="):/[<>*+\-]/.test(r)&&(e.eat(r),">"==r&&e.eat(r))),w("operator","operator",e.current());if(f.test(r)){e.eatWhile(f);var n=e.current();if("."!=t.lastType){if(p.propertyIsEnumerable(n)){var i=p[n];return w(i.type,i.style,n)}if("async"==n&&e.match(/^(\s|\/\*.*?\*\/)*[\[\(\w]/,!1))return w("async","keyword",n)}return w("variable","variable",n)}}function y(e,t){for(var r,n=!1;r=e.next();){if("/"==r&&n){t.tokenize=B;break}n="*"==r}return w("comment","comment")}function x(e,t){for(var r,n=!1;null!=(r=e.next());){if(!n&&("`"==r||"$"==r&&e.eat("{"))){t.tokenize=B;break}n=!n&&"\\"==r}return w("quasi","string-2",e.current())}var b="([{}])";function C(e,t){t.fatArrowAt&&(t.fatArrowAt=null);var r=e.string.indexOf("=>",e.start);if(!(r<0)){if(d){var n=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(e.string.slice(e.start,r));n&&(r=n.index)}for(var i=0,A=!1,o=r-1;0<=o;--o){var a=e.string.charAt(o),s=b.indexOf(a);if(0<=s&&s<3){if(!i){++o;break}if(0==--i){"("==a&&(A=!0);break}}else if(3<=s&&s<6)++i;else if(f.test(a))A=!0;else{if(/["'\/]/.test(a))return;if(A&&!i){++o;break}}}A&&!i&&(t.fatArrowAt=o)}}var Q={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,"jsonld-keyword":!0};function E(e,t,r,n,i,A){this.indented=e,this.column=t,this.type=r,this.prev=i,this.info=A,null!=n&&(this.align=n)}function U(e,t){for(var r=e.localVars;r;r=r.next)if(r.name==t)return!0;for(var n=e.context;n;n=n.prev)for(r=n.vars;r;r=r.next)if(r.name==t)return!0}var F={state:null,column:null,marked:null,cc:null};function S(){for(var e=arguments.length-1;0<=e;e--)F.cc.push(arguments[e])}function H(){return S.apply(null,arguments),!0}function T(e,t){for(var r=t;r;r=r.next)if(r.name==e)return!0;return!1}function k(e){var t=F.state;if(F.marked="def",t.context)if("var"==t.lexical.info&&t.context&&t.context.block){var r=function e(t,r){{if(r){if(r.block){var n=e(t,r.prev);return n?n==r.prev?r:new I(n,r.vars,!0):null}return T(t,r.vars)?r:new I(r.prev,new M(t,r.vars),!1)}return null}}(e,t.context);if(null!=r)return void(t.context=r)}else if(!T(e,t.localVars))return void(t.localVars=new M(e,t.localVars));l.globalVars&&!T(e,t.globalVars)&&(t.globalVars=new M(e,t.globalVars))}function N(e){return"public"==e||"private"==e||"protected"==e||"abstract"==e||"readonly"==e}function I(e,t,r){this.prev=e,this.vars=t,this.block=r}function M(e,t){this.name=e,this.next=t}var L=new M("this",new M("arguments",null));function D(){F.state.context=new I(F.state.context,F.state.localVars,!1),F.state.localVars=L}function O(){F.state.context=new I(F.state.context,F.state.localVars,!0),F.state.localVars=null}function K(){F.state.localVars=F.state.context.vars,F.state.context=F.state.context.prev}function R(n,i){function e(){var e=F.state,t=e.indented;if("stat"==e.lexical.type)t=e.lexical.indented;else for(var r=e.lexical;r&&")"==r.type&&r.align;r=r.prev)t=r.indented;e.lexical=new E(t,F.stream.column(),n,null,e.lexical,i)}return e.lex=!0,e}function P(){var e=F.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function z(r){return function e(t){return t==r?H():";"==r||"}"==t||")"==t||"]"==t?S():H(e)}}function X(e,t){return"var"==e?H(R("vardef",t),be,z(";"),P):"keyword a"==e?H(R("form"),Y,X,P):"keyword b"==e?H(R("form"),X,P):"keyword d"==e?F.stream.match(/^\s*$/,!1)?H():H(R("stat"),J,z(";"),P):"debugger"==e?H(z(";")):"{"==e?H(R("}"),O,de,P,K):";"==e?H():"if"==e?("else"==F.state.lexical.info&&F.state.cc[F.state.cc.length-1]==P&&F.state.cc.pop()(),H(R("form"),Y,X,P,Se)):"function"==e?H(Me):"for"==e?H(R("form"),He,X,P):"class"==e||d&&"interface"==t?(F.marked="keyword",H(R("form"),Oe,P)):"variable"==e?d&&"declare"==t?(F.marked="keyword",H(X)):d&&("module"==t||"enum"==t||"type"==t)&&F.stream.match(/^\s*\w/,!1)?(F.marked="keyword","enum"==t?H(qe):"type"==t?H(ge,z("operator"),ge,z(";")):H(R("form"),Ce,z("{"),R("}"),de,P,P)):d&&"namespace"==t?(F.marked="keyword",H(R("form"),V,de,P)):d&&"abstract"==t?(F.marked="keyword",H(X)):H(R("stat"),Ae):"switch"==e?H(R("form"),Y,z("{"),R("}","switch"),O,de,P,P,K):"case"==e?H(V,z(":")):"default"==e?H(z(":")):"catch"==e?H(R("form"),D,W,X,P,K):"export"==e?H(R("stat"),ze,P):"import"==e?H(R("stat"),We,P):"async"==e?H(X):"@"==t?H(V,X):S(R("stat"),V,z(";"),P)}function W(e){if("("==e)return H(Le,z(")"))}function V(e,t){return j(e,t,!1)}function G(e,t){return j(e,t,!0)}function Y(e){return"("!=e?S():H(R(")"),V,z(")"),P)}function j(e,t,r){if(F.state.fatArrowAt==F.stream.start){var n=r?re:te;if("("==e)return H(D,R(")"),ce(Le,")"),P,z("=>"),n,K);if("variable"==e)return S(D,Ce,z("=>"),n,K)}var i=r?$:q;return Q.hasOwnProperty(e)?H(i):"function"==e?H(Me,i):"class"==e||d&&"interface"==t?(F.marked="keyword",H(R("form"),De,P)):"keyword c"==e||"async"==e?H(r?G:V):"("==e?H(R(")"),J,z(")"),P,i):"operator"==e||"spread"==e?H(r?G:V):"["==e?H(R("]"),Je,P,i):"{"==e?ue(ae,"}",null,i):"quasi"==e?S(Z,i):"new"==e?H(function(t){return function(e){return"."==e?H(t?ie:ne):"variable"==e&&d?H(Be,t?$:q):S(t?G:V)}}(r)):"import"==e?H(V):H()}function J(e){return e.match(/[;\}\)\],]/)?S():S(V)}function q(e,t){return","==e?H(V):$(e,t,!1)}function $(e,t,r){var n=0==r?q:$,i=0==r?V:G;return"=>"==e?H(D,r?re:te,K):"operator"==e?/\+\+|--/.test(t)||d&&"!"==t?H(n):d&&"<"==t&&F.stream.match(/^([^>]|<.*?>)*>\s*\(/,!1)?H(R(">"),ce(ge,">"),P,n):"?"==t?H(V,z(":"),i):H(i):"quasi"==e?S(Z,n):";"!=e?"("==e?ue(G,")","call",n):"."==e?H(oe,n):"["==e?H(R("]"),J,z("]"),P,n):d&&"as"==t?(F.marked="keyword",H(ge,n)):"regexp"==e?(F.state.lastType=F.marked="operator",F.stream.backUp(F.stream.pos-F.stream.start-1),H(i)):void 0:void 0}function Z(e,t){return"quasi"!=e?S():"${"!=t.slice(t.length-2)?H(Z):H(V,ee)}function ee(e){if("}"==e)return F.marked="string-2",F.state.tokenize=x,H(Z)}function te(e){return C(F.stream,F.state),S("{"==e?X:V)}function re(e){return C(F.stream,F.state),S("{"==e?X:G)}function ne(e,t){if("target"==t)return F.marked="keyword",H(q)}function ie(e,t){if("target"==t)return F.marked="keyword",H($)}function Ae(e){return":"==e?H(P,X):S(q,z(";"),P)}function oe(e){if("variable"==e)return F.marked="property",H()}function ae(e,t){if("async"==e)return F.marked="property",H(ae);if("variable"==e||"keyword"==F.style){return F.marked="property","get"==t||"set"==t?H(se):(d&&F.state.fatArrowAt==F.stream.start&&(r=F.stream.match(/^\s*:\s*/,!1))&&(F.state.fatArrowAt=F.stream.pos+r[0].length),H(le));var r}else{if("number"==e||"string"==e)return F.marked=a?"property":F.style+" property",H(le);if("jsonld-keyword"==e)return H(le);if(d&&N(t))return F.marked="keyword",H(ae);if("["==e)return H(V,fe,z("]"),le);if("spread"==e)return H(G,le);if("*"==t)return F.marked="keyword",H(ae);if(":"==e)return S(le)}}function se(e){return"variable"!=e?S(le):(F.marked="property",H(Me))}function le(e){return":"==e?H(G):"("==e?S(Me):void 0}function ce(n,i,A){function o(e,t){if(A?-1<A.indexOf(e):","==e){var r=F.state.lexical;return"call"==r.info&&(r.pos=(r.pos||0)+1),H(function(e,t){return e==i||t==i?S():S(n)},o)}return e==i||t==i?H():H(z(i))}return function(e,t){return e==i||t==i?H():S(n,o)}}function ue(e,t,r){for(var n=3;n<arguments.length;n++)F.cc.push(arguments[n]);return H(R(t,r),ce(e,t),P)}function de(e){return"}"==e?H():S(X,de)}function fe(e,t){if(d){if(":"==e)return H(ge);if("?"==t)return H(fe)}}function pe(e){if(d&&":"==e)return F.stream.match(/^\s*\w+\s+is\b/,!1)?H(V,he,ge):H(ge)}function he(e,t){if("is"==t)return F.marked="keyword",H()}function ge(e,t){return"keyof"==t||"typeof"==t?(F.marked="keyword",H("keyof"==t?ge:G)):"variable"==e||"void"==t?(F.marked="type",H(we)):"string"==e||"number"==e||"atom"==e?H(we):"["==e?H(R("]"),ce(ge,"]",","),P,we):"{"==e?H(R("}"),ce(me,"}",",;"),P,we):"("==e?H(ce(_e,")"),ve):"<"==e?H(ce(ge,">"),ge):void 0}function ve(e){if("=>"==e)return H(ge)}function me(e,t){return"variable"==e||"keyword"==F.style?(F.marked="property",H(me)):"?"==t?H(me):":"==e?H(ge):"["==e?H(V,fe,z("]"),me):void 0}function _e(e,t){return"variable"==e&&F.stream.match(/^\s*[?:]/,!1)||"?"==t?H(_e):":"==e?H(ge):S(ge)}function we(e,t){return"<"==t?H(R(">"),ce(ge,">"),P,we):"|"==t||"."==e||"&"==t?H(ge):"["==e?H(z("]"),we):"extends"==t||"implements"==t?(F.marked="keyword",H(ge)):void 0}function Be(e,t){if("<"==t)return H(R(">"),ce(ge,">"),P,we)}function ye(){return S(ge,xe)}function xe(e,t){if("="==t)return H(ge)}function be(e,t){return"enum"==t?(F.marked="keyword",H(qe)):S(Ce,fe,Ue,Fe)}function Ce(e,t){return d&&N(t)?(F.marked="keyword",H(Ce)):"variable"==e?(k(t),H()):"spread"==e?H(Ce):"["==e?ue(Ee,"]"):"{"==e?ue(Qe,"}"):void 0}function Qe(e,t){return"variable"!=e||F.stream.match(/^\s*:/,!1)?("variable"==e&&(F.marked="property"),"spread"==e?H(Ce):"}"==e?S():H(z(":"),Ce,Ue)):(k(t),H(Ue))}function Ee(){return S(Ce,Ue)}function Ue(e,t){if("="==t)return H(G)}function Fe(e){if(","==e)return H(be)}function Se(e,t){if("keyword b"==e&&"else"==t)return H(R("form","else"),X,P)}function He(e,t){return"await"==t?H(He):"("==e?H(R(")"),Te,z(")"),P):void 0}function Te(e){return"var"==e?H(be,z(";"),Ne):";"==e?H(Ne):"variable"==e?H(ke):S(V,z(";"),Ne)}function ke(e,t){return"in"==t||"of"==t?(F.marked="keyword",H(V)):H(q,Ne)}function Ne(e,t){return";"==e?H(Ie):"in"==t||"of"==t?(F.marked="keyword",H(V)):S(V,z(";"),Ie)}function Ie(e){")"!=e&&H(V)}function Me(e,t){return"*"==t?(F.marked="keyword",H(Me)):"variable"==e?(k(t),H(Me)):"("==e?H(D,R(")"),ce(Le,")"),P,pe,X,K):d&&"<"==t?H(R(">"),ce(ye,">"),P,Me):void 0}function Le(e,t){return"@"==t&&H(V,Le),"spread"==e?H(Le):d&&N(t)?(F.marked="keyword",H(Le)):S(Ce,fe,Ue)}function De(e,t){return"variable"==e?Oe(e,t):Ke(e,t)}function Oe(e,t){if("variable"==e)return k(t),H(Ke)}function Ke(e,t){return"<"==t?H(R(">"),ce(ye,">"),P,Ke):"extends"==t||"implements"==t||d&&","==e?("implements"==t&&(F.marked="keyword"),H(d?ge:V,Ke)):"{"==e?H(R("}"),Re,P):void 0}function Re(e,t){return"async"==e||"variable"==e&&("static"==t||"get"==t||"set"==t||d&&N(t))&&F.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(F.marked="keyword",H(Re)):"variable"==e||"keyword"==F.style?(F.marked="property",H(d?Pe:Me,Re)):"["==e?H(V,fe,z("]"),d?Pe:Me,Re):"*"==t?(F.marked="keyword",H(Re)):";"==e?H(Re):"}"==e?H():"@"==t?H(V,Re):void 0}function Pe(e,t){return"?"==t?H(Pe):":"==e?H(ge,Ue):"="==t?H(G):S(Me)}function ze(e,t){return"*"==t?(F.marked="keyword",H(je,z(";"))):"default"==t?(F.marked="keyword",H(V,z(";"))):"{"==e?H(ce(Xe,"}"),je,z(";")):S(X)}function Xe(e,t){return"as"==t?(F.marked="keyword",H(z("variable"))):"variable"==e?S(G,Xe):void 0}function We(e){return"string"==e?H():"("==e?S(V):S(Ve,Ge,je)}function Ve(e,t){return"{"==e?ue(Ve,"}"):("variable"==e&&k(t),"*"==t&&(F.marked="keyword"),H(Ye))}function Ge(e){if(","==e)return H(Ve,Ge)}function Ye(e,t){if("as"==t)return F.marked="keyword",H(Ve)}function je(e,t){if("from"==t)return F.marked="keyword",H(V)}function Je(e){return"]"==e?H():S(ce(G,"]"))}function qe(){return S(R("form"),Ce,z("{"),R("}"),ce($e,"}"),P,P)}function $e(){return S(Ce,Ue)}function Ze(e,t,r){return t.tokenize==B&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(t.lastType)||"quasi"==t.lastType&&/\{\s*$/.test(e.string.slice(0,e.pos-(r||0)))}return P.lex=K.lex=!0,{startState:function(e){var t={tokenize:B,lastType:"sof",cc:[],lexical:new E((e||0)-c,0,"block",!1),localVars:l.localVars,context:l.localVars&&new I(null,null,!1),indented:e||0};return l.globalVars&&"object"==typeof l.globalVars&&(t.globalVars=l.globalVars),t},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation(),C(e,t)),t.tokenize!=y&&e.eatSpace())return null;var r=t.tokenize(e,t);return"comment"==g?r:(t.lastType="operator"!=g||"++"!=v&&"--"!=v?g:"incdec",function(e,t,r,n,i){var A=e.cc;for(F.state=e,F.stream=i,F.marked=null,F.cc=A,F.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((A.length?A.pop():s?V:X)(r,n)){for(;A.length&&A[A.length-1].lex;)A.pop()();return F.marked?F.marked:"variable"==r&&U(e,n)?"variable-2":t}}(t,r,g,v,e))},indent:function(e,t){if(e.tokenize==y)return et.Pass;if(e.tokenize!=B)return 0;var r,n=t&&t.charAt(0),i=e.lexical;if(!/^\s*else\b/.test(t))for(var A=e.cc.length-1;0<=A;--A){var o=e.cc[A];if(o==P)i=i.prev;else if(o!=Se)break}for(;("stat"==i.type||"form"==i.type)&&("}"==n||(r=e.cc[e.cc.length-1])&&(r==q||r==$)&&!/^[,\.=+\-*:?[\(]/.test(t));)i=i.prev;u&&")"==i.type&&"stat"==i.prev.type&&(i=i.prev);var a=i.type,s=n==a;return"vardef"==a?i.indented+("operator"==e.lastType||","==e.lastType?i.info.length+1:0):"form"==a&&"{"==n?i.indented:"form"==a?i.indented+c:"stat"==a?i.indented+(function(e,t){return"operator"==e.lastType||","==e.lastType||m.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(e,t)?u||c:0):"switch"!=i.info||s||0==l.doubleIndentSwitch?i.align?i.column+(s?0:1):i.indented+(s?0:c):i.indented+(/^(?:case|default)\b/.test(t)?c:2*c)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:s?null:"/*",blockCommentEnd:s?null:"*/",blockCommentContinue:s?null:" * ",lineComment:s?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:s?"json":"javascript",jsonldMode:a,jsonMode:s,expressionAllowed:Ze,skipExpression:function(e){var t=e.cc[e.cc.length-1];t!=V&&t!=G||e.cc.pop()}}}),et.registerHelper("wordChars","javascript",/[\w$]/),et.defineMIME("text/javascript","javascript"),et.defineMIME("text/ecmascript","javascript"),et.defineMIME("application/javascript","javascript"),et.defineMIME("application/x-javascript","javascript"),et.defineMIME("application/ecmascript","javascript"),et.defineMIME("application/json",{name:"javascript",json:!0}),et.defineMIME("application/x-json",{name:"javascript",json:!0}),et.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),et.defineMIME("text/typescript",{name:"javascript",typescript:!0}),et.defineMIME("application/typescript",{name:"javascript",typescript:!0})}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../xml/xml"),require("../javascript/javascript"),require("../css/css")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../xml/xml","../javascript/javascript","../css/css"],e):e(CodeMirror)}(function(p){"use strict";var i={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var n={};function h(e,t){var r=e.match(function(e){var t=n[e];return t||(n[e]=new RegExp("\\s+"+e+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(t));return r?/^\s*(.*?)\s*$/.exec(r[2])[1]:""}function g(e,t){return new RegExp((t?"^":"")+"</s*"+e+"s*>","i")}function A(e,t){for(var r in e)for(var n=t[r]||(t[r]=[]),i=e[r],A=i.length-1;0<=A;A--)n.unshift(i[A])}p.defineMode("htmlmixed",function(c,e){var u=p.getMode(c,{name:"xml",htmlMode:!0,multilineTagIndentFactor:e.multilineTagIndentFactor,multilineTagIndentPastTag:e.multilineTagIndentPastTag}),d={},t=e&&e.tags,r=e&&e.scriptTypes;if(A(i,d),t&&A(t,d),r)for(var n=r.length-1;0<=n;n--)d.script.unshift(["type",r[n].matches,r[n].mode]);function f(e,t){var r,n=u.token(e,t.htmlState),i=/\btag\b/.test(n);if(i&&!/[<>\s\/]/.test(e.current())&&(r=t.htmlState.tagName&&t.htmlState.tagName.toLowerCase())&&d.hasOwnProperty(r))t.inTag=r+" ";else if(t.inTag&&i&&/>$/.test(e.current())){var A=/^([\S]+) (.*)/.exec(t.inTag);t.inTag=null;var o=">"==e.current()&&function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(!n[0]||n[1].test(h(t,n[0])))return n[2]}}(d[A[1]],A[2]),a=p.getMode(c,o),s=g(A[1],!0),l=g(A[1],!1);t.token=function(e,t){return e.match(s,!1)?(t.token=f,t.localState=t.localMode=null,null):function(e,t,r){var n=e.current(),i=n.search(t);return-1<i?e.backUp(n.length-i):n.match(/<\/?$/)&&(e.backUp(n.length),e.match(t,!1)||e.match(n)),r}(e,l,t.localMode.token(e,t.localState))},t.localMode=a,t.localState=p.startState(a,u.indent(t.htmlState,""))}else t.inTag&&(t.inTag+=e.current(),e.eol()&&(t.inTag+=" "));return n}return{startState:function(){return{token:f,inTag:null,localMode:null,localState:null,htmlState:p.startState(u)}},copyState:function(e){var t;return e.localState&&(t=p.copyState(e.localMode,e.localState)),{token:e.token,inTag:e.inTag,localMode:e.localMode,localState:t,htmlState:p.copyState(u,e.htmlState)}},token:function(e,t){return t.token(e,t)},indent:function(e,t,r){return!e.localMode||/^\s*<\//.test(t)?u.indent(e.htmlState,t):e.localMode.indent?e.localMode.indent(e.localState,t,r):p.Pass},innerMode:function(e){return{state:e.localState||e.htmlState,mode:e.localMode||u}}}},"xml","javascript","css"),p.defineMIME("text/html","htmlmixed")}),function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror"),require("../htmlmixed/htmlmixed"),require("../../addon/mode/multiplex")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../htmlmixed/htmlmixed","../../addon/mode/multiplex"],e):e(CodeMirror)}(function(n){"use strict";n.defineMode("htmlembedded",function(e,t){var r=t.closeComment||"--%>";return n.multiplexingMode(n.getMode(e,"htmlmixed"),{open:t.openComment||"<%--",close:r,delimStyle:"comment",mode:{token:function(e){return e.skipTo(r)||e.skipToEnd(),"comment"}}},{open:t.open||t.scriptStartRegex||"<%",close:t.close||t.scriptEndRegex||"%>",mode:n.getMode(e,t.scriptingModeSpec)})},"htmlmixed"),n.defineMIME("application/x-ejs",{name:"htmlembedded",scriptingModeSpec:"javascript"}),n.defineMIME("application/x-aspx",{name:"htmlembedded",scriptingModeSpec:"text/x-csharp"}),n.defineMIME("application/x-jsp",{name:"htmlembedded",scriptingModeSpec:"text/x-java"}),n.defineMIME("application/x-erb",{name:"htmlembedded",scriptingModeSpec:"ruby"})}),define("gallery/mx-codemirror/index",["magix","$"],function(e,t,r){t.__esModule=!0;var n=e("magix"),i=e("$");n.default.applyStyle("pe-o",'.CodeMirror{font-family:monospace;height:300px;color:#000;direction:ltr;height:500px;border:1px solid #e6e6e6;border-radius:4px}.CodeMirror-lines{padding:4px 0}.CodeMirror pre{padding:0 4px}.CodeMirror-gutter-filler,.CodeMirror-scrollbar-filler{background-color:#fff}.CodeMirror-gutters{border-right:1px solid #ddd;background-color:#f7f7f7;white-space:nowrap}.CodeMirror-linenumber{padding:0 3px 0 5px;min-width:20px;text-align:right;color:#999;white-space:nowrap}.CodeMirror-guttermarker{color:#000}.CodeMirror-guttermarker-subtle{color:#999}.CodeMirror-cursor{border-left:1px solid #000;border-right:none;width:0}.CodeMirror div.CodeMirror-secondarycursor{border-left:1px solid silver}.cm-fat-cursor .CodeMirror-cursor{width:auto;border:0!important;background:#7e7}.cm-fat-cursor div.CodeMirror-cursors{z-index:1}.cm-fat-cursor-mark{background-color:rgba(20,255,20,.5)}.cm-animate-fat-cursor,.cm-fat-cursor-mark{-webkit-animation:blink 1.06s steps(1) infinite;animation:blink 1.06s steps(1) infinite}.cm-animate-fat-cursor{width:auto;border:0;background-color:#7e7}@-webkit-keyframes blink{50%{background-color:transparent}}@keyframes blink{50%{background-color:transparent}}.cm-tab{display:inline-block;text-decoration:inherit}.CodeMirror-rulers{position:absolute;left:0;right:0;top:-50px;bottom:-20px;overflow:hidden}.CodeMirror-ruler{border-left:1px solid #ccc;top:0;bottom:0;position:absolute}.cm-s-default .cm-header{color:#00f}.cm-s-default .cm-quote{color:#090}.cm-negative{color:#d44}.cm-positive{color:#292}.cm-header,.cm-strong{font-weight:700}.cm-em{font-style:italic}.cm-link{text-decoration:underline}.cm-strikethrough{text-decoration:line-through}.cm-s-default .cm-keyword{color:#708}.cm-s-default .cm-atom{color:#219}.cm-s-default .cm-number{color:#164}.cm-s-default .cm-def{color:#00f}.cm-s-default .cm-variable-2{color:#05a}.cm-s-default .cm-type,.cm-s-default .cm-variable-3{color:#085}.cm-s-default .cm-comment{color:#a50}.cm-s-default .cm-string{color:#a11}.cm-s-default .cm-string-2{color:#f50}.cm-s-default .cm-meta,.cm-s-default .cm-qualifier{color:#555}.cm-s-default .cm-builtin{color:#30a}.cm-s-default .cm-bracket{color:#997}.cm-s-default .cm-tag{color:#170}.cm-s-default .cm-attribute{color:#00c}.cm-s-default .cm-hr{color:#999}.cm-s-default .cm-link{color:#00c}.cm-invalidchar,.cm-s-default .cm-error{color:red}.CodeMirror-composing{border-bottom:2px solid}div.CodeMirror span.CodeMirror-matchingbracket{color:#0b0}div.CodeMirror span.CodeMirror-nonmatchingbracket{color:#a22}.CodeMirror-matchingtag{background:rgba(255,150,0,.3)}.CodeMirror-activeline-background{background:#e8f2ff}.CodeMirror{position:relative;overflow:hidden;background:#fff}.CodeMirror-scroll{overflow:scroll!important;margin-bottom:-30px;margin-right:-30px;padding-bottom:30px;height:100%;outline:none;position:relative}.CodeMirror-sizer{position:relative;border-right:30px solid transparent}.CodeMirror-gutter-filler,.CodeMirror-hscrollbar,.CodeMirror-scrollbar-filler,.CodeMirror-vscrollbar{position:absolute;z-index:6;display:none}.CodeMirror-vscrollbar{right:0;top:0;overflow-x:hidden;overflow-y:scroll}.CodeMirror-hscrollbar{bottom:0;left:0;overflow-y:hidden;overflow-x:scroll}.CodeMirror-scrollbar-filler{right:0;bottom:0}.CodeMirror-gutter-filler{left:0;bottom:0}.CodeMirror-gutters{position:absolute;left:0;top:0;min-height:100%;z-index:3}.CodeMirror-gutter{white-space:normal;height:100%;display:inline-block;vertical-align:top;margin-bottom:-30px}.CodeMirror-gutter-wrapper{position:absolute;z-index:4;background:none!important;border:none!important}.CodeMirror-gutter-background{position:absolute;top:0;bottom:0;z-index:4}.CodeMirror-gutter-elt{position:absolute;cursor:default;z-index:4}.CodeMirror-gutter-wrapper ::selection{background-color:transparent}.CodeMirror-gutter-wrapper ::-moz-selection{background-color:transparent}.CodeMirror-lines{cursor:text;min-height:1px}.CodeMirror pre{border-radius:0;border-width:0;background:transparent;font-family:inherit;font-size:inherit;margin:0;white-space:pre;word-wrap:normal;line-height:inherit;color:inherit;z-index:2;position:relative;overflow:visible;-webkit-tap-highlight-color:transparent;-webkit-font-variant-ligatures:contextual;font-variant-ligatures:contextual}.CodeMirror-wrap pre{word-wrap:break-word;white-space:pre-wrap;word-break:normal}.CodeMirror-linebackground{position:absolute;left:0;right:0;top:0;bottom:0;z-index:0}.CodeMirror-linewidget{position:relative;z-index:2;padding:.1px}.CodeMirror-rtl pre{direction:rtl}.CodeMirror-code{outline:none}.CodeMirror-gutter,.CodeMirror-gutters,.CodeMirror-linenumber,.CodeMirror-scroll,.CodeMirror-sizer{box-sizing:content-box}.CodeMirror-measure{position:absolute;width:100%;height:0;overflow:hidden;visibility:hidden}.CodeMirror-cursor{position:absolute;pointer-events:none}.CodeMirror-measure pre{position:static}div.CodeMirror-cursors{visibility:hidden;position:relative;z-index:3}.CodeMirror-focused div.CodeMirror-cursors,div.CodeMirror-dragcursors{visibility:visible}.CodeMirror-selected{background:#d9d9d9}.CodeMirror-focused .CodeMirror-selected{background:#d7d4f0}.CodeMirror-crosshair{cursor:crosshair}.CodeMirror-line::selection,.CodeMirror-line>span::selection,.CodeMirror-line>span>span::selection{background:#d7d4f0}.CodeMirror-line::-moz-selection,.CodeMirror-line>span::-moz-selection,.CodeMirror-line>span>span::-moz-selection{background:#d7d4f0}.cm-searching{background-color:#ffa;background-color:rgba(255,255,0,.4)}.cm-force-border{padding-right:.1px}@media print{.CodeMirror div.CodeMirror-cursors{visibility:hidden}}.cm-tab-wrap-hack:after{content:""}span.CodeMirror-selectedtext{background:none}.CodeMirror:hover{border-color:#ccc}.CodeMirror-focus,.CodeMirror-focus:hover{border-color:#06f}'),t.default=n.default.View.extend({render:function(){var t=CodeMirror.fromTextArea(n.default.node(this.id),{lineNumbers:!0,mode:"application/x-ejs",lineWrapping:!0}),r=i.default("#"+this.id);t.on("blur",function(e){i.default(t.display.wrapper).removeClass("CodeMirror-focus"),r.trigger({type:"change",value:e.getValue()})}),t.on("focus",function(){i.default(t.display.wrapper).addClass("CodeMirror-focus")}),this.on("destroy",function(){t.toTextArea()})}})}),define("gallery/mx-dialog/alert",["magix","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i=e("../../i18n/index");r.exports=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.title,c=e.body,u=e.i18n;return s+='<div mxa="pe-y:_" class="pe-K"><h4>'+n(l)+'</h4></div><div mxa="pe-y:a" class="pe-L" style="word-break:break-all;">'+n(c)+'</div><div mxa="pe-y:b" class="pe-M pe-w"><button mxa="pe-y:c" mx-click="'+t+'\x1e__Q();" class="pe-z pe-A pe-q" type="button">'+n(u("_fK"))+"</button></div>"},init:function(e){this.__fF=e.dialog,this.__fG=e.body,this.__fH=e.title||i.default("__fI"),this.__fJ=e.enterCallback},render:function(){this.updater.digest({body:this.__fG,title:this.__fH})},"__Q<click>":function(){this.__fF.close(),this.__fJ&&n.toTry(this.__fJ)}})}),define("gallery/mx-dialog/confirm",["magix","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i=e("../../i18n/index");r.exports=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.title,c=e.body,u=e.i18n;return s+='<div mxa="pe-z:_" class="pe-K"><h4>'+n(l)+'</h4></div><div mxa="pe-z:a" class="pe-L" style="word-break:break-all;">'+n(c)+'</div><div mxa="pe-z:b" class="pe-M pe-w"><button mxa="pe-z:c" type="button" mx-click="'+t+'\x1e__R()" class="pe-z pe-q">'+n(u("_T"))+'</button><button mxa="pe-z:d" type="button" mx-click="'+t+'\x1e__Q()" class="pe-z pe-A pe-d pe-q">'+n(u("_fK"))+"</button></div>"},init:function(e){this.__fF=e.dialog,this.__fG=e.body,this.__fH=e.title||i.default("__fI"),this.__fJ=e.enterCallback,this.__fL=e.cancelCallback},render:function(){this.updater.digest({body:this.__fG,title:this.__fH})},"__Q<click>":function(){this.__fF.close(),this.__fJ&&n.toTry(this.__fJ)},"__R<click>":function(){this.__fF.close(),this.__fL&&n.toTry(this.__fL)}})}),define("gallery/mx-dialog/index",["magix","$","./alert","./confirm"],function(e,t,r){var s=e("magix");e("./alert"),e("./confirm"),s.applyStyle("pe-p",".pe-bW{position:absolute}.pe-bX{position:relative;background-color:#fff;border-radius:4px;border:1px solid #e6e6e6}.pe-bY{position:absolute;cursor:pointer;opacity:.2;z-index:1;top:7px;right:10px}.pe-bY:focus,.pe-bY:hover{opacity:.5}.pe-bZ{font-size:22px;font-weight:400}.pe-c_{position:fixed;top:0;right:0;left:0;bottom:0;background-color:#000;opacity:.2;display:none}.pe-ca{-webkit-filter:blur(3px);filter:blur(3px)}.pe-cb{-webkit-animation:pe-c .3s;animation:pe-c .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.pe-cc{position:absolute;right:10px;top:0;width:1px;height:0}.pe-cd{padding:80px 0}@-webkit-keyframes pe-c{0%{opacity:0}to{opacity:.2}}@keyframes pe-c{0%{opacity:0}to{opacity:.2}}.pe-ce{-webkit-animation:pe-d .2s;animation:pe-d .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pe-d{0%{opacity:.2}to{opacity:0}}@keyframes pe-d{0%{opacity:.2}to{opacity:0}}.pe-cf{margin-bottom:50px;min-height:60px}.pe-cg{position:fixed;width:100%;height:100%;overflow:auto;left:0;top:0}.pe-ch{-webkit-animation:pe-e .3s;animation:pe-e .3s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pe-e{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}@keyframes pe-e{0%{margin-top:-50px;opacity:0}to{margin-top:0;opacity:1}}.pe-ci{-webkit-animation:pe-f .2s;animation:pe-f .2s;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@-webkit-keyframes pe-f{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}@keyframes pe-f{0%{margin-top:0;opacity:1}to{margin-top:-50px;opacity:0}}");var a=e("$"),l=a(window),n=500,i=[];r.exports=s.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.zIndex,c=e.viewId,u=e.left,d=e.top,f=e.width,p=e.closable;return s+='<div class="pe-c_ pe-cb" style="display:block;z-index:'+n(l-1)+'" id="mask_'+n(c)+'"></div><div mxv class="pe-cg" style="z-index:'+n(l)+';"><div mxv class="pe-bW pe-ch" data-spm-protocol="i" id="body_'+n(c)+'" style="left:'+n(u)+"px;top:"+n(d)+"px;width:"+n(f)+'px;"><input id="focus_'+n(c)+'" class="pe-cc"/><span class="pe-_ pe-bZ pe-bY '+n(p?"":"pe-v")+'" mx-click="'+t+'\x1e__fN()">&#xe67f;</span><div class="pe-bX pe-cf" id="cnt_'+n(c)+'"><div mxs="pe-A:_" class="pe-I pe-cd"><span class="pe-J"></span></div></div></div></div>'},init:function(e){var t=this,r=a("#app");t.on("destroy",function(){!function(e){for(var t=i.length-1;0<=t;t--)if(i[t].id==e.id){i.splice(t,1);break}}(t),500==(n-=2)&&r.removeClass("pe-ca"),a("#"+t.id).trigger("close").remove()}),s.has(e,"closable")||(e.closable=!0),t.updater.set(e),500==n&&r.addClass("pe-ca"),n+=2,i.push(t)},render:function(){var e=this,t=e.updater,r=t.get();t.set({zIndex:n,viewId:e.id}).digest(),a("#"+e.id).show(),a("#focus_"+e.id).focus(),e.owner.mountVframe("cnt_"+e.id,r.view,r),setTimeout(e.wrapAsync(function(){a("#body_"+e.id).removeClass("pe-ch"),a("#mask_"+e.id).removeClass("pe-cb")}),300)},__fM:function(e){s.Vframe.get("cnt_"+this.id).invoke("fire",["unload",e])},"__fN<click>":function(){a("#"+this.id).trigger("dlg_close")},"$doc<keyup>":function(e){if(27==e.keyCode){var t=i[i.length-1];if(t==this&&t.updater.get("closable"))a("#"+t.id).trigger("dlg_close")}}},{__fO:function(r,e){var n=s.guid("dlg_");a(document.body).append('<div id="'+n+'" style="display:none" />');var i,A=r.owner.mountVframe(n,"gallery/mx-dialog/index",e),o=a("#"+n);return o.on("dlg_close",function(){if(!o.data("closing")&&!i){function e(){o.data("closing",1),a("#body_"+n).addClass("pe-ci"),a("#mask_"+n).addClass("pe-ce"),setTimeout(function(){r.owner&&r.owner.unmountVframe(n)},200)}var t={prevent:function(){i=1},resolve:function(){t.p=1,i=0,e()},reject:function(){t.p=1,i=0}};A.invoke("__fM",[t]),i||t.p||e()}})},alert:function(e,t,r){this.confirm(e,t,null,r,"alert")},confirm:function(e,t,r,n,i){this.mxDialog("gallery/mx-dialog/"+(i||"confirm"),{body:e,cancelCallback:r,enterCallback:t,title:n,modal:!0,width:370,closable:!1,left:(l.width()-370)/2,top:Math.max((l.height()-220)/2,0)})},mxDialog:function(r,n){var i,A,o=this,a={view:r};return s.use(r,o.wrapAsync(function(e){var t="$dlg_"+r;o[t]||(o[t]=1,s.mix(a,e.dialogOptions),s.mix(a,n),a.width||(a.width=500),a.left||(a.left=(l.width()-a.width)/2),a.top||(a.top=100),a.dialog={close:function(){i&&i.trigger("dlg_close")}},(i=o.__fO(o,a)).on("close",function(){delete o[t],A&&A()}))})),{close:function(){i&&i.trigger("dlg_close")},whenClose:function(e){A=e}}}})}),define("gallery/mx-dragdrop/index",["$"],function(e,t,r){function A(e){(e=window.getSelection)?e().removeAllRanges():(e=window.document.selection)&&(e.empty?e.empty():e=null)}function o(e){e.preventDefault()}var a=e("$"),s=a(window),l=a(document),n=window.getComputedStyle,c="mousemove touchmove",u="mouseup touchend",d="keydown mousewheel DOMMouseScroll";r.exports={ctor:function(){var e=this;e.on("destroy",function(){e.__fP()})},__fP:function(e){var t=this.__fQ;if(t){delete this.__fQ,l.off(c,this.__fR).off(u,this.__fS).off(d,o),s.off("blur",this.__fS);var r=t.__fT,n=t.__fU,i=t.__fV;a(r).off("losecapture",this.__fS),r.setCapture&&r.releaseCapture(),i&&n(e)}},dragdrop:function(e,t,r){var n=this;if(n.__fP(),e){A(),e.setCapture&&e.setCapture(),n.__fQ={__fU:r,__fT:e,__fV:a.isFunction(r)};var i=a.isFunction(t);n.__fW=0,n.__fS=function(e){n.__fW=1,n.__fP(e)},n.__fR=function(e){i&&t(e)},l.on(c,n.__fR).on(u,n.__fS).on(d,o),s.on("blur",n.__fS),a(e).on("losecapture",n.__fS)}},fromPoint:function(e,t){var r=null;if(document.elementFromPoint)for(!o.__fX&&n&&(o.__fX=!0,o.__fY=null!==document.elementFromPoint(-1,-1)),o.__fY&&(e+=s.scrollLeft(),t+=s.scrollTop()),r=document.elementFromPoint(e,t);r&&3==r.nodeType;)r=r.parentNode;return r},clear:A}}),define("gallery/mx-dragsort/index",["magix","../mx-dragdrop/index","../mx-runner/index","$"],function(e,t,r){var s=e("magix"),l=e("../mx-dragdrop/index"),n=e("../mx-runner/index"),c=e("$");s.applyStyle("pe-q",'.pe-cj{left:-1000px;top:0;background:#06f;pointer-events:none}.pe-cj,.pe-ck{position:absolute;z-index:4000}.pe-ck{width:26px;height:26px}.pe-cl{background:#06f}.pe-cm{background:#e94f4f}.pe-ck:after{font-size:20px;line-height:26px;color:#fff;position:absolute;left:0;right:0;top:0;bottom:0;text-align:center}.pe-cl:after{content:"\u2713"}.pe-cm:after{content:"\u2717"}');var u=s.guid("dbar_"),i=s.guid("pt_"),d=c(window),f=c(document),p={__fZ:function(){c("#"+u).length||c('<div class="pe-cj" id="'+u+'"/>').appendTo("body")},__g_:function(e){e.child&&(c(e.child).css({opacity:.4}),this.__fZ())},__aX:function(e){e&&e.child&&c(e.child).css({opacity:1}),this.__ga(),this.__gb()},__ga:function(){c("#"+u).css({left:-1e5})},__gc:function(e,t){var r=c("#"+u),n=!1;2&e.anchor&&(2&t?(r.css({height:2,width:e.bound.width,top:e.bound.y-1,left:e.bound.x}),n=!0):8&t&&(r.css({height:2,width:e.bound.width,top:e.bound.y+e.bound.height-1,left:e.bound.x}),n=!0)),!n&&1&e.anchor&&(1&t?r.css({height:e.bound.height,width:2,top:e.bound.y,left:e.bound.x-1}):4&t&&r.css({height:e.bound.height,width:2,top:e.bound.y,left:e.bound.x+e.bound.width-1}))},__ge:function(e){e.atPlace&&e.child!=e.hover?(3==e.anchor?e.__gd&&this.__gc(e,e.side):e.__ge&&this.__gc(e,e.position),this.__gf(!0)):(this.__ga(),this.__gf())},__gg:function(e){var t=c("#"+i);t.length||(t=c('<div class="pe-ck" id="'+i+'"/>')).appendTo("body");var r=Math.max(0,Math.min(e.pageX+10,f.width()-t.width())),n=Math.max(0,Math.min(e.pageY+18,f.height()-t.height()));t.css({left:r,top:n,display:"block"})},__gf:function(e){var t=c("#"+i);e?t.removeClass("pe-cm").addClass("pe-cl"):t.addClass("pe-cm").removeClass("pe-cl")},__gb:function(){c("#"+i).hide()}};r.exports=s.View.extend({mixins:[l],init:function(e){var t=this,r=c("#"+t.id);r.on("mousedown",e.selector,function(e){e.preventDefault(),t.__g_(e)}),t.on("destroy",function(){r.off("mousedown")});var n=[(t.__q=r).get(0)];e.drops&&(n=n.concat(e.drops.split(","))),t.__gh=n;var i=e.horizonal+""=="true",A=e.vertical+""=="true";i||A||(A=!0);var o=0;i&&(o|=1),A&&(o|=2),t.__gi=o;var a=!0;s.has(e,"sort")&&(a=e.sort+""=="true"),t.__gj=a},__gk:function(e){for(var t=0,r=this.__gh;t<r.length;t++){var n=r[t];if(s.inside(e,n))return s.node(n)}return null},__gm:function(e,t){var r=null;if(t||(t=this.__gk(e)),!this.__gj&&this.__gl)return{child:this.__gl,zone:t};for(;t!=e;){if(e.parentNode==t){r=e;break}e=e.parentNode}return!t||t.firstChild||r||(r=t),r&&"false"===r.getAttribute("ds-draggable")&&(r=null),{child:r,zone:t}},__go:function(e,t){var r=0,n=0,i=-1,A=-1,o=-1,a=-1,s=!1;if(t.pageX>=e.x&&t.pageX<=e.x+e.width&&t.pageY>=e.y&&t.pageY<=e.y+e.height&&(r|=t.pageX<=e.x+e.width/2?1:4,i=t.pageX-e.x,o=e.x+e.width-t.pageX,r|=t.pageY<=e.y+e.height/2?2:8,A=t.pageY-e.y,a=e.y+e.height-t.pageY,s=!0),s){var l=Math.min(i,A,o,a);-1<l&&(l==i?n=1:l==A?n=2:l==o?n=4:l==a&&(n=8))}var c=this.__gn;return c&&c.zone===c.hover&&(r=2,n=1),{position:r,atPlace:s,side:n}},__g_:function(e){if(1===e.which){var t=this,r=t.__gm(e.target);r.child&&(t.__gl=r.child,t.__gp=r.zone,t.__q.trigger({type:"dragbegin",dragNode:r.child,dragZone:r.zone}),p.__g_(r),t.dragdrop(r.zone,function(e){t.__gq(e)},function(e){t.__aX(e)}))}},__gt:function(e,t,r){var n=this.__go(e,t),i=n.side!=this.__gr,A=n.position!=this.__gs;(i||A)&&(this.__gr=n.side,this.__gs=n.position,r.__gd=i,r.__ge=A,r.side=n.side,r.position=n.position,r.atPlace=n.atPlace,r.anchor=this.__gi,p.__ge(r))},__gq:function(e){var t=l.fromPoint(e.clientX,e.clientY),r=this;if(p.__gg(e),r.__gu=e,r.__gv=!0,r.__gw(),r.__gx(),r.__gy||r.__gz||!t)return delete r.__gA,delete r.__gr,void delete r.__gs;if(r.__gA!=t){if(t.id===u)return;r.__gA=t,delete r.__gr;var n=r.__gk(t);if(n){n!=r.__gB&&(r.__gB=n,r.__q.trigger({type:"enterzone",zone:n,changePointer:p.__gf}));var i=r.__gm(t,n);if(!i.child)return;var A=c(i.child),o=A.offset(),a={x:o.left,y:o.top,width:A.outerWidth(),height:A.outerHeight()};o=(A=c(i.zone)).offset(),r.__gC={x:o.left,y:o.top,scrollX:A.prop("scrollLeft"),scrollY:A.prop("scrollTop"),maxWidth:A.prop("scrollWidth"),maxHeight:A.prop("scrollHeight"),width:A.width(),height:A.height()},r.__gt(r.__gD=a,e,r.__gn={child:r.__gl,bound:a,zone:i.zone,hover:i.child})}else r.__gB&&(r.__q.trigger({type:"leavezone",zone:r.__gB,changePointer:p.__gf}),delete r.__gB)}else r.__gD&&s.inside(t,r.__gn.zone)?r.__gt(r.__gD,e,r.__gn):(delete r.__gr,delete r.__gs,r.__gj&&(p.__ga(),p.__gf()))},__aX:function(){var e=this;e.__gE(),e.__gF(),p.__aX({child:e.__gl});var t=e.__gs,r=e.__gr,n=e.__gv,i=e.__gn,A=e.__gl;if(n&&(t||r)){var o=i.zone,a=e.__gi,s=3===a?r:t;if(1&a&&1&s||2&s&&2&a)i.hover==o?o.appendChild(A):o.insertBefore(A,i.hover);else if(8&s&&2&a||4&s&&1&a){for(var l=i.hover.nextSibling;l&&1!=l.nodeType;)l=l.nextSibling;o.insertBefore(A,l),l||(o.scrollTop=o.scrollHeight)}}i&&e.__q.trigger({type:"dragfinish",moved:n,dragNode:A,dragZone:e.__gp,dropNode:i.hover,dropZone:i.zone,outZone:!e.__gB}),delete e.__gl,delete e.__gp,delete e.__gA,delete e.__gn,delete e.__gD,delete e.__gs,delete e.__gr,delete e.__gu,delete e.__gz,delete e.__gB,delete e.__gC,delete e.__gy,delete e.__gv},__gw:function(){var A=this;A.__gG||(A.__gG=function(){var e=A.__gC;if(e&&(e.maxWidth>e.width+5||e.maxHeight>e.height+5)){var t=A.__gn.zone,r=0,n=0,i=A.__gu;i.pageX>e.x&&i.pageY>e.y&&i.pageX<e.x+e.width&&i.pageY<e.y+e.height?(i.pageX-e.x<20&&0<e.scrollX?r=-Math.min(7,e.scrollX):e.x+e.width-i.pageX<20&&e.scrollX+e.width<e.maxWidth&&(r=Math.min(7,e.maxWidth-e.scrollX-e.width)),i.pageY-e.y<20&&0<e.scrollY?n=-Math.min(7,e.scrollY):e.y+e.height-i.pageY<20&&e.scrollY+e.height<e.maxHeight&&(n=Math.min(7,e.maxHeight-e.scrollY-e.height)),r||n?(A.__gy=!0,A.__gH=!0,t.scrollTop+=n,t.scrollLeft+=r,e.scrollX+=r,e.scrollY+=n,delete A.__gv,p.__ga(),p.__gf()):(delete A.__gy,delete A.__gH)):(delete A.__gy,delete A.__gH)}},n.__dC(30,A.__gG))},__gx:function(){var l=this;l.__gI||(l.__gI=function(){if(!l.__gH){var e=0,t=0,r=l.__gu,n=d.scrollTop(),i=d.height(),A=f.height(),o=f.width(),a=d.width(),s=d.scrollLeft();r.pageX-s<20&&0<s?e=-Math.min(7,s):s+a-r.pageX<20&&s+a<o&&(e=Math.min(7,o-a-s)),r.pageY-n<20&&0<n?t=-Math.min(7,n):n+i-r.pageY<20&&n+i<A&&(t=Math.min(7,A-i-n)),e||t?(l.__gz=!0,r.pageX+=e,r.pageY+=t,window.scrollBy(e,t),delete l.__gv,p.__ga(),p.__gg(r),p.__gf()):delete l.__gz}},n.__dC(30,l.__gI))},__gE:function(){this.__gG&&(n.__dF(this.__gG),delete this.__gG,delete this.__gH)},__gF:function(){this.__gI&&(n.__dF(this.__gI),delete this.__gI)}})}),define("gallery/mx-dropdown/index",["magix","$","../mx-monitor/index"],function(e,t,r){var p=e("magix"),h=e("$"),A=e("../mx-monitor/index");p.applyStyle("pe-r",'[mx-view*="/mx-dropdown/"]{outline:0;position:relative;width:140px;background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;display:inline-block;vertical-align:middle;height:25px}[mx-view*="/mx-dropdown/"]:hover{border-color:#ccc}.pe-cn{color:#333;position:relative;width:100%;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;padding:0 30px 0 4px}.pe-co{cursor:not-allowed;background-color:#fbfbfb}.pe-co:hover{border-color:#e6e6e6}.pe-co .pe-cn{cursor:not-allowed}.pe-cp{position:absolute;right:0;top:-1.5px;font-size:28px;color:#ccc;transition:top .3s,-webkit-transform .3s;transition:transform .3s,top .3s;transition:transform .3s,top .3s,-webkit-transform .3s}.pe-cq .pe-cp{-webkit-transform:rotate(180deg);transform:rotate(180deg);top:-3px}.pe-cq,.pe-cq:hover,[mx-view*="/mx-dropdown/"][tabindex="0"]:focus{border-color:#06f}.pe-cr{height:23px;line-height:23px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.pe-cs{color:#999}.pe-ct{position:absolute;top:100%;left:-1px;right:-1px;margin-top:5px;border-radius:4px;z-index:300;border:1px solid #e6e6e6;background-color:#fff;display:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.pe-cq .pe-ct{display:block}.pe-cu{overflow:auto;max-height:196px;padding:4px 0}.pe-cv{display:block;width:100%;padding:9px 9px 4px}.pe-cw{padding:0;width:100%}.pe-cx{color:#ccc;position:absolute;left:15px;top:16px}.pe-cy{padding-left:28px;height:28px;line-height:28px;width:100%}.pe-cz{padding:0 4px;margin:2px 0}.pe-cA{cursor:pointer;color:#666;display:block;width:100%;padding:0 4px;height:26px;line-height:26px;border-radius:4px}.pe-cA:hover{color:#333;background-color:#f0f0f0}.pe-cB,.pe-cB:active,.pe-cB:focus,.pe-cB:hover{color:#fff;background-color:#06f}'),r.exports=p.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.i18n,c=e.selectedText,u=e.selected,d=e.rList,f=e.searchbox,p=e.keyword,h=e.viewId,g=e.list,v=e.textKey,m=e.valueKey;if(s+='<div class="pe-cn" mx-click="'+t+'\x1e__gJ()" title="'+n(l(c))+'"><span class="pe-cr',""===u&&(s+=" pe-cs"),s+='">'+n(l(c))+'</span><span mxs="pe-B:_" class="pe-_ pe-cp">&#xe692;</span></div><div mxv mxa="pe-B:_" class="pe-ct">',d){s+=" ",f&&(s+='<div mxv mxa="pe-B:a" class="pe-cv"><label mxv mxa="pe-B:b" class="pe-cw"><span mxs="pe-B:a" class="pe-_ pe-cx">&#xe608;</span><input placeholder="'+n(l("_h_"))+'" mx-keyup="'+t+'\x1e__dj()" mx-paste="'+t+'\x1e__dj()" mx-change="'+t+'\x1e__gZ()" mx-focusin="'+t+'\x1e__gZ()" mx-focusout="'+t+'\x1e__gZ()" class="pe-B pe-cy" value="'+n(p)+'"/></label></div>'),s+='<ul class="pe-cu" id="list_'+n(h)+'">';var _=void 0,w=void 0;s+=" ";for(var B=0,y=g;B<y.length;B++){var x=y[B];s+=" ",w=v&&m?(s+=" ",_=l(x[v]),x[m]):(s+=" ",_=x),s+=" ",s+='<li title="'+n(_)+'" class="pe-cz">',s+='<span class="pe-cA pe-y',w+""==u+""&&(s+=" pe-cB"),s+='" mx-click="'+t+"\x1e__gY({item:'"+o(r,x)+"'})\">"+n(_)+"</span></li>"}s+="</ul>"}return s+="</div>"},init:function(e){var t=this;A.__ct();var r=h("#"+t.id);r.on("keydown",function(e){13==e.keyCode&&t["__gJ<click>"]()}),t.on("destroy",function(){r.off("keydown"),A.__cu(t),A.__cv()}),t.updater.set({viewId:t.id}),t.__q=r,t.__gK=!e.list,t.assign(e,{node:r})},assign:function(e,t){var r=t.node,n=t.inner,i=this;i.__gL=e.list;var A=i.__gM=e.selected,o=i.__gN=e.textKey||"",a=i.__gO=e.valueKey||"",s=i.__gP=e.emptyText||"";if(i.__gQ=e.searchbox+""=="true",i.__gR=e.disabled+""=="true",i.__gK){r=r?h(r).children():h(n);var l,c=[];r.each(function(e,t){t=h(t),l="true"==t.attr("group"),c.push({group:l,text:t.text(),value:l?p.guid():t.attr("value")})}),o=i.__gN="text",a=i.__gO="value",i.__gL=c}var u=i.__gL,d=p.toMap(u,a);if(s)if(o&&a){if(!d[""]){var f={};f[o]=s,f[a]="",u.unshift(f),d[""]=f}}else d[s]||(u.unshift(s),d[s]=s);return A||!s||o||a||(A=s),A&&d[A]||(A=d[A]||u[0],o&&a&&(A=A[a])),i.__gM=A,i.__gS=o&&a?d[A][o]:A,!0},__cw:function(e){return p.inside(e,this.id)},render:function(){this.__q[this.__gR?"addClass":"removeClass"]("pe-co").prop("tabindex",this.__gR?-1:0),this.__gT(!0)},__al:function(){this.__q.hasClass("pe-cq")&&(this.__q.removeClass("pe-cq").trigger("focusout"),A.__cu(this))},__ak:function(){if(!this.__q.hasClass("pe-cq")){this.updater.get("rList")||this.updater.digest({rList:!0}),this.__q.addClass("pe-cq").trigger("focusin");var e=h("#list_"+this.id),t=e.find(".pe-cB").position(),r=e.height(),n=e.prop("scrollTop");if(t.top<0||t.top>r){var i=t.top-r+n+r/2;e.prop("scrollTop",i)}A.__cz(this)}},__gT:function(e){var t=this.__gM;this.updater.digest({textKey:this.__gN,valueKey:this.__gO,selected:t,searchbox:this.__gQ,selectedText:this.__gS,list:this.__gL.slice()}),this.__q.val(t),e||this.__gU(t)},__gV:function(A,o){var a=this;clearTimeout(a.__di);var s=a.__gL,l=[],c=0,u=s.length,d=a.__gN,f=a.__gO;if(A){var p=function(){if(c<u){for(var e=Math.min(c+400,u),t=c,r=void 0,n=void 0,i=void 0;t<e;t++)i=n=r=s[t],d&&f&&(n=r[d],i=r[f]),(0<=(n+"").indexOf(A)||0<=(i+"").indexOf(A))&&l.push(r);c=e,a.__di=setTimeout(a.wrapAsync(p),20)}else o(l)};p()}else o(s)},__gU:function(e,t){var r=this.updater,n=this.__gO,i=this.__gN,A=this.__gM,o=e,a=e;if(i&&n&&(a=e[i],o=e[n]),!t||A!==o){r.set({selected:this.__gM=o});var s=h.Event("change",{item:e,keys:{text:i,value:n},value:n?e[n]:e,text:i?e[i]:e});s.isDefaultPrevented()?r.set({selected:A}):r.digest({selected:o,selectedText:a}),this.__q.val(n?e[n]:e).trigger(s)}},"__gJ<click>":function(){var e=this.__q;e.hasClass("pe-cq")?this.__al():e.hasClass("pe-co")||this.__ak()},"__dj<keyup,paste>":function(e){var t=this;e.stopPropagation(),clearTimeout(t.__gW);var r=h.trim(e.eventTarget.value);t.__gW=setTimeout(t.wrapAsync(function(){r!=t.__gX&&t.__gV(t.__gX=r,function(e){t.updater.digest({list:e})})}),300)},"__gY<click>":function(e){this.__gU(e.params.item,!0),this.__al()},"__gZ<change,focusin,focusout>":function(e){e.stopPropagation()}})}),define("gallery/mx-font/align",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");n.default.applyStyle("pe-m",".pe-bN{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.pe-bO{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.pe-bO:hover{background:#ccc}.pe-bP{width:16px;margin:2px}.pe-bQ,.pe-bQ:hover{background:#06f;color:#fff}.pe-bR,.pe-bR .pe-bO{cursor:not-allowed;opacity:.7}.pe-bR .pe-bO,.pe-bR .pe-bO:hover{background:#e9e9e9}.pe-bR .pe-bQ,.pe-bR .pe-bQ:hover{background:#6aa5ff}.pe-bS{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.pe-bT{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.pe-bU{-webkit-transform:rotate(270deg);transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.disabled,c=e.i18n,u=e.value;return s+='<ul class="pe-x pe-bN',l&&(s+=" pe-bR"),s+='"><li title="'+n(c("_hb"))+'" class="pe-p pe-bO pe-N',"left"==u[0]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({i:0,v:'left'})\">&#xe687;</li><li title=\""+n(c("_hc"))+'" class="pe-p pe-bO pe-N',"center"==u[0]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({i:0,v:'center'})\">&#xe68a;</li><li title=\""+n(c("_hd"))+'" class="pe-p pe-bO pe-N',"right"==u[0]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({i:0,v:'right'})\">&#xe686;</li><li title=\""+n(c("_he"))+'" class="pe-p pe-bO pe-N',"top"==u[1]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({i:1,v:'top'})\">&#xe614;</li><li title=\""+n(c("_hf"))+'" class="pe-p pe-bO pe-N',"middle"==u[1]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({i:1,v:'middle'})\">&#xe613;</li><li title=\""+n(c("_hg"))+'" class="pe-p pe-bO pe-N',"bottom"==u[1]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({i:1,v:'bottom'})\">&#xe612;</li></ul>"},init:function(e){this.assign(e)},assign:function(e){return this.__ha=e.value,this.updater.set({value:e.value,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bv<click>":function(e){if(!this.updater.get("disabled")){var t=this.__ha,r=e.params,n=r.i,i=r.v;t[n]=i,this.__ha=t,this.updater.digest({value:t}),$("#"+this.id).trigger({type:"input",value:t})}}})}),define("gallery/mx-font/lineheight",["magix","$","../mx-number/index","../mx-dropdown/index"],function(e,t,r){e("../mx-number/index"),e("../mx-dropdown/index"),t.__esModule=!0;var n=e("magix"),A=e("$");n.default.applyStyle("pe-s",".pe-cC{width:80px;border-radius:4px 0 0 4px;z-index:1}.pe-cD{width:61px;margin-left:-1px;border-radius:0 4px 4px 0}.pe-cD:focus{z-index:2}"),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s,l="",c=e.disabled,u=e.min,d=e.value;return l+='<div mxv="value" class="pe-cC pe-B pe-u" ',(s=c)&&(l+='readonly="'+n(s)+'" '),l+=' mx-input="'+t+"\x1e__an({from:'number'})\" mx-view=\"gallery/mx-number/index?",(s=c)&&(l+="disabled="+A(s)),(s=u)&&(l+="&min="+A(s)),l+="&value="+o(r,d[0])+'&empty=true"></div><div mxv="disabled,value" class="pe-cD" mx-change="'+t+"\x1e__an({from:'dropdown'})\" mx-view=\"gallery/mx-dropdown/index?",(s=c)&&(l+="disabled="+o(r,s)),l+="&selected="+o(r,d[1])+'"><i mxs="pe-D:_" value="mm" class="pe-v">mm</i><i mxs="pe-D:a" value="%" class="pe-v">%</i></div>'},init:function(e){this.assign(e)},assign:function(e){return this.__ha=e.value,this.updater.set({value:e.value,min:e.min,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__an<input,change>":function(e){e.stopPropagation();var t,r=e.params.from,n=e.value,i=this.__ha;t="number"==r?[n,i[1]]:[i[0],n],A.default("#"+this.id).trigger({type:"input",value:this.__ha=t})}})}),define("gallery/mx-font/style",["magix","$"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i=e("$");n.default.applyStyle("pe-m",".pe-bN{display:inline-block;height:25px;line-height:25px;vertical-align:bottom}.pe-bO{width:20px;margin:0 1px;text-align:center;height:20px;line-height:20px;cursor:pointer;background:#e0e0e0;border-radius:2px}.pe-bO:hover{background:#ccc}.pe-bP{width:16px;margin:2px}.pe-bQ,.pe-bQ:hover{background:#06f;color:#fff}.pe-bR,.pe-bR .pe-bO{cursor:not-allowed;opacity:.7}.pe-bR .pe-bO,.pe-bR .pe-bO:hover{background:#e9e9e9}.pe-bR .pe-bQ,.pe-bR .pe-bQ:hover{background:#6aa5ff}.pe-bS{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.pe-bT{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.pe-bU{-webkit-transform:rotate(270deg);transform:rotate(270deg)}"),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.disabled,c=e.i18n,u=e.value;return s+='<ul class="pe-x pe-bN',l&&(s+=" pe-bR"),s+='"><li title="'+n(c("_hh"))+'" class="pe-p pe-bO pe-N',u[0]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({key:'italic'})\">&#xe65f;</li><li title=\""+n(c("_hi"))+'" class="pe-p pe-bO pe-N',u[1]&&(s+=" pe-bQ"),s+='" mx-click="'+t+"\x1e__bv({key:'underline'})\">&#xe62e;</li></ul>"},init:function(e){this.assign(e)},assign:function(e){return this.__ha=e.value,this.updater.set({value:e.value,disabled:e.disabled}),!0},render:function(){this.updater.digest()},"__bv<click>":function(e){if(!this.updater.get("disabled")){var t=this.__ha;t="italic"==e.params.key?t[0]?["",t[1]]:["italic",t[1]]:t[1]?[t[0],""]:[t[0],"underline"],this.__ha=t,this.updater.digest({value:t}),i.default("#"+this.id).trigger({type:"input",value:t})}}})}),define("gallery/mx-menu/index",["magix","$","../mx-monitor/index"],function(e,t,r){var A=e("magix"),d=e("$"),f=e("../mx-monitor/index");A.Vframe;A.applyStyle("pe-t",".pe-cE{transition:margin-left .25s;z-index:90000}.pe-cF{background-color:#fff;border:1px solid #e6e6e6;border-radius:4px;cursor:default;padding:4px 0;box-shadow:0 2px 4px 0 rgba(0,0,0,.1)}.pe-cG{height:26px;line-height:26px;cursor:default;border-radius:4px;padding:0 12px;margin:0 4px}.pe-cH{color:#fff;background-color:#06f}.pe-cI{height:1px;background:#eee;margin:4px 0}.pe-cJ{color:#ccc;cursor:not-allowed}"),r.exports=A.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.width,c=e.list,u=e.disabled,d=e.textKey;s+='<div style="width:'+n(l)+'px;position:absolute;left:-10000px;top:-10000px" class="pe-cE" mx-contextmenu="'+t+'\x1e__cf()"><ul mxa="pe-F:_" class="pe-cF pe-x">';for(var f=0,p=c.length;f<p;f++){var h=c[f];s+=" ",h.spliter?s+='<li mxs="pe-F:_" class="pe-cI"></li>':(s+='<li class="pe-y pe-cG ',u[h.id]&&(s+=" pe-cJ"),s+='" ',u[h.id]||(s+=' mx-mouseover="'+t+'\x1e__hr()" mx-mouseout="'+t+'\x1e__hr();" mx-click="'+t+"\x1e__gY({item:'"+o(r,h)+"'})\" "),s+=' title="'+n(h[d])+'">'+n(h[d])+"</li>"),s+=" "}return s+="</ul></div>"},init:function(e){var t=this;t.assign(e),f.__ct(),t.on("destroy",function(){f.__cu(t),f.__cv(),t.__cd&&!e.cnt&&d("#"+t.id).remove()})},assign:function(e){var t=e.width||340,r=e.valueKey||"id",n=e.textKey||"text";return this.__gL=e.list,this.__hj=d(e.offset),this.__hk=d(e.scroller),this.__hl=t,this.__hm=r,this.__hn=n,this.__ho=e.disabled||{},this.__hp=e.picked,!0},render:function(){this.updater.digest({disabled:this.__ho,list:this.__gL,width:this.__hl,valueKey:this.__hm,textKey:this.__hn})},__cw:function(e){return A.inside(e,this.id)},__ak:function(e){if(!this.__hq){this.__hq=1;var t=d("#"+this.id+" div"),r=this.__hj,n=r.offset(),i=n.left,A=n.top,o=r.width()+this.__hk.prop("scrollLeft"),a=r.height(),s=-1,l=-1,c=t.outerWidth(),u=t.outerHeight();o<(s=e.pageX-i)+c&&(s-=c)<0&&(s=0),a<(l=e.pageY-A)+u&&(l-=u)<0&&(l=0),t.css({left:s,top:l}),f.__cz(this)}},__al:function(){this.__hq&&(this.__hq=!1,d("#"+this.id+" div").css({left:-1e4}),f.__cu(this))},"__hr<mouseover,mouseout>":function(e){A.inside(e.relatedTarget,e.eventTarget)||d(e.eventTarget)["mouseout"==e.type?"removeClass":"addClass"]("pe-cH")},"__gY<click>":function(e){var t=d("#"+this.id),r={type:"pick",item:e.params.item};t.trigger(r),this.__al();var n=this.__hp;n&&n(r.item)},"__cf<contextmenu>":function(e){e.preventDefault()}},{show:function(e,t,r){var n="ctx_"+r.listKey,i=A.Vframe.get(n);i?(i.invoke("assign",[r]),i.invoke("render"),i.invoke("__ak",[t])):(d(r.cnt||"body").append('<div id="'+n+'" />'),(i=e.owner.mountVframe(n,"gallery/mx-menu/index",r)).invoke("__ak",[t]))}})}),define("gallery/mx-monitor/index",["$"],function(e,t,r){function n(e){for(var t=a.length;t--;){var r=a[t];if(r.__hs)a.splice(t,1);else{var n=r.__ht;"resize"!=e.type&&n.__cw(e.target)||n.__al()}}}function i(e){var t=a[e.id];t&&(t.__hs=!0),delete a[e.id]}var A=e("$"),o=0,a=[],s=A(document),l=A(window);r.exports={__cz:function(e){i(e);var t={__ht:e};a.push(t),a[e.id]=t},__cu:i,__ct:function(){o||(s.on("mousedown keyup",n),l.on("resize",n)),o++},__cv:function(){0<o&&(--o||(s.off("mousedown keyup",n),l.off("resize",n)))}}}),define("gallery/mx-number/_cfg",[],function(e,t,r){r.exports={"mx-number":{_class:" input pr"}}}),define("gallery/mx-number/index",["magix","$"],function(e,t,r){var A=e("magix"),n=e("$");A.applyStyle("pe-u",'.pe-cK{width:100%;border:none;height:100%;background-color:transparent;color:#333;display:block}.pe-cL,.pe-cM{width:20px;height:50%;position:absolute;right:1px;border:2px solid #fff;border-radius:4px;cursor:pointer}.pe-cL:hover,.pe-cM:hover{background-color:#f0f0f0}.pe-cM{top:1px}.pe-cL{bottom:1px}.pe-cN:after{width:0;height:0;position:absolute;top:0;right:0;bottom:0;left:0;border-left:4px solid transparent;border-right:4px solid transparent;content:"";display:block;margin:auto}.pe-cL:after{border-top:4px solid #ccc}.pe-cM:after{border-bottom:4px solid #ccc}[mx-view*="/mx-number/"][readonly=true]{background-color:#fbfbfb;cursor:not-allowed}[mx-view*="/mx-number/"][readonly=true]:hover{border-color:#e6e6e6}[mx-view*="/mx-number/"][readonly=true] .pe-cL,[mx-view*="/mx-number/"][readonly=true] .pe-cM{cursor:not-allowed;border-color:transparent}[mx-view*="/mx-number/"][readonly=true] .pe-cL:hover,[mx-view*="/mx-number/"][readonly=true] .pe-cM:hover{background-color:transparent}[mx-view*="/mx-number/"][readonly=true] .pe-cM:hover:after{border-bottom-color:#ccc}[mx-view*="/mx-number/"][readonly=true] .pe-cL:hover:after{border-top-color:#ccc}'),r.exports=A.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.value,c=e.disabled;return s+='<input class="pe-cK" mx-focusin="'+t+'\x1e__hI()" mx-focusout="'+t+'\x1e__hK()" value="'+n(l)+'" mx-change="'+t+'\x1e__hH()" mx-keydown="'+t+'\x1e__hP()" ',c&&(s+=" disabled"),s+=' autocomplete="off" mx-input="'+t+'\x1e__hQ()"/><span mxs="pe-G:_" class="pe-cM pe-cN pe-x" mx-click="'+t+'\x1e__hD({i:true})" mx-mousedown="'+t+'\x1e__hO({i:true})" mx-contextmenu="'+t+'\x1e__cf()"></span><span mxs="pe-G:a" class="pe-cL pe-cN pe-x" mx-click="'+t+'\x1e__hD()" mx-mousedown="'+t+'\x1e__hO()" mx-contextmenu="'+t+'\x1e__cf()"></span>'},init:function(e){var t=n("#"+this.id);this.__q=t,this.assign(e)},assign:function(e){var t=this,r=e.value;void 0===r&&(r=""),""!==r&&(r=+r);var n=t.__hu!==r,i=t.__hv;return t.__hu=r,t.__hw=+e.step||1,t.__hx=e.empty+""=="true",t.__hv=e.disabled+""=="true",t.__hy=A.has(e,"max")?+e.max:Number.MAX_VALUE,t.__hz=A.has(e,"min")?+e.min:-Number.MAX_VALUE,t.__hA=+e.ratio||10,t.__hB=e.fixed||0,n||i!=t.__hv},render:function(){this.updater.digest({value:this.__hu,disabled:this.__hv}),this.fix()},fix:function(){var e=this.__hu;""!==e&&(e=e.toFixed(this.__hB)),this.__hC=this.__q.find("input"),this.__hC.val(e)},val:function(e,t){var r=this;if(""!==e||!r.__hx){if((e=+e)||0===e){var n=r.__hy,i=r.__hz,A=r.__hw;n<e?e=n:e<i&&(e=i),e!==r.__hu&&(e=(e=A<1?Math.round(e/A)*A:e).toFixed(r.__hB),t||r.__hC.val(e),e=+e,r.__q.prop("value",r.__hu=e).trigger({type:"input",value:e}))}return r.__hu}r.__q.prop("value",r.__hu=e).trigger({type:"input",value:e})},__hD:function(e,t){var r=this.__hu;""===r&&(r=0);var n=this.__hw,i=r;t&&(n*=this.__hA),e?i+=n:i-=n,this.val(i)},__hE:function(){var e=this.__hC[0];e&&(e.focus(),e.selectionStart=e.selectionEnd=e.value.length)},__hG:function(){this.__q.addClass("pe-D"),A.has(this,"__hF")||(this.__hF=this.__hu)},"__hH<change>":function(e){e.stopPropagation();var t=e.eventTarget,r=t.value;if(""===r&&this.__hx)return t.value=this.__hu="",void this.__q.prop("value","");var n=Number(r);(n||0===n)&&this.val(n),n=(n=this.__hu)||0===n?n.toFixed(this.__hB):"",t.value=n},"__hI<focusin>":function(){this.__hG()},"__hK<focusout>":function(){this.__hJ||(this.__q.removeClass("pe-D"),this.__hF!=this.__hu&&(this.fix(),this.__q.trigger({type:"change",value:this.__hu})),delete this.__hF)},"__hD<click>":function(e){this.__hv||this.__hL||(this.__hD(e.params.i,e.shiftKey),this.__hE())},"__hO<mousedown>":function(e){var t=this;t.__hv||(t.__hJ=!0,t.__hG(),t.__hM=setTimeout(t.wrapAsync(function(){t.__hN=setInterval(t.wrapAsync(function(){t.__hL=!0,t.__hD(e.params.i),t.__hE()}),50)}),300))},"__hP<keydown>":function(e){if(38==e.keyCode||40==e.keyCode){e.preventDefault();if(!this.__hv){var t=e.eventTarget.value;if(""===t)this.__hu="";else{var r=Number(t);(r||0===r)&&r!=this.__hu&&(this.__hu=r)}this.__hD(38==e.keyCode,e.shiftKey)}}},"__cf<contextmenu>":function(e){e.preventDefault()},"__hQ<input>":function(e){e.stopPropagation();var t=e.eventTarget;this.val(t.value,!0)},"$doc<mouseup>":function(){var e=this;clearTimeout(e.__hM),clearInterval(e.__hN),delete e.__hJ,setTimeout(e.wrapAsync(function(){delete e.__hL}),0)}})}),define("gallery/mx-picture/index",["magix","$"],function(e,t,r){var n=e("magix"),i=e("$");n.applyStyle("pe-v",".pe-cO{min-height:500px}.pe-cP{width:100px;height:100px;margin:5px;overflow:hidden;border:1px solid #ccc;cursor:pointer}.pe-cP:hover{border-color:#999}.pe-cQ{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.pe-cR{position:relative}.pe-cR:hover .pe-cS{opacity:1}.pe-cS{opacity:0;transition:opacity .25s;position:absolute;right:0;top:0;color:#ff0303;background:#fff;font-size:18px;cursor:pointer}.pe-cT{color:#797575;width:100px;margin:0 5px;height:25px}.pe-cU{width:140px;height:80px;float:left;background-position:50%;background-repeat:no-repeat;background-size:contain;border:1px solid #ccc}.pe-cV{height:34px;border:2px dashed #ccc;outline:none;transition:all .3s;line-height:34px;margin-top:1px;text-align:center;font-size:14px;cursor:default;margin-left:40px;width:460px;border-radius:4px}.pe-cW,.pe-cV:focus{border-color:#06f}.pe-cX{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer;opacity:0;font-size:100px}.pe-cY{position:relative;overflow:hidden;cursor:pointer;height:35px;line-height:25px;margin-right:13px;width:110px}.pe-cZ{width:250px;height:35px;font-size:14px}.pe-d_{font-size:16px}"),r.exports=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.disabled,c=e.i18n,u=e.pic;return s+="<div><button ",l&&(s+="disabled"),s+=' type="button" class="pe-z pe-O" mx-click="'+t+'\x1e__hR()">'+n(c("_hS"))+'</button><div mxa="pe-H:_" class="pe-w pe-a"><div class="pe-cU pe-u" ',u&&(s+=" style=\"background-image:url('"+n(u)+"')\" "),s+="></div></div></div>"},init:function(e){this.assign(e),this.__q=i("#"+this.id)},assign:function(e){return this.updater.set({lang:e.lang,pic:e.pic,disabled:e.disabled+""=="true"}),!0},render:function(){this.updater.digest()},"__hR<click>":function(){var t=this;t.mxDialog("gallery/mx-picture/list",{width:945,done:function(e){t.updater.digest({pic:e.src}),t.__q.trigger({type:"change",pic:e})}})}})}),define("gallery/mx-picture/list",["magix","$","../../i18n/index","../../service/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),o=e("$"),a=e("../../i18n/index"),i=e("../../service/index");n.applyStyle("pe-v",".pe-cO{min-height:500px}.pe-cP{width:100px;height:100px;margin:5px;overflow:hidden;border:1px solid #ccc;cursor:pointer}.pe-cP:hover{border-color:#999}.pe-cQ{width:100%;height:100%;background-position:50%;background-repeat:no-repeat;background-size:contain}.pe-cR{position:relative}.pe-cR:hover .pe-cS{opacity:1}.pe-cS{opacity:0;transition:opacity .25s;position:absolute;right:0;top:0;color:#ff0303;background:#fff;font-size:18px;cursor:pointer}.pe-cT{color:#797575;width:100px;margin:0 5px;height:25px}.pe-cU{width:140px;height:80px;float:left;background-position:50%;background-repeat:no-repeat;background-size:contain;border:1px solid #ccc}.pe-cV{height:34px;border:2px dashed #ccc;outline:none;transition:all .3s;line-height:34px;margin-top:1px;text-align:center;font-size:14px;cursor:default;margin-left:40px;width:460px;border-radius:4px}.pe-cW,.pe-cV:focus{border-color:#06f}.pe-cX{position:absolute;left:0;top:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer;opacity:0;font-size:100px}.pe-cY{position:relative;overflow:hidden;cursor:pointer;height:35px;line-height:25px;margin-right:13px;width:110px}.pe-cZ{width:250px;height:35px;font-size:14px}.pe-d_{font-size:16px}"),r.exports=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.i18n,c=e.keyword,u=e.list,d=e.error;s+='<div mxa="pe-I:_" class="pe-K"><b mxa="pe-I:a" class="pe-d">'+n(l("_ih"))+'</b></div><div mxv mxa="pe-I:b" class="pe-L"><div mxv mxa="pe-I:c" class="pe-w pe-k pe-j"><input class="pe-B pe-cZ pe-p" placeholder="'+n(l("_ii"))+'" mx-input="'+t+'\x1e__dj()" value="'+n(c)+'"/><div mxa="pe-I:d" class="pe-cV pe-p" mx-paste="'+t+'\x1e__ia()" mx-drop="'+t+'\x1e__ic()" tabindex="0" mx-dragenter="'+t+'\x1e__ig()" mx-dragleave="'+t+'\x1e__if()">'+n(l("_ij"))+'<i mxs="pe-I:_" class="pe-r pe-h pe-d">/</i>'+n(l("_ik"))+'</div><div mxv mxa="pe-I:e" class="pe-r pe-z pe-cY pe-A pe-q">'+n(l("_il"))+'<input mxs="pe-I:a" class="pe-cX" accept="image/*" type="file" mx-change="'+t+'\x1e__id()" multiple="multiple"/></div></div><div mxa="pe-I:f" class="pe-w pe-cO pe-a">';var f=0;s+=" ";for(var p=0,h=u.length;p<h;p++){var g=u[p];s+=" ",(!c||-1<g.title.indexOf(c))&&(s+=" ",f=1,s+='<div class="pe-p pe-cR" title="'+n(g.title)+'"><div class="pe-cP" mx-click="'+t+"\x1e__hV({src:'"+n(a(g.src))+'\'})"><div class="pe-cQ" style="background-image:url(\''+n(g.src)+'\')"></div></div><div mxa="pe-I:g" class="pe-o pe-cT pe-y">'+n(g.title)+'</div><div mx-click="'+t+"\x1e__bb({id:'"+n(a(g.id))+'\'})" class="pe-cS pe-_" title="'+n(l("__ac"))+'">&#xe67f;</div></div>'),s+=" "}return s+=" ",!f&&c&&(s+='<div mxa="pe-I:h" class="pe-o pe-b pe-d_">'+n(l("_im",c))+"</div>"),s+=" ",d&&(s+='<div mxa="pe-I:i" class="pe-o pe-b pe-d_">'+n(d.msg)+"</div>"),s+="</div></div>"},mixins:[i.default],init:function(e){this.__hT=e.done,this.__fF=e.dialog},render:function(){var r=this;r.fetch({name:"__hU",params:{biz_id:n.config("bizId")}},function(e,t){r.updater.digest({keyword:"",list:t.get("data",[]),error:e})})},"__R<click>":function(){this.__fF.close()},"__Q<click>":function(){var r=this,n=o("#"+this.id+" input").val().trim(),i=new Image,A=this.__hT;i.onerror=function(){r.alert(a.default("__bm"))},i.onload=function(){var e=i.width,t=i.height;r.__fF.close(),A({src:n,width:e,height:t})},i.src=n},"__hV<click>":function(e){var r=this,n=new Image,i=r.__hT,A=e.params.src;n.onerror=function(){r.alert(a.default("__bm"))},n.onload=function(){var e=n.width,t=n.height;r.__fF.close(),i({src:A,width:e,height:t})},n.src=A},"__bb<click>":function(e){var t=this,r=e.params.id;this.confirm(a.default("__hW"),function(){t.save({name:"__hX",params:{id:r,biz_id:n.config("bizId")}},function(e){e?t.alert(e.msg):t.render()})})},"__dj<input>":function(e){clearTimeout(this.__di);var t=this.updater;t.set({keyword:e.eventTarget.value}),this.__di=setTimeout(this.wrapAsync(function(){t.digest()}),300)},__hZ:function(e){var t=this;this.request().all({name:"__hY",files:e,params:{biz_id:n.config("bizId"),temp_id:n.config("tempId")}},function(e){e?t.alert(e.msg):t.render()})},"__ia<paste>":function(e){e.preventDefault();var t=e.originalEvent.clipboardData,r=[];if(t&&t.items)for(var n=0,i=t.items;n<i.length;n++){var A=i[n];0===A.type.indexOf("image/")&&r.push(A.getAsFile())}r.length?this.__hZ(r):this.alert(a.default("__i_"))},"__ic<drop>":function(e){this.__ib(e.eventTarget);var t=e.originalEvent.dataTransfer.files;this.__hZ(t)},"__id<change>":function(e){var t=e.eventTarget,r=t.files;this.__hZ(r),t.outerHTML=t.outerHTML},__ib:function(e){this.__ie||o(e).removeClass("pe-cW")},"__if<dragleave>":function(e){this.__ib(e.eventTarget)},"__ig<dragenter>":function(e){var t=document.activeElement==e.eventTarget;t||(o(e.eventTarget).addClass("pe-cW"),this.__ie=t)}})}),define("gallery/mx-runner/fx",["magix","./index"],function(e,t,r){function i(e){return e}var n=e("magix"),A=e("./index"),o=Date.now||function(){return(new Date).getTime()},a=n.Base.extend({ctor:function(e,r){var n=this;n.__in&&!r||(r=r||i,n.__in=function(e,t){return e+(t-e)*r(n.__io/n.__ip)}),n.__iq=[],n.__ir=e},__iw:function(e,t){this.__hs||(this.__iq.push({__is:e,__it:t}),this.__iu||this.__iv())},__iv:function(){var e=this,t=e.__iq.shift();t?(e.__ip=t.__is,e.__ix=t.__it,e.__iy=o(),e.__iu||A.__dC(e.__ir,e.__iu=function(t){e.__io=Date.now()-e.__iy,e.__io>e.__ip&&(e.__io=e.__ip,t=1);try{e.__ix(e.__in)}catch(e){t=e}t&&e.__iv()})):e.__gZ()},__gZ:function(){this.__iu&&(A.__dF(this.__iu),delete this.__iu,this.fire("stop"))},destroy:function(){this.__gZ(),this.__iq=[],this.__hs=1}});r.exports={__iA:function(){var e=new a;return this.capture(n.guid("__iz"),e),e}}}),define("gallery/mx-runner/index",["magix"],function(e,t,r){var o=e("magix"),a=window.requestAnimationFrame||function(e){return setTimeout(e,16)},s=window.cancelAnimationFrame||clearTimeout,l=Date.now||function(){return(new Date).getTime()};r.exports={__iq:[],__dC:function(e,t){this.__iq.push({i:e||15,f:t,n:l()}),this.__iv()},__dF:function(e){for(var t=this.__iq,r=void 0,n=0;n<t.length;n++)if(!(r=t[n]).r&&r.f==e){r.r=1;break}},__iv:function(){var i=this;if(!i.__iB){var A=function(){for(var e=i.__iq,t=0,r=void 0,n=void 0;t<e.length;t++)(r=e[t]).r?e.splice(t--,1):(n=l())-r.n>=r.i&&(r.n=n,o.toTry(r.f));e.length?i.__iB=a(A):(s(i.__iB),delete i.__iB)};i.__iB=a(A)}}}}),define("cainiao/const",[],function(e,t,r){"use strict";t.__esModule=!0,t.default={ELEMENT_CTRL_SPACE:3,RESIZER_SIZE:3,EDITOR_NAME_SPACE:"http://cloudprint.cainiao.com/schema/editor",XSI_NAME_SPACE:"http://www.w3.org/2001/XMLSchema-instance",SCHEMA_LOCATION_NAME_SPACE:"http://cloudprint.cainiao.com/print http://cloudprint-docs-resource.oss-cn-shanghai.aliyuncs.com/lpml_schema.xsd",CLOUD_PRINT_NAME_SPACE:"http://cloudprint.cainiao.com/print",PAGE_WIDTH_MAX:1200,PAGE_WIDTH_MIN:1,PAGE_HEIGHT_MAX:1200,PAGE_HEIGHT_MIN:1,PAGE_WIDTH_DEFAULT:793.7,PAGE_HEIGHT_DEFAULT:1122.51,SCALE_DEFAULT:1,SCALE_MAX:5,SCALE_MIN:.5,SCALE_STEP:.25,LINE_TYPES:[{text:"___",value:"solid"},{text:"__a",value:"dashed"},{text:"__b",value:"dotted"}],FONT_FAMILIES:[{value:"SimSun",text:"__c"},{value:"SimHei",text:"__d"},{value:"Arial",text:"Arial"},{value:"Times New Roman",text:"Times New Roman"},{value:"Tahoma",text:"Tahoma"},{value:"webdings",text:"webdings"},{value:"Arial Black",text:"Arial Black"},{value:"Arial Narrow",text:"Arial Narrow"},{value:"Arial Unicode MS",text:"Arial Unicode MS"}],FONT_WEIGHTS:["normal","bold","light"],DIRECTIONS:["ltr","rtl"],QRCODES:[{text:"qrcode",value:"qrcode"},{text:"pdf417",value:"pdf417"},{text:"Maxicode",value:"maxicode"},{text:"Data Matrix",value:"datamatrix"}],QRCODES_MAXICODE_SCHEMA:[2,3,4,5,6],BARCODES:[{value:"code128",text:"code128"},{value:"code93",text:"code93"},{value:"code39",text:"code39"},{value:"upca",text:"UPC-A"},{value:"upce",text:"UPC-E"},{value:"ean8",text:"EAN8"},{value:"ean13",text:"EAN13"},{value:"itf14",text:"ITF14"},{value:"c25inter",text:"Interleaved 2 of 5"}],TABLE_ROWS_HEIGHT:30,TABLE_CELLS_WIDTH:200,HISTORY_MAX:100,AUTO_SAVE:-1,DROP_STAGE_LOADING:"//img.alicdn.com/tfs/TB1dIR5XpzqK1RjSZFzXXXjrpXa-400-240.gif",PAGES:[{text:"A1",width:594,height:841},{text:"A2",width:420,height:594},{text:"A3",width:297,height:420},{text:"A4",width:210,height:297},{text:"A5",width:148,height:210},{text:"A6",width:105,height:148},{text:"A7",width:74,height:105},{text:"B1",width:707,height:1e3},{text:"B2",width:500,height:707},{text:"B3",width:353,height:500},{text:"B4",width:250,height:353},{text:"B5",width:176,height:250},{text:"B6",width:125,height:176},{text:"B7",width:88,height:125},{text:"C1",width:648,height:917},{text:"C2",width:458,height:648},{text:"C3",width:324,height:458},{text:"C4",width:229,height:324},{text:"C5",width:162,height:229},{text:"C6",width:114,height:162},{text:"C7",width:81,height:114}]}}),define("cainiao/serializer",["./toxml","./tojson"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("./toxml"),i=e("./tojson");t.default={encode:n.default,decode:i.default}}),define("cainiao/tojson",["magix","../util/converter","./const","../element/index","../util/table","$"],function(e,t,r){"use strict";t.__esModule=!0;function n(e){return"true"===e}function o(e){return e=Number(e),isNaN(e)?0:e}function i(e){return o(e)%360}function A(e){var t={type:s,convert:I};return e?t.alias=e:(t.min=0,t.max=2800),t}function x(e,t,r,n,i){if(k(t,r)){var A=t[r];A.parse&&(n=A.parse(n)),A.type==s?(n=o(n),k(A,"max")&&n>A.max&&(n=A.max),k(A,"min")&&n<A.min&&(n=A.min),A.convert&&(n=A.convert(n))):A.type==u&&(k(A.enums,n)||(n=A.back)),A.alias&&(i[A.alias]=n),i[r]=n}}function Q(e,t,r){var n=e.props;n._layouts=[],n._children=[];for(var i=0,A=[{node:r,key:"_layouts"},{node:t,key:"_children"}];i<A.length;i++)for(var o=A[i],a=!1,s=0,l=o.node.__b;s<l.length;s++){var c=l[s],u=c.__c;"#script"==u?n[o.key].push({tag:"#script",text:c.__d}):a||(a=!0,n[o.key].push({tag:u}))}}function b(e){var n={};return e.replace(d,function(e,t,r){n[t]=r}),n}function E(e,t,r){for(var n=0,i=e.__i;n<i.length;n++){var A=i[n];x(0,t,A.__g,A.__h,r)}var o=e.__j,a=o.style;if(a){var s=b(a);for(var l in s)x(0,t,l,s[l],r)}var c=o["editor:tip"];c&&(r.tip=c)}var U=e("magix"),c=e("../util/converter"),C=e("./const"),F=e("../element/index"),S=e("../util/table"),H=e("$"),T=U.default.State,k=U.default.has,N=U.default.toMap,w=/^<([a-z\d]+)((?:\s+[-A-Za-z\d_:]+(?:="[^"]*")?)*)\s*(\/?)>/,B=/([-A-Za-z\d_:]+)(?:="([^"]*)")?/g,y=/^<\/([a-z\d]+)>/,I=c.default.__e,M=/^\s*<%[\s\S]*%>\s*$/,a=1,s=2,l=4,u=8,L={page:{splitable:{type:l,parse:n},xmlns:{type:a},"xmlns:xsi":{type:a},"xsi:schemaLocation":{type:a},"xmlns:editor":{type:a,back:C.default.EDITOR_NAME_SPACE},width:{type:s,max:C.default.PAGE_WIDTH_MAX,min:C.default.PAGE_WIDTH_MIN,convert:I},height:{type:s,max:C.default.PAGE_HEIGHT_MAX,min:C.default.PAGE_HEIGHT_MIN,convert:I}},line:{style:{type:a},zIndex:{type:s},startX:A("x"),endX:A("y"),startY:A(),endY:A(),lineWidth:{type:s,min:1},lineColor:{type:a},lineType:{type:u,alias:"type",enums:N(C.default.LINE_TYPES,"value"),back:C.default.LINE_TYPES[0].value}},rect:{style:{type:a},zIndex:{type:s},left:A("x"),top:A("y"),width:A(),height:A(),borderWidth:{type:s,min:0},borderStyle:{alias:"borderType",type:u,enums:N(C.default.LINE_TYPES,"value"),back:C.default.LINE_TYPES[0].value},fillColor:{type:a}},text:{style:{type:a},zIndex:{type:s},left:A("x"),top:A("y"),width:A(),height:A(),orientation:{type:a},rotation:{alias:"rotate",type:s,parse:i},alpha:{type:s,min:0,max:1},fontFamily:{type:u,enums:N(C.default.FONT_FAMILIES,"value"),back:C.default.FONT_FAMILIES[1].value},fontSize:{type:s,min:0},lineHeight:{type:a},letterSpacing:{type:s,min:0},align:{type:u,enums:N(["left","center","right"]),back:"left"},valign:{type:u,enums:N(["top","middle","bottom"]),back:"top"},fontWeight:{type:u,enums:N(C.default.FONT_WEIGHTS),back:C.default.FONT_WEIGHTS[0]},fontColor:{type:a},backgroundColor:{type:a},direction:{type:u,enums:N(C.default.DIRECTIONS),back:C.default.DIRECTIONS[0]},fontItalic:{type:l,parse:n},fontUnderline:{type:l,parse:n}},image:{style:{type:a},zIndex:{type:s},left:A("x"),top:A("y"),width:A(),height:A(),allowFailure:{type:l,parse:n},src:{type:a},rotation:{alias:"rotate",type:s,parse:i},alpha:{type:s,min:0,max:1}},barcode:{style:{type:a},zIndex:{type:s},left:A("x"),top:A("y"),width:A(),height:A(),type:{type:a},ratioMode:{type:a},schema:{type:u,enums:N(C.default.QRCODES_MAXICODE_SCHEMA),back:C.default.QRCODES_MAXICODE_SCHEMA[0]},primary:{type:a},opacity:{alias:"alpha",type:s,min:0,max:1},rotation:{type:s},hideText:{alias:"showText",type:l,parse:function(e){return!n(e)}}},table:{style:{type:a},zIndex:{type:s},left:A("x"),top:A("y"),width:A(),height:A(),borderWidth:{type:s,min:0},cellBorderWidth:{type:s,min:0},colspan:{type:s,min:1},rowspan:{type:s,min:1}}},d=/([^;:]+):([^;]+)(?=;|$)/g,D={page:function(e,t){if(1===t.___){var r=L.page,n=T.get("__f"),i={xmlns:C.default.CLOUD_PRINT_NAME_SPACE,"xmlns:xsi":C.default.XSI_NAME_SPACE,"xsi:schemaLocation":C.default.SCHEMA_LOCATION_NAME_SPACE,"xmlns:editor":C.default.EDITOR_NAME_SPACE,width:C.default.PAGE_WIDTH_DEFAULT*n,height:C.default.PAGE_HEIGHT_DEFAULT*n,splitable:!1};E(t,r,i),e.page=i}},line:function(e,t){if(t.__e&&1<t.___){var r=L.line,n="90"==t.__j["editor:_deg_"],i=n?"vline":"hline",A=F.default.byType(i),o=A.getProps(0,0),a=T.get("__f");if(o.width*=a,o.height*=a,E(t,r,o),o.zIndex||(o.zIndex=e.elements.length+1),k(o,"startX")&&k(o,"startY")&&k(o,"endX")&&k(o,"endY")){var s=Math.abs(n?o.endY-o.startY:o.endX-o.startX);o.x=o.startX,o.y=o.startY,o[n?"height":"width"]=s}o[n?"width":"height"]=c.default.__g(o.lineWidth||1);var l={id:U.default.guid("e_"),type:i,ctor:A,props:o};e.elements.push(l)}},rect:function(e,t,r){var n=r[t.__e];if(n&&"layout"==n.__c){var i=F.default.byType("rect"),A=i.getProps(0,0),o=T.get("__f");A.width*=o,A.height*=o;var a=L.rect;E(n,a,A),E(t,a,A),A.fillColor&&(A.fill=!0);var s={id:U.default.guid("e_"),type:"rect",ctor:i,props:A};Q(s,t,n),e.elements.push(s)}},text:function(e,t,r){var n=r[t.__e];if(n&&"layout"==n.__c||n&&"td"==n.__c){var i=t.__j,A=i.style,o=!1,a=L.text,s=void 0;A&&(o="vertical"==(s=b(A)).orientation);var l=o?"vtext":"htext",c=F.default.byType(l),u=c.getProps(0,0),d=T.get("__f");u.width*=d,u.height*=d;var f=i["editor:tip"];if(f&&(u.tip=f),"layout"==n.__c){E(n,a,u);var p=r[n.__e];p&&"td"==p.__c&&(u.supportCNStyle=!0)}else c.writeAdapter(!0,u),u.useCNStyle=!0,u.supportCNStyle=!0;if(s)for(var h in s)x(0,a,h,s[h],u);if(!H.default.isArray(u.lineHeight)){var g=u.lineHeight.match(/(\d+)(mm|%|$)/);if(g){var v=Number(g[1]);v<0&&(v=0),u.lineHeight=[v,g[2]||"mm"]}else u.lineHeight=["","mm"]}H.default.isArray(u.align)?u.valign&&H.default.isArray(u.align)&&(u.align[1]=u.valign):u.align=[u.align,u.valign||"top"],u.backgroundColor&&u.fontColor&&(u.color=1),i["editor:_printName_"]&&(u.alias=i["editor:_printName_"]),"true"==i["editor:component"]&&(u.allowEdit=0);var m=["",""];u.fontItalic&&(m[0]="italic"),u.fontUnderline&&(m[1]="underline"),u.fontStyle=m;for(var _=0,w=t.__b;_<w.length;_++){var B=w[_];if("#cdata"==B.__c){u.text=B.__d;break}}var y={id:U.default.guid("e_"),type:l,ctor:c,props:u};"layout"==n.__c&&Q(y,t,n),e.elements.push(y)}},image:function(e,t,r){var n=r[t.__e];if(n&&"layout"==n.__c){var i=F.default.byType("image"),A=i.getProps(0,0),o=T.get("__f");A.width*=o,A.height*=o;var a=L.image;E(n,a,A),E(t,a,A);var s={id:U.default.guid("e_"),type:"image",ctor:i,props:A};return Q(s,t,n),e.elements.push(s),s}return null},barcode:function(e,t,r){var n=r[t.__e];if(n&&"layout"==n.__c){var i=N(C.default.QRCODES,"value"),A=N(C.default.BARCODES,"value"),o=t.__j,a="qrcode",s=o.type,l=b(o.style||"");k(i,s)?a="qrcode":k(A,s)&&(a="90"==l.rotation?"vcode":"hcode");var c=F.default.byType(a),u=c.getProps(0,0),d=T.get("__f");u.width*=d,u.height*=d;var f=o["editor:tip"];f&&(u.tip=f);var p=L.barcode;E(n,p,u);for(var h=0,g=t.__i;h<g.length;h++){var v=g[h];x(0,p,v.__g,v.__h,u)}for(var m in l)x(0,p,m,l[m],u);for(var _=0,w=t.__b;_<w.length;_++){var B=w[_];if("#cdata"==B.__c){u.text=B.__d;break}}var y={id:U.default.guid("e_"),type:a,ctor:c,props:u};Q(y,t,n),e.elements.push(y)}},table:function(e,t,c){var r=c[t.__e];if("layout"==r.__c){var u=F.default.byType("table").getProps(0,0),n=T.get("__f");u.width*=n,u.height*=n;for(var i=0,A=u.rows;i<A.length;i++){var o=A[i];if("tr"==o.type){o.height*=n;for(var a=0,s=o.cells;a<s.length;a++){var l=s[a];"td"==l.type&&(l.width*=n)}}}var d=c[r.__e];d&&"layout"==d.__c?u.splitable=!0:u.splitable=!1;var f=L.table;E(r,f,u),E(t,f,u),k(u,"cellBorderWidth")&&k(u,"borderWidth")&&(u.hideBorder=0===u.borderWidth&&0===u.cellBorderWidth);var p={id:U.default.guid("e_"),type:"table",ctor:F.default.byType("table"),props:u},h=t.__b;if(h){u.rows=[];for(var g=0,v=h;g<v.length;g++){var m=v[g],_=void 0,w=m.__c;if("#script"==w)_={tag:"#script",text:m.__d};else{var B=[],y=m.__b;if(y)for(var x=function(e){var t=e.__c;if("#script"==t)B.push({tag:"#script",text:e.__d});else{var r=-1,n=-1,i=Number(e.__j.width),A=e.__j.rowspan;M.test(A)?u.__invalid=!0:A=Number(A)||1;var o=e.__j.colspan;M.test(o)?u.__invalid=!0:o=Number(o)||1,0<=i&&(r=i);var a=Number(e.__j.height);0<=a&&(n=a),r=I(r),n=I(n);var s=[],l=function(e){if(e)for(var t=0,r=e;t<r.length;t++){var n=r[t],i=n.__c,A=D[i];A?A({elements:s},n,c):l(n.__b)}};l(e.__b),B.push({tag:t,width:r,height:n,rowspan:A,colspan:o,children:s})}},b=0,C=y;b<C.length;b++){x(C[b])}_={tag:w,cells:B}}u.rows.push(_)}S.default.__h(u)}Q(p,t,r),e.elements.push(p)}},header:function(e,t,r){if(e.setHeader=!0,"page"==r[t.__e].__c){var n=t.__j;n.height&&(e.page.header=I(n.height))}},footer:function(e,t,r){if(e.setFooter=!0,"page"==r[t.__e].__c){var n=t.__j;n.height&&(e.page.footer=I(n.height))}},"#script":function(e,t,r){var n=r[t.__e];n&&("page"==n.__c&&1==n.___||"td"==n.__c&&1<n.___)&&e.elements.push({id:U.default.guid("s_"),type:"#script",text:t.__d})}};t.default=function(e){var t=function(e){var t,r,n,i,A,o,a,s,l,c,u,d=e.length,f=0,p=0,h={___:0,__a:U.default.guid(),__b:[]},g={},v=e,m=[h];for(g[h.__a]=h;f<d;){if(t=1,"<"==v[0])if("?"==v[1])a={__c:"#xml",__d:l=(n=v.indexOf("?>"))<0?v:v.substring(0,n+2),__a:r=U.default.guid(),___:h.___+1,__e:h.__a},g[r]=a,h.__b.push(a),f+=c=l.length,t=0;else if("%"==v[1])a={__c:"#script",__d:l=(n=v.indexOf("%>"))<0?v:v.substring(0,n+2),__a:r=U.default.guid(),___:h.___+1,__e:h.__a},g[r]=a,h.__b.push(a),f+=c=l.length,t=0;else if("!"==v[1])l=(n=v.indexOf("]]>"))<0?v:v.substring(0,n+3),r=U.default.guid(),a={__c:"#cdata",__f:l,__d:l.slice(9,-3),__a:r,___:h.___+1,__e:h.__a},g[r]=a,h.__b.push(a),f+=c=l.length,t=0;else if("/"==v[1]){if(i=v.match(y)){var _=m.pop();if(i[1]!=_.__c)throw new Error('closed tag "'+i[1]+'" umatch opened tag "'+_.__c+'"');h=m[m.length-1],f+=c=i[0].length,t=0}}else(i=v.match(w))&&(A=i[1],f+=c=i[0].length,o=[],s={},i[2].replace(B,function(e,t,r){o.push({__g:t,__h:r||""}),s[t]=r}),u=i[3],r=U.default.guid(),a={__c:A,__i:o,__j:s,__b:[],__k:u,__a:r,___:h.___+1,__e:h.__a},g[r]=a,h.__b.push(a),u||(m.push(a),h=a),t=0);if(t&&(f+=c=(l=(n=v.indexOf("<"))<0?v:v.substring(0,n)).length,l.trim()&&(a={__c:"#text",__d:l,__a:r=U.default.guid(),___:h.___+1,__e:h.__a},h.__b.push(a))),p==f)throw new Error("bad input:"+v);v=v.substring(c),p=f}if(1<m.length)throw new Error("parsing failure:"+m[1].__c+" unclosed!");return{node:h,map:g}}(e),r=t.node,o=t.map,a={page:{},elements:[]},s=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t],i=n.__c,A=D[i];A&&A(a,n,o),n.__b&&"table"!=i&&s(n.__b)}};return s(r.__b),a.setHeader||(a.page.header=0),a.setFooter||(a.page.footer=0),delete a.setHeader,delete a.setFooter,a}}),define("cainiao/toxml",["../util/converter"],function(e,t,r){"use strict";t.__esModule=!0;function C(e){for(var t="\n";e--;)t+="\t";return t}function n(e,t,r){var n=C(t+1),i=C(t+2);return n+'<line style="lineType:'+e.type+";lineColor:#000;lineWidth:"+a(r?e.width:e.height)+";zIndex:"+e.zIndex+'"'+i+'startX="'+Q(e.x)+'"'+i+'startY="'+Q(e.y)+'"'+i+'endX="'+Q(e.x+(r?0:e.width))+'"'+i+'endY="'+Q(e.y+(r?e.height:0))+'"'+(r?i+'editor:_deg_="90"':"")+i+'editor:tip="'+e.tip+'">'+n+"</line>"}function i(e,t,r){var n=e.props,i=n._layouts,A=n._children,o=n.useCNStyle;o&&t--;var a=C(t+1),s=C(t+2),l=C(t+3),c='style="fontFamily:'+n.fontFamily+";";0!=n.rotate&&(c+="rotation:"+n.rotate+";"),1!=n.alpha&&(c+="alpha:"+n.alpha+";"),8!=n.fontSize&&(c+="fontSize:"+n.fontSize+";"),""!==n.lineHeight[0]&&(c+="lineHeight:"+n.lineHeight[0]+("%"==n.lineHeight[1]?"%":"")+";"),n.fontStyle[0]&&(c+="fontItalic:true;"),n.fontStyle[1]&&(c+="fontUnderline:true;"),"left"!=n.align[0]&&(c+="align:"+n.align[0]+";"),"top"!=n.align[1]&&(c+="valign:"+n.align[1]+";"),"normal"!=n.fontWeight&&(c+="fontWeight:"+n.fontWeight+";"),"ltr"!=n.direction&&(c+="direction:"+n.direction+";"),"1"==n.color&&(c+="fontColor:#fff;backgroundColor:#000;"),n.letterSpacing&&(c+="letterSpacing:"+n.letterSpacing+";"),r&&(c+="orientation:vertical;"),c+='"';var u="",d="";n.alias&&(d=l+'editor:_printName_="'+n.alias+'"'),0===n.allowEdit&&(d+=l+'editor:component="true"');var f=s+"<text "+c+d+l+'editor:tip="'+n.tip+'">';if(A&&A.length)for(var p=0,h=A;p<h.length;p++){"#script"==(m=h[p]).tag?f+=l+m.text:"#cdata"==m.tag&&(f+=l+"<![CDATA["+n.text+"]]>")}else f+=l+"<![CDATA["+n.text+"]]>";if(f+=s+"</text>",i&&i.length)for(var g=0,v=i;g<v.length;g++){var m;"#script"==(m=v[g]).tag?u+=s+m.text:"text"==m.tag&&(u+=f)}else u=f;return o?u:a+'<layout editor:_for_="'+Date.now()+'"'+s+'width="'+Q(n.width)+'"'+s+'height="'+Q(n.height)+'"'+s+'left="'+Q(n.x)+'"'+s+'top="'+Q(n.y)+'"'+s+'style="zIndex:'+n.zIndex+'">'+u+a+"</layout>"}function A(e,t,r){var n=e.props,i=n._layouts,A=n._children,o="",a="",s=C(t+1),l=C(t+2),c=C(t+3);a="qrcode"==r?("maxicode"==n.type&&(o=c+'primary="'+n.primary+'"'+c+'schema="'+n.schema+'"'),"opacity:"+n.alpha+";"):"opacity:"+n.alpha+";hideText:"+!n.showText+";rotation:"+("vcode"==r?90:0)+";";var u="",d=l+'<barcode type="'+n.type+'"'+c+'ratioMode="keepRatio"'+c+'style="'+a+'"'+o+c+'editor:tip="'+n.tip+'">';if(A&&A.length)for(var f=0,p=A;f<p.length;f++){"#script"==(v=p[f]).tag?d+=c+v.text:"#cdata"==v.tag&&(d+=c+"<![CDATA["+n.text+"]]>")}else d+=c+"<![CDATA["+n.text+"]]>";if(d+=l+"</barcode>",i&&i.length)for(var h=0,g=i;h<g.length;h++){var v;"#script"==(v=g[h]).tag?u+=l+v.text:"barcode"==v.tag&&(u+=d)}else u=d;return s+'<layout editor:_for_="'+Date.now()+'"'+l+'width="'+Q(n.width)+'"'+l+'height="'+Q(n.height)+'"'+l+'left="'+Q(n.x)+'"'+l+'top="'+Q(n.y)+'"'+l+'style="zIndex:'+n.zIndex+'">'+u+s+"</layout>"}var o=e("../util/converter"),Q=o.default.__i,a=o.default.__j,E=/^\s*<%[\s\S]*%>\s*$/,U={hline:function(e,t){var r=e.props;return n(r,t,!1)},vline:function(e,t){var r=e.props;return n(r,t,!0)},rect:function(e,t){var r=e.props,n=r._layouts,i=r._children,A="",o=C(t+1),a=C(t+2),s=C(t+3);1!=r.borderWidth&&(A+="borderWidth:"+r.borderWidth+";"),"solid"!=r.borderType&&(A+="borderStyle:"+r.borderType+";"),r.fill&&(A+="fillColor:#000;"),A&&(A=' style="'+A+'"');var l="";A?A+=s+'editor:tip="'+r.tip+'"':A=' editor:tip="'+r.tip+'"';var c=a+"<rect"+A+">";if(i&&i.length){for(var u=0,d=i;u<d.length;u++){"#script"==(h=d[u]).tag&&(c+=s+h.text)}c+=a}if(c+="</rect>",n)for(var f=0,p=n;f<p.length;f++){var h;"#script"==(h=p[f]).tag?l+=a+h.text:"rect"==h.tag&&(l+=c)}else l=c;return o+'<layout editor:_for_="'+Date.now()+'"'+a+'width="'+Q(r.width)+'"'+a+'height="'+Q(r.height)+'"'+a+'left="'+Q(r.x)+'"'+a+'top="'+Q(r.y)+'"'+a+'style="zIndex:'+r.zIndex+'">'+l+o+"</layout>"},image:function(e,t){var r=e.props,n=r._layouts,i="",A=C(t+1),o=C(t+2),a=C(t+3);0!=r.rotate&&(i+="rotation:"+r.rotate+";"),1!=r.alpha&&(i+="alpha:"+r.alpha+";"),i&&(i=a+'style="'+i+'"');var s=o+'<image src="'+r.src+'"'+i+" "+a+'allowFailure="false"'+a+'editor:tip="'+r.tip+'"/>',l="";if(n)for(var c=0,u=n;c<u.length;c++){var d=u[c];"#script"==d.tag?l+=o+d.text:"image"==d.tag&&(l+=s)}else l=s;return A+'<layout editor:_for_="'+Date.now()+'"'+o+'width="'+Q(r.width)+'"'+o+'height="'+Q(r.height)+'"'+o+'left="'+Q(r.x)+'"'+o+'top="'+Q(r.y)+'"'+o+'style="zIndex:'+r.zIndex+'">'+l+A+"</layout>"},htext:function(e,t){return i(e,t,!1)},vtext:function(e,t){return i(e,t,!0)},qrcode:function(e,t){return A(e,t,"qrcode")},hcode:function(e,t){return A(e,t,"hcode")},vcode:function(e,t){return A(e,t,"vcode")},table:function(e,t){var r=e.props,n=r._layouts,i=C(t+1);r.splitable&&t++;var A=C(t+1),o=C(t+2),a=C(t+3),s=C(t+4),l=o+"<table";r.hideBorder&&(l+=' style="borderWidth:0;cellBorderWidth:0;"'),l+=' editor:tip="'+r.tip+'">';for(var c=0,u=r.rows;c<u.length;c++){var d=u[c];if("#script"==d.tag)l+=""+a+d.text;else if("tr"==d.tag){l+=a+"<tr>";for(var f=0,p=d.cells;f<p.length;f++){if("#script"==(y=p[f]).tag)l+=""+s+y.text;else if("td"==y.tag)if(l+=s+'<td width="'+Q(y.width)+'" height="'+Q(y.height)+'"',y.rowspan&&(1<y.rowspan||r.__invalid&&E.test(y.rowspan))&&(l+=' rowspan="'+y.rowspan+'"'),y.colspan&&(1<y.colspan||r.__invalid&&E.test(y.colspan))&&(l+=' colspan="'+y.colspan+'"'),l+=">",y.children&&y.children.length){for(var h=0,g=y.children;h<g.length;h++){var v=g[h],m=U[v.type];m&&(l+=m(v,t+4))}l+=s+"</td>"}else l+="</td>"}l+=a+"</tr>"}}l+=o+"</table>";var _="";if(n)for(var w=0,B=n;w<B.length;w++){var y;"#script"==(y=B[w]).tag?_+=o+y.text:"table"==y.tag&&(_+=l)}else _=l;var x=o+'height="'+Q(r.height)+'"';r.splitable&&(x="");var b=A+'<layout editor:_for_="'+Date.now()+'"'+o+'width="'+Q(r.width)+'"'+x+o+'left="'+Q(r.x)+'"'+o+'top="'+Q(r.y)+'"'+o+'style="zIndex:'+r.zIndex+'">'+_+A+"</layout>";return r.splitable?i+'<layout orientation="vertical">'+b+i+"</layout>":b},"#script":function(e,t){return""+C(t+1)+e.text}};t.default=function(e){var t=e.page,r='<?xml version="1.0" encoding="UTF-8"?>\n',n=t.splitable?' splitable="true"':"";r+='<page xmlns="'+t.xmlns+'"\n    xmlns:xsi="'+t["xmlns:xsi"]+'"\n    xsi:schemaLocation="'+t["xsi:schemaLocation"]+'"\n    xmlns:editor="'+t["xmlns:editor"]+'"\n    width="'+Q(t.width)+'" height="'+Q(t.height)+'"'+n+">",0<t.header&&(r+=C(1)+'<header height="'+Q(t.header)+'"></header>');for(var i=0,A=e.elements;i<A.length;i++){var o=A[i];if(!o.props.barred){var a=U[o.type];a&&(r+=a(o,0))}}return 0<t.footer&&(r+=C(1)+'<footer height="'+Q(t.footer)+'"></footer>'),r+="\n</page>"}}),define("util/converter",["$","magix"],function(e,t,r){"use strict";t.__esModule=!0;function n(e,t){return void 0===t&&(t=2),Number(e.toFixed(t))}var o=e("$"),i=e("magix"),A={"<":"&lt;",">":"&gt;","&":"&amp;"};t.default={__iF:function(e){return 0|e.toFixed(0)},__az:n,__i:function(e){var t=i.State.get("__f"),r=.26458333331386*Number(e)/t;return n(r)},__e:function(e){var t=i.State.get("__f");return n(3.7795275593333*Number(e)*t)},__g:function(e){return n(1.3333333333333*e*i.State.get("__f"))},__j:function(e){return n(.75*e/i.State.get("__f"))},__bc:function(e){var t=e.x,r=e.y,n=o.default("#stage_stage").offset();return{x:t-=n.left,y:r-=n.top}},__aC:function(e,t){var r=t.x,n=t.y,i=t.find?e.parents('[data-role="table-cell"]'):e,A=(i=i.length?i.eq(0):o.default("#stage_stage")).offset();return{x:r-=A.left,y:n-=A.top}},__bG:function(e){var t=e.x,r=e.y,n=o.default("#stage_outer"),i=n.offset();return{x:t=t-i.left+n.prop("scrollLeft"),y:r=r-i.top+n.prop("scrollTop")}},__aU:function(e){var t=e.x,r=e.y,n=o.default("#stage_stage").offset(),i=o.default("#stage_outer").offset();return{x:t+=n.left-i.left,y:r+=n.top-i.top}},__bI:function(e){var t=e.x,r=e.y,n=o.default("#stage_stage").offset(),i=o.default("#stage_outer").offset();return{x:t+=i.left-n.left,y:r+=i.top-n.top}},__eC:function(e){return e.replace(/[<>&]/g,function(e){return A[e]}).replace(/ /g,"&nbsp;").replace(/(?:\r\n|\r|\n)/g,"<br />")},__eE:function(e){return e.replace(/&nbsp;/g," ").replace(/<br>/g,"\r\n").replace(/<br \/>/g,"\r\n").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/<div>([\s\S\n]*?)<\/div>/g,"\r\n$1")}}}),define("util/table",["../cainiao/const","magix"],function(e,t,r){"use strict";t.__esModule=!0;function ge(e,t){void 0===t&&(t={});for(var r,n,i={},A=t.startRow,o=t.endRow,a=t.column,s=function(e,t,r){i[e]||(i[e]={}),i[e][t]=r},l=function(e,t,r,n){for(var i={row:e,cell:t},A=t+1;A<t+n;A++)s(e,A,i);for(var o=e+1;o<e+r;o++)for(A=t;A<t+n;A++)s(o,A,i)},c=function(e,t,r){return void 0!==A&&e<A?1:void 0===a?0:!(a==t)&&!(t<a&&a<t+r)},u=0,d=0,f=0,p=[];;){var h=e[u];if(!h||void 0!==o&&o<u)break;var g={row:u,col:d,cell:f},v=void 0;if(n=d,v=i[r=u]?i[r][n]:0)c(u,d,1)||(g.ref=v,p.push(g)),d++;else if(h.cells&&h.cells[f]){var m=h.cells[f],_=m.colspan||1,w=m.rowspan||1;g.rowspan=w,g.colspan=_,(1<w||1<_)&&l(u,d,w,_),c(u,d,_)||(g.data=!0,g.td=h.cells[f],p.push(g)),d++,f++}else 0===u&&(p.$c=d),u++,f=d=0}return p}function M(e){e.id||(e.id=n.default.guid("td_"))}function ve(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r],A=[];if("tr"==i.tag){var o={tag:i.tag,cells:A};if(i.cells)for(var a=0,s=i.cells;a<s.length;a++){var l=s[a];"td"==l.tag&&A.push(l)}t.push(o)}}return t}function f(e,t,r,n){for(var i=null;;){var A=e[r+=n];if(!A)break;if(A.ref&&(A=A.ref),A.row!=t.row||A.cell!=t.cell){i=A;break}}return i}function L(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(n.cells)for(var i=0,A=n.cells;i<A.length;i++){var o=A[i];if("td"==o.tag&&o.id==t.id)return r}}return-1}function D(e,t){var r,n=-1,i=e.cells,A=0;if(i){for(var o=0,a=0;A<i.length;A++){var s=i[A];if("td"==s.tag){if(t==o){n=A,r=s;break}o++,a=A}}-1==n&&(n=t==1+o?a+1:A)}return{index:n,cell:r}}function me(e,t){for(var r=-1,n=0,i=0,A=0;i<e.length;i++){if("tr"==e[i].tag){if(n==t){r=i;break}n++,A=i}}return-1==r&&(r=n+1==t?A+1:i),r}function B(e,t){for(var r={tag:"tr",cells:[]},n=0;n<e;n++)r.cells.push({tag:"td",height:t});return r}function S(e,t){var r=e.rowIndex,n=e.colIndex,i=e.rows,A=!1;if(t){M(t);for(var o=0;o<i.length;o++){var a=i[o],s=!1;if("tr"==a.tag&&a.cells)for(var l=0;l<a.cells.length;l++){var c=a.cells[l];if("td"==c.tag&&c.id==t.id){r==o&&n==l||(A=!0,e.rowIndex=o,e.colIndex=l),s=!0;break}}if(s)break}}return A}function O(e,t){if(e<t)return{newCellsSpan:1,updatedSpan:1};var r=Math.floor(e/t);return{newCellsSpan:r,updatedSpan:e-r*t+r}}function H(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A="left"==t||"right"==t,o=A?function(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A=r[n].cells,o=i,a=null,s=A[o];if("left"==t){for(;0<=--o;)if((v=A[o])&&"td"==v.tag){a=v;break}}else if("right"==t)for(;++o<A.length;)if((v=A[o])&&"td"==v.tag){a=v;break}if(!a)return null;var l="right"==t?s:a,c="right"==t?a:s,u=ve(r);M(l),M(c);for(var d=L(u,s),f=-1,p=-1,h=0,g=ge(u,{startRow:d,endRow:d});h<g.length;h++){var v;(v=g[h]).data&&(v.td.id==l.id?f=v.col:v.td.id==c.id&&(p=v.col))}return f+(l.colspan||1)==p?a:null}(e,t):function(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A=ve(r),o=r[n].cells[i];M(o);var a=L(A,o);if(!("down"==t&&a==A.length-1||"up"==t&&0===a)){for(var s=o.rowspan||1,l="down"==t?a+s:a,c=ge(A,{endRow:l}),u=-1,d=null,f=0,p=c;f<p.length;f++)(v=p[f]).data&&v.td.id==o.id&&(u=v.col);for(var h=0,g=c;h<g.length;h++){var v;if((v=g[h]).data&&v.col==u){var m=v.rowspan||1;if("down"==t&&v.row==l||"up"==t&&v.row+m==l){d=v.td;break}}}return d}}(e,t);if(o){var a=A?"rowspan":"colspan";return(r[n].cells[i][a]||1)==(o[a]||1)?o:void 0}}function x(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex;if(!(n<0||i<0)){var A=r[n].cells[i];M(A);for(var o=ve(r),a=ge(o),s=null,l=0;l<a.length;l++){var c=a[l];if(c.data)if(o[c.row].cells[c.cell].id==A.id){if("left"==t){if(0<c.col)(u=f(a,c,l,-1))&&(s=o[u.row].cells[u.cell])}else if("right"==t){if(c.col<a.$c-1)(d=f(a,c,l,1))&&(s=o[d.row].cells[d.cell])}else if("top"==t){var u;(u=f(a,c,l,-a.$c))&&(s=o[u.row].cells[u.cell])}else if("bottom"==t){var d;(d=f(a,c,l,a.$c))&&(s=o[d.row].cells[d.cell])}break}}return s}}var _e=e("../cainiao/const"),n=e("magix");t.default={__fl:function(e,t){var r=!1;return"r"==t?r=this.__iG(e):"c"==t?r=this.__iH(e):"rt"==t?r=this.__iI(e,0):"rb"==t?r=this.__iI(e,1):"cb"==t?r=this.__iJ(e,0):"ca"==t&&(r=this.__iJ(e,1)),r&&this.__h(e,{fsize:e.lockSize}),r},__fx:function(e,t){var r=!1;return"sh"==t?r=this.__iK(e,2):"sv"==t?r=this.__iL(e,2):"ml"==t?r=this.__iM(e,"left"):"mr"==t?r=this.__iM(e,"right"):"mu"==t?r=this.__iM(e,"up"):"md"==t&&(r=this.__iM(e,"down")),r&&this.__h(e),r},__iM:function(e,t){var r=!1,n="left"==t||"right"==t,i=H(e,t);if(i){var A=e.rows,o=e.rowIndex,a=e.colIndex,s=A[o].cells[a],l="right"==t||"down"==t,c=l?s:i,u=l?i:s;n?c.width+=u.width:c.height+=u.height,M(u),M(c);var d=c.children||(c.children=[]),f=u.children;if(f)for(var p=0,h=f;p<h.length;p++){var g=h[p];g.zIndex=d.length+1,d.push(g)}for(var v=L(A,u),m=A[v].cells,_=!1,w=ve(A),B=L(w,u),y=m.length;y--;){"td"==(U=m[y]).tag&&(U.id==u.id?m.splice(y,1):_=!0)}var x=n?"colspan":"rowspan",b=s[x]||1,C=i[x]||1;if(c[x]=b+C,!_){for(var Q=0,E=ge(w,{endRow:B});Q<E.length;Q++){var U;if((U=E[Q]).data){var F=U.rowspan||1;U.row+F-1>=B&&(U.td.rowspan-=1)}}A.splice(v,1)}S(e,c),r=!0}return r},__iK:function(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A=r[n].cells;if(A){var o=!1,a=A[i],s=a.colspan||1,l=a.rowspan||1,c=a.width/t;if(1<s){a.width=-1;var u=O(s,t),d=u.newCellsSpan,f=u.updatedSpan;a.colspan=f;for(var p=t<s?t-1:s-1,h=0;h<p;h++){var g={tag:"td",width:-1};1<d&&(g.colspan=d),1<l&&(g.rowspan=l),A.splice(i+1,0,g)}o=!0}if(s<t){a.width=c;var v=t-s,m=ve(r),_=ge(m);M(a);for(var w=-1,B=0,y=_;B<y.length;B++){if((C=y[B]).data&&C.td.id==a.id){w=C.col;break}}for(var x=0,b=_;x<b.length;x++){var C;if((C=b[x]).data){var Q=C.td,E=a.id!=Q.id&&C.col==w,U=C.col<w&&C.colspan+C.col>w;(E||U)&&(Q.colspan||(Q.colspan=1),Q.colspan+=v)}}for(h=0;h<v;h++){g={tag:"td",width:c};1<l&&(g.rowspan=l),A.splice(i+1,0,g)}o=!0}return o}},__iL:function(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A=r[n].cells;if(A){var o=!1,a=A[i],s=a.colspan||1,l=a.rowspan||1,c=ve(r);M(a);var u=L(c,a),d=a.height/t;if(1<l){a.height=-1;var f=ge(c,{startRow:u,endRow:u+l-1}),p=O(l,t),h=p.newCellsSpan,g=p.updatedSpan;a.rowspan=g;for(var v=-1,m=0,_=f;m<_.length;m++){if((S=_[m]).data&&S.td.id==a.id){v=S.col;break}}for(var w=0,B=f;w<B.length;w++){var y=(S=B[w]).col,x=S.row,b=S.cell;if(u+g<=x&&y===v&&(x+u+g)%h==0){var C=r[N=me(r,x)],Q=D(C,b).index;C.cells.splice(Q,0,{tag:"td",colspan:s,height:d,width:b.width,rowspan:h})}}o=!0}if(l<t){a.height=d;for(var E=t-l,U=0,F=f=ge(c,{startRow:0,endRow:u});U<F.length;U++){var S;if((S=F[U]).data){var H=S.td,T=S.rowspan||1;if(H.id!=a.id&&S.row+T>u){var k=T+E;S.td.rowspan=k}}}var N=me(r,u),I={tag:"tr",cells:[{tag:"td",width:a.width,colspan:s}]};r.splice(N+1,0,I),o=!0}return o}},__iH:function(e){var t=e.rows,r=e.rowIndex,n=e.colIndex,i=t[r].cells;if(i){var A=!1;(A=x(e,"left"))||(A=x(e,"right"));var o=i[n],a=ve(t);M(o);var s=ge(a);if(!(s.$c<=1)){for(var l,c=0,u=s;c<u.length;c++){if((p=u[c]).data&&p.td.id==o.id){l=p.col;break}}for(var d=0,f=s;d<f.length;d++){var p;if((p=f[d]).data)if(p.col<=l&&1<p.colspan&&p.col+p.colspan>l)p.td.colspan--;else if(p.col==l){var h=t[me(t,p.row)].cells;M(p.td);for(var g=h.length;g--;)if(h[g].id==p.td.id){h.splice(g,1);break}}}return A?S(e,A):(e.rowIndex=-1,e.colIndex=-1),!0}}},__iG:function(e){var t=e.rows,r=e.rowIndex,n=e.colIndex,i=t[r].cells;if(i){var A=!1;(A=x(e,"top"))||(A=x(e,"bottom"));var o=i[n],a=ve(t);if(!(a.length<=1)){M(o);for(var s,l=L(a,o),c=ge(a,{endRow:l}),u={},d=0,f=c;d<f.length;d++){(v=f[d]).data&&(v.row===l?v.rowspan&&1<v.rowspan&&(u[v.col]={td:v.td,rowspan:v.rowspan-1}):v.row<l&&v.row+v.rowspan>l&&v.td.rowspan--)}c=ge(a,{endRow:l+1,startRow:l+1});for(var p=t[me(t,l)].cells,h=0,g=c;h<g.length;h++){var v;if(u[(v=g[h]).col]){var m=u[v.col],_=m.td,w=m.rowspan;if(_.children=[],s){M(s);for(var B=p.length;B--;)if(p[B].id==s.id){p.splice(B,0,_);break}}else{t[me(t,v.row)].cells.unshift(_)}_.rowspan=w,s=_}else s=v.td}var y=me(t,l);return t.splice(y,1),A?S(e,A):(e.rowIndex=-1,e.colIndex=-1),!0}}},__iI:function(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A=r[n].cells;if(A){var o=A[i],a=ve(r);M(o);var s=L(a,o),l=ge(a,{startRow:s,endRow:s}),c=l.$c,u=0===t;if(0===(t+=s)||t===a.length){var d=B(c,o.height),f=me(r,0===t?t:t+1);return r.splice(f,0,d),u&&e.rowIndex++,!0}for(var p=0,h=0,g=l=ge(a,{endRow:t});h<g.length;h++){var v=g[h];if(v.data){var m=v.row<t,_=v.row+v.rowspan>t;m&&_&&v.td.rowspan++,v.row===t&&(p+=v.colspan||1)}}d=B(p,o.height);var w=me(r,t);return r.splice(w,0,d),u&&e.rowIndex++,!0}},__iJ:function(e,t){var r=e.rows,n=e.rowIndex,i=e.colIndex,A=r[n].cells;if(A){var o=A[i],a=ve(r);M(o);for(var s=L(a,o),l=ge(a,{startRow:s,endRow:s}),c=l.$c,u=0===t,d=0,f=l;d<f.length;d++){var p=f[d];if(p.data&&p.td.id==o.id){t=p.col+t;break}}if(0===t||t===c){for(var h=0,g=r;h<g.length;h++){if("tr"==(y=g[h]).tag){var v=D(y,0===t?t:t+1).index;y.cells.splice(v,0,{tag:"td",width:o.width})}}return u&&e.colIndex++,!0}for(var m={},_=0,w=l=ge(a,{column:t});_<w.length;_++){var B=w[_];if(1!==m[B.row]){var y=r[me(r,B.row)],x=D(y,B.cell),b=(v=x.index,x.cell);if(B.col==t)y.cells.splice(v,0,{tag:"td",width:o.width});else if(b&&b.colspan++,(m[B.row]=1)<B.rowspan)for(var C=B.row+1;C<B.row+B.rowspan;C++)m[C]=1}}return u&&e.colIndex++,!0}},__fh:function(e,t){var r=x(e,t);return S(e,r)},__fk:function(e,t,r){for(var n=0,i=0,A=null,o=0,a=e;o<a.length;o++){var s=a[o];if("tr"==s.tag){var l=!1;if(s.cells&&t===n)for(var c=0,u=s.cells;c<u.length;c++){if("td"==u[c].tag){if(r===i){l=!0,A=s.cells[i];break}i++}}if(l)break;n++}}return A},__h:function(e,t){if(void 0===t&&(t={}),!e.__invalid){for(var r=t.col,n=t.share,i=t.lw,A=t.fsize,o=t.nextRow,a=t.nextCol,s=t.changeType,l=e.rows,c=ve(l),u=ge(c),d=[],f=[],p=0,h=u;p<h.length;p++){if((fe=h[p]).data){var g=(fe.colspan||1)-1,v=(fe.rowspan||1)-1;(void 0===f[fe.col]||f[fe.col]>g)&&(f[fe.col]=g),(void 0===d[fe.row]||d[fe.row]>v)&&(d[fe.row]=v)}}for(var m=0,_=u;m<_.length;m++){if((fe=_[m]).data){var w=fe.td;if(1<(g=w.colspan))for(var B=fe.col;B<fe.col+g;B++)w.colspan-=f[B]||0;if(1<(v=w.rowspan)){var y=w.height/v;for(B=fe.row;B<fe.row+v;B++)w.rowspan-=d[B]||0,w.height-=(d[B]||0)*y}}}for(var x={},b={},C=0,Q=0,E=0,U=u=ge(c);E<U.length;E++){if((fe=U[E]).col>Q&&(Q=fe.col),0==fe.col&&(x[fe.row]=(x[fe.row]||0)+(b[fe.row]||0)),fe.data){var F=x[fe.row]||0;for(g=fe.td.colspan||1,v=fe.td.rowspan||1,B=fe.row+1;B<fe.row+v;B++)b[B]=(b[B]||0)+g;x[fe.row]=F+g}}for(var S=0;S<c.length;){var H=Q-(F=x[S]||0)+1;if(0<H)for(var T=me(l,S);0<H;)C=1,l[T].cells.push({tag:"td",width:-1,height:-1}),H--;S++}C&&(c=ve(l),u=ge(c));for(var k=[],N=[],I=!1,M=!1,L=0,D=u;L<D.length;L++){if((fe=D[L]).data){var O=fe.cell,K=fe.col,R=c[fe.row].cells[O];fe.colspan&&1!=fe.colspan||(void 0===k[K]||R.width>k[K]&&!I||r&&r.id==R.id)&&(I=I||r&&r.id==R.id,k[K]=R.width),fe.rowspan&&1!=fe.rowspan||(void 0===N[fe.row]||R.height>N[fe.row]&&!M||r&&R.id==r.id)&&(M=M||r&&R.id==r.id,N[fe.row]=R.height)}}for(var P=0,z=u;P<z.length;P++){if((fe=z[P]).data){O=fe.cell;var X=fe.col;if(0<=(R=c[fe.row].cells[O]).width&&1<fe.colspan){var W=0,V=0;for(B=X;B<X+fe.colspan;B++)void 0!==k[B]&&0<=k[B]&&(W+=k[B],V++);if(V<fe.colspan){var G=Math.max(R.width-W,0)/(fe.colspan-V);for(B=X;B<X+fe.colspan;B++)(void 0===k[B]||k[B]<0)&&(k[B]=G)}else if(W<R.width&&(!r||r.id==R.id)||W>R.width&&r&&r.id==R.id)for(B=X;B<X+fe.colspan;B++)k[B]=0<W?k[B]/W*R.width:R.width/fe.colspan}if(0<=R.height&&1<fe.rowspan){var Y=0,j=0;for(B=fe.row;B<fe.row+fe.rowspan;B++)void 0!==N[B]&&0<=N[B]&&(Y+=N[B],j++);if(j<fe.rowspan)for(y=Math.max(0,R.height-Y)/(fe.rowspan-j),B=fe.row;B<fe.row+fe.rowspan;B++)(void 0===N[B]||N[B]<0)&&(N[B]=y);else if(Y<R.height&&(!r||r.id==R.id)||Y>R.height&&r&&r.id==R.id)for(B=fe.row;B<fe.row+fe.rowspan;B++)N[B]=0<Y?N[B]/Y*R.height:R.height/fe.rowspan}}}if(r&&e.lockSize){if("row"==s){v=r.rowspan||1;N[r.row+v]=o}if("col"==s){g=r.colspan||1;k[r.col+g]=a}}for(var J=0,q=0,$=0,Z=k;$<Z.length;$++){0<=(G=Z[$])&&(J+=G,q++)}for(var ee=0,te=0,re=0,ne=N;re<ne.length;re++){0<=(y=ne[re])&&(ee+=y,te++)}if(q<k.length){G=_e.default.TABLE_CELLS_WIDTH;J<e.width&&(G=(e.width-J)/(k.length-q));for(B=k.length;B--;)k[B]<0&&(k[B]=G)}else if((i||A)&&J>e.width||A&&J<e.width)for(B=k.length;B--;)k[B]=k[B]/J*e.width;if(te<N.length){y=_e.default.TABLE_ROWS_HEIGHT;ee<e.height&&(y=(e.height-ee)/(N.length-te));for(B=N.length;B--;)N[B]<0&&(N[B]=y)}else if(A&&(ee>e.height||ee<e.height))for(B=N.length;B--;)N[B]=N[B]/ee*e.height;for(var ie=J=0,Ae=k;ie<Ae.length;ie++){J+=G=Ae[ie]}for(var oe=ee=0,ae=N;oe<ae.length;oe++){ee+=y=ae[oe]}e.width=J,e.height=ee;var se=!1;if(n){if("x"==n)for(G=J/k.length,B=k.length;B--;)1e-4<Math.abs(k[B]-G)&&(se=!0,k[B]=G);if("y"==n)for(y=ee/N.length,B=N.length;B--;)1e-4<Math.abs(N[B]-y)&&(se=!0,N[B]=y)}for(var le=null,ce=0,ue=0,de=u;ue<de.length;ue++){var fe;if((fe=de[ue]).data){O=fe.cell;var pe=fe.row,he=fe.col;v=(R=c[pe].cells[O]).rowspan||1,g=R.colspan||1;R.row=pe;for(G=0,y=0,B=R.col=he;B<he+g;B++)G+=k[B];for(B=pe;B<pe+v;B++)y+=N[B];le&&0<he&&(le.ref&&(le=le.ref),R.left={row:le.row,col:le.cell}),0<pe&&((le=u[ce-k.length]).ref&&(le=le.ref),R.top={row:le.row,col:le.cell}),R.hasRight=!e.lockSize||he+g<k.length,R.hasBottom=!e.lockSize||pe+v<N.length,R.hasTop=0<pe,R.width=G,R.height=y}le=fe,ce++}return t&&(t.colWidths=k,t.rowHeights=N),se}}}}),define("util/transform",[],function(e,t,r){"use strict";t.__esModule=!0;function n(e,t){var r=e.props,n=t.props;return r.zIndex-n.zIndex}var i={lt:0,mt:1,rt:2,rm:3,rb:4,mb:5,lb:6,lm:7};t.default={__aD:function(e){return{x:e.x+e.width/2,y:e.y+e.height/2}},__aw:function(e,t){var r=e.x,n=e.y,i=e.width,A=e.height,o=Math.sqrt(Math.pow(i,2)+Math.pow(A,2))/2,a=i?Math.round(180*Math.atan(A/i)/Math.PI):0,s=180-t-a,l=a-t,c=90-t,u=t,d=i/2,f=A/2,p=r+d,h=n+f,g={x:p+o*Math.cos(s*Math.PI/180),y:h-o*Math.sin(s*Math.PI/180)},v={x:p+f*Math.cos(c*Math.PI/180),y:h-f*Math.sin(c*Math.PI/180)},m={x:p+o*Math.cos(l*Math.PI/180),y:h-o*Math.sin(l*Math.PI/180)},_={x:p+d*Math.cos(u*Math.PI/180),y:h+d*Math.sin(u*Math.PI/180)},w={x:p-o*Math.cos(s*Math.PI/180),y:h+o*Math.sin(s*Math.PI/180)},B={x:p-f*Math.sin(u*Math.PI/180),y:h+f*Math.cos(u*Math.PI/180)},y={x:p-o*Math.cos(l*Math.PI/180),y:h+o*Math.sin(l*Math.PI/180)},x={x:p-d*Math.cos(u*Math.PI/180),y:h-d*Math.sin(u*Math.PI/180)},b=Math.min(g.x,m.x,w.x,y.x),C=Math.max(g.x,m.x,w.x,y.x),Q=Math.min(g.y,m.y,w.y,y.y),E=Math.max(g.y,m.y,w.y,y.y);return{point:[g,v,m,_,w,B,y,x],width:C-b,height:E-Q,left:b,right:C,top:Q,bottom:E}},__ax:function(e,t){var r=i[t],n=r-4;return n<0&&(n=r+4),{current:{index:r,point:e[r]},opposite:{index:n,point:e.slice(n,n+1)[0]}}},__iN:function(e,t){var r=e.x,n=e.y,i=e.width,A=e.height,o=e.scale,a={x:0,y:0},s=i*(o.x-1),l=A*(o.y-1),c=i+s,u=A+l,d=r-s/2,f=n-l/2;if(t){var p=[{x:r,y:n},{x:r+i,y:n},{x:r+i,y:n+A},{x:r,y:n+A}],h=[{x:d,y:f},{x:d+c,y:f},{x:d+c,y:f+u},{x:d,y:f+u}];a.x=p[t].x-h[t].x,a.y=p[t].y-h[t].y}return{x:d+a.x,y:f+a.y,width:c,height:u}},__ay:function(e,t,r,n){var i=this.__iN({x:e.x,y:e.y,width:e.width,height:e.height,scale:t}),A=i.width,o=i.height,a=this.__aw(i,e.rotate),s=r.point[n].x-a.point[n].x+a.left,l=r.point[n].y-a.point[n].y+a.top;return{left:s+a.width/2-A/2,top:l+a.height/2-o/2,width:A,height:o}},__iO:function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];"#script"===i.type||i.props.barred||t.push(i)}return t},__aY:function(e){return this.__iO(e).sort(n)},__bj:function(e,t){var r=e.x,n=e.y,i=e.width,A=e.height;if(0==i)return{x:r,y:n};var o=r+i/2,a=n+A/2,s=Math.sqrt(i*i/2/2+A*A/2/2),l=180*Math.atan(A/i)/Math.PI+t+180;return{x:o+s*Math.cos(l*Math.PI/180),y:a+s*Math.sin(l*Math.PI/180)}}}}),define("i18n/en-us",[],function(e,t,r){"use strict";t.__esModule=!0,t.default={_dV:"Printer Designer",_bo:"Property",_bp:"Component Tree",_br:"Use Original Size",_bs:"Divide Table Width",_bt:"Divide Table Height",_bq:"Type",__bm:"Get image size error. Try again~~",_be:"Press drag sort element z index",_bf:"Delete element",_S:"XML Code",_dW:"Save",_T:"Cancel",_fK:"Confirm",_U:"Apply",__V:"Select All",__W:"Copy",__X:"Cut",__Y:"Paste",__Z:"Move Up",__a_:"Move Down",__aa:"To Top",__ab:"To Bottom",__ac:"Delete",__ad:"Add Rows Above",__ae:"Add Rows Below",__af:"Delete The Rows",__ag:"Add Cols Before",__ah:"Add Cols After",__ai:"Delete The Cols",_cJ:"Redo",_cI:"Undo",_cK:"New",_cq:"Templates",__cs:"Clear content and set a new page?",_cP:"Align left",_cR:"Align right",_cS:"Align top",_cU:"Align bottom",_cM:"Stage horizontal centers(use each element center when shift key pressed)",_cL:"Stage vertical centers(use each element center when shift key pressed)",_cT:"Align vertical centers",_cQ:"Align horizontal centers",_cZ:"Paper Size",_db:"Paging Print",_dc:"Papers",_df:"Paper setting",_dd:"Zoom-in",_de:"Zoom-out",_dk:"Expand toolbox",_dl:"Shrink toolbox",_dm:"Searching...",_ft:"Left",_fu:"Right",_fv:"Above",_fw:"Below",_hb:"Left",_hc:"Center",_hd:"Right",_he:"Top",_hf:"Middle",_hg:"Bottom",_hh:"Italic",_hi:"Underline",_hS:"Broswer Images",_ih:"Images",__iC:"Image URL",__hW:"Are you sure you want to delete this item?",__fI:"Tip",_h_:"Search...",__dY:"X",__dZ:"Y",__ef:"Lock",__eg:"Name",__eb:"Alpha",__eK:"Width",__eL:"Height",__eo:"Rotate",__fq:"V-Line",__eh:"H-Line",__ei:"Length",__ej:"Width",__ek:"Style",___:"Solid",__a:"Dashed",__b:"Dotted",__eR:"Rectangle",__eV:"Border",__eU:"Bd-Width",__eW:"Fill",__eS:"Width",__eT:"Height",__fp:"V-Code",__dX:"H-Code",__eN:"QRCode",__e_:"Width",__ea:"Height",__eO:"Width",__eP:"Height",__ec:"Content",__ee:"Show Text",__ed:"Category",__eQ:"Schema",__eI:"Image",__eJ:"Choose",__eM:"Orig-Size",__eX:"Table",__fe:"Cell Pick",__fg:"Cell Size",__ff:"Op-Cell",__fb:"Paging",__fa:"Bd-Hidden",__eY:"Width",__eZ:"Height",__fc:"Div-Width",__fd:"Div-Height",__f_:"Lock Size",__el:"H-Text",__fr:"V-Text",__eB:"Alias",__eA:"Content",__ez:"Align",__ey:"Style",__ex:"Direction",__ew:"Weight",__et:"Color",__eu:"Default",__ev:"White On Black",__es:"Line Height",__er:"Lt-Spacing",__eq:"Font Size",__ep:"Font Family",__em:"Width",__en:"Height",__iD:"CN Style",_eH:"Please input text",__c:"Simsun",__d:"Simhei",__fo:"Delete table",_aG:"Press move or use context menu",_fD:"H-Split Cell",_fE:"V-Split Cell",_fC:"Merge Down",_fB:"Merge Up",_fz:"Merge Left",_fA:"Merge Right",_J:"Delete line",_K:"Press move line position",_cN:"Vertical layout(use element center to align when shift key pressed.Average edit zone when ctrl pressed)",_cO:"Horizontal layout(use element center to align when shift key pressed.Average edit zone when ctrl pressed)",_cV:"Same width as select max width",_cW:"Same width as select min width",_cX:"Same height as select max height",_cY:"Same height as select min height",_ij:"Paste Image",_ik:"Dragdrop(multiple)",_il:"Click Upload",_ii:"Search images",_im:'Can not find images title contains "{0}"',__i_:"Not detected images. Please recopy and paste",_cr:"No templates",__dP:"Processing...",__dO:"missing temp_id or biz_id",_aH:"[unsaved {0}]",_aI:"[saving...]",__dM:"Detected unsaved history,recover it?",__dx:"Unsaved,quit?",_d_:"Header",_da:"Footer",_aJ:"Error\uff1a"}}),define("i18n/index",["magix","./zh-cn","./en-us"],function(e,t,r){"use strict";t.__esModule=!0;var o=e("magix"),n=e("./zh-cn"),i=e("./en-us"),a={"zh-cn":n.default,"en-us":i.default},s=o.default.has,l=/\{(\d+)\}/g;t.default=function(e){for(var r=[],t=1;t<arguments.length;t++)r[t-1]=arguments[t];var n=(o.default.config("lang")||navigator.language).toLowerCase();s(a,n)||(n="zh-cn");var i=a[n],A=s(i,e)?i[e]:e;return r.length&&(A=A.replace(l,function(e,t){return t|=0,r.length>t?r[t]:e})),A}}),define("i18n/zh-cn",[],function(e,t,r){"use strict";t.__esModule=!0,t.default={_dV:"\u6253\u5370\u8bbe\u8ba1\u5668",_bo:"\u5c5e\u6027",_bp:"\u7ed3\u6784\u6811",_bq:"\u7c7b\u578b",_br:"\u4f7f\u7528\u56fe\u7247\u81ea\u8eab\u5bbd\u9ad8",_bs:"\u5355\u5143\u683c\u5747\u5206\u5bbd\u5ea6",_bt:"\u5355\u5143\u683c\u5747\u5206\u9ad8\u5ea6",__bm:"\u83b7\u53d6\u56fe\u7247\u5c3a\u5bf8\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff5e\uff5e",_be:"\u6309\u4e0b\u62d6\u52a8\u6392\u5e8fz\u8f74",_bf:"\u5220\u9664\u5143\u7d20",_S:"\u4ee3\u7801",_dW:"\u4fdd\u5b58",_T:"\u53d6\u6d88",_fK:"\u786e\u5b9a",_U:"\u5e94\u7528",__V:"\u5168\u9009",__W:"\u590d\u5236",__X:"\u526a\u5207",__Y:"\u7c98\u8d34",__Z:"\u4e0a\u79fb\u4e00\u5c42",__a_:"\u4e0b\u79fb\u4e00\u5c42",__aa:"\u79fb\u81f3\u9876\u5c42",__ab:"\u79fb\u5230\u5e95\u5c42",__ac:"\u5220\u9664",__ad:"\u4e0a\u65b9\u6dfb\u52a0\u884c",__ae:"\u4e0b\u65b9\u6dfb\u52a0\u884c",__af:"\u5220\u9664\u5f53\u524d\u884c",__ag:"\u524d\u9762\u6dfb\u52a0\u5217",__ah:"\u540e\u9762\u6dfb\u52a0\u5217",__ai:"\u5220\u9664\u5f53\u524d\u5217",_cJ:"\u91cd\u505a",_cI:"\u64a4\u9500",_cK:"\u65b0\u5efa",_cq:"\u901a\u7528\u6a21\u677f",__cs:"\u786e\u8ba4\u6e05\u7a7a\u65b0\u5efa\uff1f",_cP:"\u5de6\u5bf9\u9f50",_cR:"\u53f3\u5bf9\u9f50",_cS:"\u4e0a\u5bf9\u9f50",_cU:"\u4e0b\u5bf9\u9f50",_cT:"\u5782\u76f4\u5c45\u4e2d\u5bf9\u9f50",_cQ:"\u6c34\u5e73\u5c45\u4e2d\u5bf9\u9f50",_cM:"\u7f16\u8f91\u533a\u6c34\u5e73\u5c45\u4e2d(\u6309\u4e0bshift\u952e\u5219\u4ee5\u5355\u4e2a\u5143\u7d20\u4e2d\u5fc3\u70b9\u5bf9\u9f50)",_cL:"\u7f16\u8f91\u533a\u5782\u76f4\u5c45\u4e2d(\u6309\u4e0bshift\u952e\u5219\u4ee5\u5355\u4e2a\u5143\u7d20\u4e2d\u5fc3\u70b9\u5bf9\u9f50)",_cZ:"\u7eb8\u5f20\u5c3a\u5bf8",_db:"\u662f\u5426\u5206\u9875",_dc:"\u5e38\u7528\u7eb8\u5f20",_df:"\u7eb8\u5f20\u8bbe\u7f6e",_dd:"\u7f29\u5c0f",_de:"\u653e\u5927",_dk:"\u5c55\u5f00\u5de5\u5177\u680f",_dl:"\u6536\u8d77\u5de5\u5177\u680f",_dm:"\u641c\u7d22\u6253\u5370\u9879",_ft:"\u5411\u5de6",_fu:"\u5411\u53f3",_fv:"\u5411\u4e0a",_fw:"\u5411\u4e0b",_hb:"\u5c45\u5de6",_hc:"\u5c45\u4e2d",_hd:"\u5c45\u53f3",_he:"\u5c45\u4e0a",_hf:"\u5c45\u4e2d",_hg:"\u5c45\u4e0b",_hh:"\u659c\u4f53",_hi:"\u4e0b\u5212\u7ebf",_hS:"\u6d4f\u89c8\u56fe\u5e93",_ih:"\u56fe\u7247\u5e93",__iC:"\u56fe\u7247\u7f51\u7edc\u5730\u5740",__hW:"\u786e\u8ba4\u5220\u9664\u8be5\u56fe\u7247\uff1f",__fI:"\u63d0\u793a",_h_:"\u641c\u7d22\u5173\u952e\u8bcd",__dY:"X\u5750\u6807",__dZ:"Y\u5750\u6807",__ef:"\u7f16\u8f91\u9501\u5b9a",__eg:"\u7ec4\u4ef6\u6811\u540d\u79f0",__eb:"\u900f\u660e\u5ea6",__eK:"\u5bbd",__eL:"\u9ad8",__eo:"\u65cb\u8f6c\u89d2\u5ea6",__fq:"\u6c34\u5e73\u76f4\u7ebf",__eh:"\u5782\u76f4\u76f4\u7ebf",__ei:"\u7ebf\u6761\u957f\u5ea6",__ej:"\u7ebf\u6761\u5bbd\u5ea6",__ek:"\u7ebf\u6761\u6837\u5f0f",___:"\u5b9e\u7ebf",__a:"\u865a\u7ebf",__b:"\u70b9\u7ebf",__eR:"\u77e9\u5f62",__eV:"\u8fb9\u6846\u6837\u5f0f",__eU:"\u8fb9\u6846\u5bbd\u5ea6",__eW:"\u662f\u5426\u586b\u5145",__eS:"\u77e9\u5f62\u5bbd\u5ea6",__eT:"\u77e9\u5f62\u9ad8\u5ea6",__fp:"\u7eb5\u5411\u6761\u7801",__dX:"\u6a2a\u5411\u6761\u7801",__eN:"\u4e8c\u7ef4\u7801",__e_:"\u6761\u7801\u5bbd\u5ea6",__ea:"\u6761\u7801\u9ad8\u5ea6",__eO:"\u4e8c\u7ef4\u7801\u5bbd\u5ea6",__eP:"\u4e8c\u7ef4\u7801\u9ad8\u5ea6",__ec:"\u5185\u5bb9",__ee:"\u663e\u793a\u6587\u672c",__ed:"\u7801\u5f0f",__eQ:"\u6a21\u5f0f",__eI:"\u56fe\u7247",__eJ:"\u9009\u62e9\u56fe\u7247",__eM:"\u8fd8\u539f\u5bbd\u9ad8",__eX:"\u8868\u683c",__fe:"\u5355\u5143\u683c\u9009\u53d6",__fg:"\u5355\u5143\u683c\u5bbd\u9ad8",__ff:"\u5355\u5143\u683c\u64cd\u4f5c",__fb:"\u5206\u9875\u6253\u5370",__fa:"\u9690\u85cf\u8fb9\u6846",__eY:"\u8868\u683c\u5bbd",__eZ:"\u8868\u683c\u9ad8",__fc:"\u5747\u5206\u5bbd\u5ea6",__fd:"\u5747\u5206\u9ad8\u5ea6",__f_:"\u9501\u5b9a\u5bbd\u9ad8",__el:"\u6a2a\u5411\u6587\u672c",__fr:"\u7eb5\u5411\u6587\u672c",__eB:"\u6587\u672c\u522b\u540d",__eA:"\u6587\u672c\u5185\u5bb9",__ez:"\u6392\u5217",__ey:"\u6837\u5f0f",__ex:"\u8f93\u51fa\u65b9\u5411",__ew:"\u5b57\u4f53\u7c97\u7ec6",__et:"\u989c\u8272",__eu:"\u9ed8\u8ba4",__ev:"\u9ed1\u5e95\u767d\u5b57",__es:"\u884c\u9ad8",__er:"\u5b57\u95f4\u8ddd",__eq:"\u5b57\u53f7",__ep:"\u5b57\u4f53",__em:"\u6587\u672c\u957f\u5ea6",__en:"\u6587\u672c\u9ad8\u5ea6",__iD:"\u83dc\u9e1f\u903b\u8f91",_eH:"\u8bf7\u8f93\u5165\u6587\u672c",__c:"\u5b8b\u4f53",__d:"\u9ed1\u4f53",__fo:"\u5220\u9664\u8868\u683c",_aG:"\u6309\u4e0b\u62d6\u52a8\u6216\u4f7f\u7528\u53f3\u952e\u83dc\u5355",_fD:"\u6c34\u5e73\u62c6\u5206\u5355\u5143\u683c",_fE:"\u5782\u76f4\u62c6\u5206\u5355\u5143\u683c",_fC:"\u5411\u4e0b\u5408\u5e76\u5355\u5143\u683c",_fB:"\u5411\u4e0a\u5408\u5e76\u5355\u5143\u683c",_fz:"\u5411\u5de6\u5408\u5e76\u5355\u5143\u683c",_fA:"\u5411\u53f3\u5408\u5e76\u5355\u5143\u683c",_J:"\u5220\u9664\u5f53\u524d\u8f85\u52a9\u7ebf",_K:"\u6309\u4e0b\u62d6\u52a8\u53ef\u8c03\u6574\u8f85\u52a9\u7ebf\u4f4d\u7f6e",_cN:"\u5782\u76f4\u5747\u5206\u6392\u5217(\u6309\u4e0bshift\u952e\u5219\u4f7f\u7528\u5143\u7d20\u4e2d\u5fc3\u70b9\u8fdb\u884c\u5747\u5206,\u6309\u4e0bctrl\u5219\u5e73\u5206\u7f16\u8f91\u533a\u9ad8\u5ea6)",_cO:"\u6c34\u5e73\u5747\u5206\u6392\u5217(\u6309\u4e0bshift\u952e\u5219\u4f7f\u7528\u5143\u7d20\u4e2d\u5fc3\u70b9\u8fdb\u884c\u5747\u5206,\u6309\u4e0bctrl\u5219\u5e73\u5206\u7f16\u8f91\u533a\u5bbd\u5ea6)",_cV:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5927\u5bbd\u5ea6\u540c\u5bbd",_cW:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5c0f\u5bbd\u5ea6\u540c\u5bbd",_cX:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5927\u9ad8\u5ea6\u540c\u9ad8",_cY:"\u6309\u9009\u4e2d\u5143\u7d20\u6700\u5c0f\u9ad8\u5ea6\u540c\u9ad8",_ij:"\u7c98\u8d34\u56fe\u7247",_ik:"\u62d6\u62fd\uff08\u591a\u4e2a\uff09\u4e0a\u4f20",_il:"\u70b9\u51fb\u4e0a\u4f20",_ii:"\u641c\u7d22\u56fe\u7247\u5e93",_im:'\u627e\u4e0d\u5230"{0}"\u7684\u56fe\u7247',__i_:"\u672a\u68c0\u6d4b\u5230\u56fe\u7247\uff0c\u8bf7\u91cd\u65b0\u590d\u5236\u7c98\u8d34",_cr:"\u6682\u65e0\u901a\u7528\u6a21\u677f",__dP:"\u6b63\u5728\u5904\u7406...",_aJ:"\u4fdd\u5b58\u5931\u8d25\uff1a",__dO:'\u7f3a\u5c11\u53c2\u6570"temp_id"\u6216"biz_id"',_aH:"[\u672a\u4fdd\u5b58 {0}]",_aI:"[\u4fdd\u5b58\u4e2d...]",__dM:"\u68c0\u6d4b\u5230\u4e0a\u6b21\u672a\u4fdd\u5b58\u5c31\u9000\u51fa\uff0c\u662f\u5426\u6062\u590d\u5230\u4e0a\u6b21\u7f16\u8f91\u72b6\u6001\uff1f",__dx:"\u5185\u5bb9\u5c1a\u672a\u4fdd\u5b58\uff0c\u786e\u8ba4\u5173\u95ed\uff1f",_d_:"\u9875\u5934",_da:"\u9875\u811a"}}),define("service/index",["magix","$"],function(e,t,r){"use strict";t.__esModule=!0;var i=e("magix"),f=e("$"),n=i.default.Service.extend(function(n,i){var e=n.get("method")||"GET",t=n.get("upload"),r=n.get("params"),A={url:n.get("url"),type:e,data:r,dataType:"json",complete:function(e,t){try{if("error"==t)i({msg:e.statusText});else{var r=e.responseJSON;if(!r||"1"!=r.status)return void i({msg:r?r.message||"server error":"data error"});n.set("data",r.data),i()}}catch(e){i({msg:e.message})}}};if(t){var o=new FormData,a=n.get("key")||"files",s=n.get("files")||[];if(s.length)for(var l=0,c=s;l<c.length;l++){var u=c[l];o.append(a,u)}else o.append(a,s);if(r)for(var d in r)o.append(d,r[d]);A.cache=!1,A.processData=!1,A.contentType=!1,A.data=o}f.default.ajax(A)});n.add([{name:"__dg",url:i.default.config("getComponentsUrl")},{name:"__hU",url:i.default.config("getImagesUrl")},{name:"__hY",url:i.default.config("uploadImagesUrl"),key:i.default.config("uploadImagesKey"),method:"POST",upload:!0},{name:"__cp",url:i.default.config("getTemplatesUrl"),cache:12e4},{name:"__dQ",url:i.default.config("getContentUrl")},{name:"__dB",url:i.default.config("saveContentUrl"),method:"POST"},{name:"__dI",url:i.default.config("uploadThumbImageUrl"),key:i.default.config("thumbImageKey"),method:"POST",upload:!0},{name:"__hX",url:i.default.config("delImageUrl"),method:"POST"}]),t.default={ctor:function(){var e=this;e.on("rendercall",function(){delete e.__iE})},request:function(e){e=e||i.default.guid("r");var t=new n;return this.capture(e,t,!0),t},fetch:function(e,t){var r=JSON.stringify(e);this.request(r).all(e,t)},save:function(e,t){var r=this,n=JSON.stringify(e);r.lock(n,function(){r.request(n+"_request").save(e,t)})},lock:function(e,t){this.__iE||(this.__iE={});var r=this.__iE;r[e]||(r[e]=t)()},unlock:function(e){var t=this.__iE;t&&delete t[e]},upload:function(e,r,n){this.request(r).all({name:"__hY",files:e,params:{biz_id:i.default.config("bizId"),temp_id:i.default.config("tempId")}},function(e,t){n(r,t.get("data",[]))})}}}),define("element/index",["magix","../util/table","./hcode/designer","./hline/designer","./htext/designer","./image/designer","./qrcode/designer","./rect/designer","./table/designer","./vcode/designer","./vline/designer","./vtext/designer"],function(e,t,r){"use strict";t.__esModule=!0;for(var g=e("magix"),v=e("../util/table"),n=e("./hcode/designer"),i=e("./hline/designer"),A=e("./htext/designer"),o=e("./image/designer"),a=e("./qrcode/designer"),s=e("./rect/designer"),l=e("./table/designer"),c=e("./vcode/designer"),u=e("./vline/designer"),d=e("./vtext/designer"),f=[i.default,u.default,s.default,A.default,d.default,o.default,n.default,c.default,a.default,l.default],p=Object.create(null),h=0,m=f;h<m.length;h++){var _=m[h];p[_.type]=_}t.default={list:f,byType:function(e){return p[e]},byJSON:function(e){var d,f=this,t=[],p={},h=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];if("#script"==i.type?t.push(i):i.props.barred||(d=g.default.guid("e_"),i.id&&(p[i.id]=i),i.id=d,i.ctor=f.byType(i.type),t.push(i)),"table"==i.type){for(var A=0,o=i.props.rows;A<o.length;A++){var a=o[A];if("tr"==a.tag)for(var s=0,l=a.cells;s<l.length;s++){var c=l[s];if("td"==c.tag&&c.children){var u=[];h(c.children,u),c.children=u}}}v.default.__h(i.props)}}};return h(e,t),{elements:t,map:p}}}}),define("element/hcode/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/hcode/index"}),s.init.apply(this,arguments)}},{title:"__dX",type:"hcode",modifier:{resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:151.18,alpha:1,rotate:0,height:90.71,locked:!1,text:"",showText:!1,type:"code128",tip:a.default("__dX")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__e_",key:"width",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__ea",key:"height",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eb",type:i.default.NUMBER,fixed:1,step:.1,max:1,min:"0",key:"alpha"},{tip:"__ec",type:i.default.TEXTAREA,styleVTop:1,key:"text"},{tip:"__ed",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",key:"type",items:o.default.BARCODES},{tip:"__ee",type:i.default.BOOLEAN,key:"showText"},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",role:"free",type:i.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="4" height="30" x="10" y="15" style="fill:#fff;"/><rect width="2" height="30" x="16" y="15" style="fill:#fff;"/><rect width="2" height="30" x="20" y="15" style="fill:#fff;"/><rect width="8" height="30" x="24" y="15" style="fill:#fff;"/><rect width="2" height="30" x="35" y="15" style="fill:#fff;"/><rect width="3" height="30" x="39" y="15" style="fill:#fff;"/><rect width="2" height="30" x="43" y="15" style="fill:#fff;"/><rect width="4" height="30" x="46" y="15" style="fill:#fff;"/></svg>'})}),define("element/hcode/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i="https://img.alicdn.com/tfs/",A={upca:i+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upce:i+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upca_text:i+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",upce_text:i+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",code128:i+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code93:i+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",c25inter:i+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code128_text:i+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code93_text:i+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",c25inter_text:i+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code39:i+"TB1NXIiqkomBKNjSZFqXXXtqVXa-448-100.svg",code39_text:i+"TB1TdocqiMnBKNjSZFoXXbOSFXa-448-122.svg",ean8:i+"TB1mIuAqlnTBKNjSZPfXXbf1XXa-134-100.svg",ean8_text:i+"TB1rOARqiAnBKNjSZFvXXaTKXXa-134-122.svg",ean13:i+"TB1n8RrqCcqBKNjSZFgXXX_kXXa-190-112.svg",ean13_text:i+"TB1stsuqcj_B1NjSZFHXXaDWpXa-214-122.svg",itf14:i+"TB1Y247qdknBKNjSZKPXXX6OFXa-270-100.svg",itf14_text:i+"TB1PDcUqkUmBKNjSZFOXXab2XXa-270-122.svg"};t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.width,c=e.height,u=e.alpha,d=e.x,f=e.y,p=e.zIndex,h=e.codeMap,g=e.type,v=e.showText,m=l<=1||c<=1||0==u;s+='<div style="left:'+n(d)+"px;top:"+n(f)+"px;width:"+n(l)+"px;height:"+n(c)+"px;z-index:"+n(p)+";",m&&(s+="border:dotted 1px #ff000030"),s+='" class="pe-t">';var _=h[g+(v?"_text":"")];return s+=" ",s+=_?'<img style="width:100%;height:100%;opacity:'+n(u)+';" src="'+n(_)+'">':" \u6682\u4e0d\u652f\u6301"+n(g)+"\u7684\u9884\u89c8 ",s+="</div>"},init:function(e){this.assign(e),this.updater.set({codeMap:A})},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/hline/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/hline/index"}),s.init.apply(this,arguments)}},{title:"__eh",type:"hline",modifier:{resize:!0,resizeX:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,rotate:0,width:75.59,height:1.33,type:"solid",locked:!1,tip:a.default("__eh")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__ei",key:"width",type:i.default.NUMBER,min:.01,fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__ej",key:"height",type:i.default.NUMBER,min:.01,fixed:2,max:2800,read:A.default.__j,write:A.default.__g},{tip:"__ek",key:"type",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:o.default.LINE_TYPES},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",type:i.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M 10 29 L 50 29" style="stroke:#fff;stroke-width:2"/></svg>'})}),define("element/hline/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.x,c=e.y,u=e.width,d=e.type,f=e.height,p=e.zIndex;return s+='<div style="left:'+n(l)+"px;top:"+n(c)+"px;width:"+n(u<1?1:u)+"px;border-top:"+n(d)+" "+n(f<1?1:f)+"px #000;z-index:"+n(p)+'" class="pe-t"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/htext/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/htext/index"}),s.init.apply(this,arguments)}},{title:"__el",type:"htext",modifier:{rotate:!0,resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},writeAdapter:function(e,t){return e?(t._x=t.x,t._y=t.y,t._width=t.width,t._height=t.height,t.x=.76,t.y=.76,t.width=-3.77,t.height=-3.77):(t.x=t._x,t.y=t._y,t.width=t._width,t.height=t._height),t.xLocked=e,t.yLocked=e,t.widthLocked=e,t.heightLocked=e,t.zIndex=0,e},getProps:function(e,t){return{zIndex:0,x:e,y:t,width:94.49,height:18.9,locked:!1,rotate:0,alpha:1,supportCNStyle:!1,useCNStyle:!1,fontFamily:"SimHei",fontSize:8,lineHeight:["","mm"],fontStyle:[],align:["left","top"],letterSpacing:0,fontWeight:"normal",text:"",alias:"",direction:"ltr",color:"-1",tip:a.default("__el"),allowEdit:1}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__em",key:"width",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__en",key:"height",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eo",key:"rotate",type:i.default.NUMBER,min:-360,max:360},{tip:"__eb",key:"alpha",type:i.default.NUMBER,min:"0",max:1,fixed:1,step:.1},{tip:"__ep",key:"fontFamily",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:o.default.FONT_FAMILIES},{tip:"__eq",key:"fontSize",type:i.default.NUMBER,min:"0"},{tip:"__er",key:"letterSpacing",type:i.default.NUMBER,min:"0"},{tip:"__es",key:"lineHeight",type:i.default.LINEHEIGHT,min:"0"},{tip:"__et",key:"color",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:[{text:"__eu",value:"-1"},{text:"__ev",value:1}]},{tip:"__ew",key:"fontWeight",type:i.default.DROPDOWN,items:o.default.FONT_WEIGHTS},{tip:"__ex",key:"direction",type:i.default.DROPDOWN,items:o.default.DIRECTIONS},{tip:"__ey",key:"fontStyle",type:i.default.FONTSTYLE},{tip:"__ez",key:"align",type:i.default.FONTALIGN},{tip:"__eA",styleVTop:1,key:"text",type:i.default.TEXTAREA,gtKey:"allowEdit",gtValue:0},{tip:"__eB",key:"alias",type:i.default.INPUT,gtKey:"allowEdit",gtValue:0,refresh:!0,sync:"tip"},{type:i.default.SPLITER},{tip:"__ef",type:i.default.BOOLEAN,key:"locked",role:"free"},{tip:"__eg",key:"tip",type:i.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path style="stroke:#fff;stroke-width:2" d="M 15 20 L 45 20 M 17 31 L 30 31 M 15 40 L 38 40" /></svg>'})}),define("element/htext/index",["magix","../../util/converter"],function(e,t,r){"use strict";t.__esModule=!0;var i=e("magix"),n=e("../../util/converter");t.default=i.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.color,c=e.useCNStyle,u=e.width,d=e.height,f=e.alpha,p=e.x,h=e.y,g=e.rotate,v=e.fontFamily,m=e.fontSize,_=e.scale,w=e.letterSpacing,B=e.lineHeight,y=e.direction,x=e.fontWeight,b=e.fontStyle,C=e.flexMap,Q=e.align,E=e.zIndex,U=e.vId,F=e.alias,S=e.toHTML,H=e.text,T=e.i18n,k="1"!=l&&!c&&(u<=1||d<=1||0==f);return s+='<div class="pe-t" style="left:'+n(p)+"px;top:"+n(h)+"px;transform:rotate("+n(g)+"deg);font-family:'"+n(v)+"';font-size:"+n(m*_)+"pt;letter-spacing:"+n(w)+"pt;",""!==B[0]&&(s+="line-height:"+n(B[0])+n(B[1])+";"),s+="width:",s+=c?"92%":n(u)+"px",s+=";height:",s+=c?"92%":n(d)+"px",s+=";direction:"+n(y)+";",s+="1"==l?"color:#fff;background-color:#000;":"color:#000;background-color:#fff;",s+="font-weight:"+n(x)+";",b[0]&&(s+="font-style:italic;"),b[1]&&(s+="text-decoration:underline;"),s+="overflow:hidden;display:flex;align-items:"+n(C[Q[1]])+";justify-content:"+n(C[Q[0]])+";z-index:"+n(E)+";cursor:text;",k&&(s+="border:dotted 1px #ff000030"),s+='"><div style="-webkit-user-modify:read-write-plaintext-only;outline:none;cursor:text;opacity:'+n(f)+';" contenteditable="true" data-role="text-element" mx-focusout="'+t+'\x1e__eG()" mx-input="'+t+'\x1e__eF()" id="area_'+n(U)+'">',s+=F?i(S(F)):H?i(S(H)):n(T("_eH")),s+="</div></div>"},init:function(e){this.assign(e),this.updater.set({flexMap:{left:"flex-start",center:"center",right:"flex-end",bottom:"flex-end",top:"flex-start",middle:"center"},toHTML:n.default.__eC})},assign:function(e){return this.__eD=e,this.updater.set(e.props),this.updater.set({scale:i.State.get("__f")}),e.forceUpdate},render:function(){if(this.updater.digest(),this.updater.get("editable")){var e=$("#area_"+this.id);e.focus();var t=document.createRange();t.selectNodeContents(e[0]),t.collapse(!1);var r=window.getSelection();if(0!=r.anchorOffset)return;r.removeAllRanges(),r.addRange(t)}},"__eF<input>":function(e){var t=n.default.__eE(e.eventTarget.innerHTML);this.__eD.props.text=t},"__eG<focusout>":function(e){var t=this.__eD,r=t.id,n=t.props;n.editable=!1,i.State.fire("__aA"),i.State.fire("__am",{data:n,eId:r}),i.State.fire("__D")}})}),define("element/image/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../i18n/index"),a=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/image/index"}),a.init.apply(this,arguments)}},{title:"__eI",type:"image",modifier:{rotate:!0,resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,width:188.98,height:188.98,tip:o.default("__eI"),rotate:0,src:"//img.alicdn.com/tfs/TB1E1OSryAnBKNjSZFvXXaTKXXa-200-200.png",locked:!1,alpha:1,x:e,y:t}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__eJ",key:"src",type:i.default.IMAGE,updateSize:!0},{tip:"__eK",key:"width",max:2800,type:i.default.NUMBER,min:"0",fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__eL",key:"height",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eo",key:"rotate",type:i.default.NUMBER,min:-360,max:360},{tip:"__eb",key:"alpha",type:i.default.NUMBER,min:"0",max:1,fixed:1,step:.1},{tip:"__eM",type:i.default.ORIGINSIZE},{type:i.default.SPLITER},{tip:"__ef",type:i.default.BOOLEAN,key:"locked",role:"free"},{tip:"__eg",key:"tip",type:i.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="32" height="28" x="14" y="16" style="fill:none;stroke-width:2;stroke:#fff" rx="2" ry="2"/><circle cx="22" cy="24" r="4" style="fill:#fff" /><path style="stroke:#fff;stroke-width:2;fill:none" d="M 14 42 L 22 34 L 36 39 L 46 26" /></svg>'})}),define("element/image/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.width,c=e.height,u=e.alpha,d=e.src,f=e.x,p=e.y,h=e.rotate,g=e.zIndex,v=l<=1||c<=1||0==u;return s+='<div style="',s+=d?"width:"+n(l)+"px;height:"+n(c)+"px;":"width:100px;height:100px;",s+="left:"+n(f)+"px;top:"+n(p)+"px;transform:rotate("+n(h)+"deg);z-index:"+n(g)+";",v&&(s+="border:dotted 1px #ff000030"),s+='" class="pe-t"><img style="width:100%;height:100%;opacity:'+n(u)+';" src="',d&&(s+=n(d)),s+='" ',d||(s+=' alt="\u8bf7\u8bbe\u7f6e\u56fe\u7247" '),s+="/></div>"},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/qrcode/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/qrcode/index"}),s.init.apply(this,arguments)}},{title:"__eN",type:"qrcode",modifier:{resize:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:113.39,alpha:1,rotate:0,height:113.39,locked:!1,text:"",schema:2,primary:"",type:"qrcode",tip:a.default("__eN")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__eO",key:"width",type:i.default.NUMBER,min:"0",max:2800,fixed:2,refresh:!0,sync:"height",read:A.default.__i,write:A.default.__e},{tip:"__eP",key:"height",type:i.default.NUMBER,min:"0",max:2800,sync:"width",fixed:2,refresh:!0,read:A.default.__i,write:A.default.__e},{tip:"__eb",type:i.default.NUMBER,fixed:1,step:.1,max:1,min:"0",key:"alpha"},{tip:"__ec",type:i.default.TEXTAREA,styleVTop:1,key:"text"},{tip:"__ed",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",key:"type",refresh:!0,items:o.default.QRCODES},{tip:"__eQ",type:i.default.DROPDOWN,ifKey:"type",ifValue:"maxicode",key:"schema",items:o.default.QRCODES_MAXICODE_SCHEMA},{tip:"primary",type:i.default.INPUT,key:"primary",ifKey:"type",ifValue:"maxicode"},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",role:"free",type:i.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="16" height="16" x="10" y="10" style="fill:none;stroke-width:2;stroke:#fff"/><rect width="16" height="16" x="34" y="10" style="fill:none;stroke-width:2;stroke:#fff"/><rect width="16" height="16" x="10" y="34" style="fill:none;stroke-width:2;stroke:#fff"/><rect width="6" height="6" x="15" y="15" style="fill:#fff;"/><rect width="6" height="6" x="39" y="15" style="fill:#fff;"/><rect width="6" height="6" x="15" y="39" style="fill:#fff;"/><rect width="4" height="4" x="34" y="34" style="fill:#fff;"/><rect width="4" height="4" x="46" y="34" style="fill:#fff;"/><rect width="4" height="8" x="38" y="38" style="fill:#fff;"/><rect width="4" height="4" x="34" y="46" style="fill:#fff;"/><rect width="5" height="4" x="43" y="46" style="fill:#fff;"/><rect width="4" height="8" x="46" y="42" style="fill:#fff;"/></svg>'})}),define("element/qrcode/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.width,c=e.height,u=e.alpha,d=e.x,f=e.y,p=e.zIndex,h=l<=1||c<=1||0==u;return s+='<div style="left:'+n(d)+"px;top:"+n(f)+"px;width:"+n(l)+"px;height:"+n(c)+"px;z-index:"+n(p)+";",h&&(s+="border:dotted 1px #ff000030"),s+='" class="pe-t"><img style="width:100%;height:100%;opacity:'+n(u)+';" src="https://img.alicdn.com/tfs/TB1NQQvqlsmBKNjSZFFXXcT9VXa-250-250.svg"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/rect/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/rect/index"}),s.init.apply(this,arguments)}},{title:"__eR",type:"rect",modifier:{resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:98.27,borderWidth:1,borderType:"solid",fill:!1,rotate:0,height:98.27,locked:!1,tip:a.default("__eR")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__eS",key:"width",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eT",key:"height",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eU",key:"borderWidth",type:i.default.NUMBER,min:"0"},{tip:"__eV",key:"borderType",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:o.default.LINE_TYPES},{tip:"__eW",key:"fill",type:i.default.BOOLEAN},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",role:"free",type:i.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="42" height="28" x="9" y="16" style="fill:none;stroke-width:2;stroke:#fff"/></svg>'})}),define("element/rect/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.borderWidth,c=e.fill,u=e.x,d=e.y,f=e.width,p=e.height,h=e.scale,g=e.borderType,v=e.zIndex,m=!(l||c);if(s+='<div style="left:'+n(u)+"px;top:"+n(d)+"px;width:"+n(f)+"px;height:"+n(p)+"px;",l){f=l*h;s+="border:"+n(g)+" "+n(f<1?1:f)+"px #000;"}return c&&(s+="background-color:#000;"),s+="z-index:"+n(v)+";",m&&(s+="border:dotted 1px #ff000030"),s+='" class="pe-t"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),this.updater.set({scale:n.State.get("__f")}),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/table/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index","../../util/table"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=e("../../util/table"),l=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/table/index"}),l.init.apply(this,arguments)}},{title:"__eX",type:"table",modifier:{},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,rotate:0,width:3*o.default.TABLE_CELLS_WIDTH,height:2*o.default.TABLE_ROWS_HEIGHT,rowIndex:-1,colIndex:-1,splitable:!0,hideBorder:!1,lockSize:!1,rows:[{tag:"tr",cells:[{tag:"td",height:o.default.TABLE_ROWS_HEIGHT,width:o.default.TABLE_CELLS_WIDTH},{tag:"td",height:o.default.TABLE_ROWS_HEIGHT,width:o.default.TABLE_CELLS_WIDTH},{tag:"td",height:o.default.TABLE_ROWS_HEIGHT,width:o.default.TABLE_CELLS_WIDTH}]},{tag:"tr",cells:[{tag:"td",height:o.default.TABLE_ROWS_HEIGHT,width:o.default.TABLE_CELLS_WIDTH},{tag:"td",height:o.default.TABLE_ROWS_HEIGHT,width:o.default.TABLE_CELLS_WIDTH},{tag:"td",height:o.default.TABLE_ROWS_HEIGHT,width:o.default.TABLE_CELLS_WIDTH}]}],locked:!1,tip:a.default("__eX")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__eY",key:"width",type:i.default.LABEL,read:A.default.__i},{tip:"__eZ",key:"height",type:i.default.LABEL,read:A.default.__i},{tip:"__f_",key:"lockSize",type:i.default.BOOLEAN,write:function(e,t){return t.lockSize=e,s.default.__h(t),e}},{tip:"__fa",key:"hideBorder",type:i.default.BOOLEAN},{tip:"__fb",key:"splitable",type:i.default.BOOLEAN},{tip:"__fc",type:i.default.CELLCOLSHARE},{tip:"__fd",type:i.default.CELLROWSHARE},{tip:"__fe",type:i.default.CELLFOCUS,gtKey:"rowIndex",gtValue:-1},{tip:"__ff",styleVTop:1,type:i.default.CELLOPERATE,gtKey:"rowIndex",gtValue:-1},{tip:"__fg",styleVTop:1,type:i.default.CELLSIZE,gtKey:"rowIndex",gtValue:-1},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",role:"free",type:i.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path style="stroke:#fff;stroke-width:2;fill:none" d="M 10 14 L 50 14 L 50 46 L 10 46 L 10 14" /><path style="stroke:#fff;stroke-width:1;fill:none" d="M 10 24 L 50 24 M 10 34 L 50 34 M 23 14 L 23 46 M 36 14 L 36 46" /></svg>'})}),define("element/table/index",["magix","$","../../editor/core/workaround","../../gallery/mx-dragdrop/index","../../util/table","../../cainiao/const","../../editor/const/keys","../../util/converter"],function(e,t,r){"use strict";var n;t.__esModule=!0;var B=e("magix"),_=e("$"),w=e("../../editor/core/workaround"),i=e("../../gallery/mx-dragdrop/index"),y=e("../../util/table"),x=e("../../cainiao/const"),A=e("../../editor/const/keys"),b=e("../../util/converter"),o=((n={})[A.default.L]="left",n[A.default.R]="right",n[A.default.U]="top",n[A.default.D]="bottom",n[A.default.T]="top",n[A.default.B]="bottom",n),C={8:"rt",9:"rb",10:"r",11:"cb",12:"ca",13:"c"};B.default.applyStyle("pe-l",".pe-bD{border-collapse:collapse;border:1px solid #000;border-spacing:0}.pe-bE{border-collapse:collapse;border:1px solid #000;position:relative;padding:0}.pe-bF{overflow:hidden;position:relative;width:100%;height:100%}.pe-bG,.pe-bH{border:1px solid #f99;left:-1px;top:-1px;right:-1px;bottom:-1px;position:absolute;pointer-events:none}.pe-bI{background:#f99;position:absolute;z-index:3;pointer-events:all}.pe-bJ{cursor:ns-resize}.pe-bK{cursor:ew-resize}.pe-bL{left:-20px;top:20px;color:#c3c3c3;cursor:pointer;transition:color .4s}.pe-bL:hover{color:#000}.pe-ag .pe-bL{visibility:hidden}.pe-bM{border-style:dotted;border-color:#ececec}.pe-bG{box-shadow:inset 2px 2px 4px rgba(0,0,0,.2)}"),t.default=B.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.x,c=e.y,u=e.width,d=e.height,f=e.zIndex,p=e.i18n,h=e.hideBorder,g=e.rows,v=e.vId,m=e.rowIndex,_=e.colIndex,w=e.size;s+='<div mxv style="left:'+n(l)+"px;top:"+n(c)+"px;width:"+n(u)+"px;height:"+n(d)+"px;z-index:"+n(f)+'" class="pe-t"><div class="pe-t pe-bL" mx-mousedown="'+t+'\x1e__fn()" mx-click="'+t+'\x1e__fo()" title="'+n(p("__fo"))+'"><i mxs="pe-r:_" class="pe-N">&#xe600;</i></div><table mxv class="pe-bD',h&&(s+=" pe-bM"),s+='">';for(var B=0,y=g.length;B<y;B++){var x=g[B];if(s+=" ","tr"==x.tag){s+="<tr mxv>";for(var b=0,C=x.cells,Q=C.length;b<Q;b++){var E=C[b];if(s+=" ","td"==E.tag){if(s+='<td mxv class="pe-bE',h&&(s+=" pe-bM"),s+='" style="width:'+n(E.width)+"px;height:"+n(E.height)+'px" mx-mousedown="'+t+"\x1e__fj({row:"+n(B)+",col:"+n(b)+'})" mx-contextmenu="'+t+"\x1e__fm({row:"+n(B)+",col:"+n(b)+'})" id="'+n(v)+"_c_"+n(B)+"_"+n(b)+'" ',E.rowspan&&1<E.rowspan&&(s+=' rowspan="'+n(E.rowspan)+'" '),E.colspan&&1<E.colspan&&(s+=' colspan="'+n(E.colspan)+'" '),s+='><div class="pe-bG pe-v" id="'+n(v)+"_dashed_"+n(B)+"_"+n(b)+'"></div><div mxv mxa="pe-r:_" class="pe-bF" data-role="table-cell">',E.children){s+=" ";for(var U=0,F=E.children,S=F.length;U<S;U++){var H=F[U];s+=" ";var T=H.ctor,k=H.props,N=H.id,I=H.type;s+=" ","#script"!=I&&(s+='<div mxv="rows" id="'+n(N)+'" mx-view="element/'+n(T.type)+"/designer?type="+A(I)+"&ctor="+o(r,T)+"&id="+A(N)+"&props="+o(r,k)+'&cell=true" mx-mousedown="'+t+"\x1e__fi({id:'"+n(a(N))+"',ctor:'"+o(r,T)+"',props:'"+o(r,k)+"',type:'"+n(a(I))+"'})\"></div>"),s+=" "}s+=" "}if(s+="</div>",m==B&&_==b){s+='<div mxa="pe-r:a" class="pe-bH">';var M=Math.max(0,Math.min(8*w,E.width-2*w));s+=" ";var L=Math.max(0,Math.min(8*w,E.height-2*w));s+=" ",E.top&&(s+='<div style="width:'+n(M)+"px;height:"+n(w)+"px;top:"+n(1-w)+"px;left:"+n((E.width-M)/2|0)+'px;" class="pe-bI pe-bJ" mx-mousedown="'+t+"\x1e__aB({type:'row',ri:"+n(E.top.row)+",ci:"+n(E.top.col)+'})"></div>'),s+=" ",E.left&&(s+='<div style="width:'+n(w)+"px;height:"+n(L)+"px;left:-"+n(w-1)+"px;top:"+n((E.height-L)/2|0)+'px" class="pe-bI pe-bK" mx-mousedown="'+t+"\x1e__aB({type:'col',ri:"+n(E.left.row)+",ci:"+n(E.left.col)+'})"></div>'),s+=" ",E.hasBottom&&(s+='<div style="width:'+n(M)+"px;height:"+n(w)+"px;left:"+n((E.width-M)/2|0)+"px;bottom:-"+n(w-1)+'px;" class="pe-bI pe-bJ" mx-mousedown="'+t+"\x1e__aB({type:'row',cell:'"+o(r,E)+"'})\"></div>"),s+=" ",E.hasRight&&(s+='<div style="width:'+n(w)+"px;height:"+n(L)+"px;right:-"+n(w-1)+"px;top:"+n((E.height-L)/2|0)+'px" class="pe-bI pe-bK" mx-mousedown="'+t+"\x1e__aB({type:'col',cell:'"+o(r,E)+"'})\"></div>"),s+="</div>"}s+="</td>"}s+=" "}s+="</tr>"}s+=" "}return s+="</table></div>"},mixins:[i],init:function(r){this.assign(r),this.__q=_.default("#"+this.id);function e(e){var t=r.props;y.default.__fh(t,o[e.key])&&(B.State.fire("__am",{data:t,eId:r.id}),B.State.fire("__aA"))}B.State.on("__bQ",e),this.on("destroy",function(){B.State.off("__bQ",e)})},__at:function(){var e=this,t=this.__eD;t.props.rowIndex=-1,t.props.colIndex=-1,this.assign(t),setTimeout(this.wrapAsync(function(){e.render()}),0)},assign:function(e){var t={};return(this.__eD=e).onlyMove&&(t.rows=1),this.updater.set(e.props,t),this.updater.set({size:x.default.RESIZER_SIZE,scale:B.State.get("__f")}),e.forceUpdate},render:function(){this.updater.digest()},"__fi<mousedown>":function(e){"element_table"!=e.from&&(e.from="element_table",w.StageElements.__bN(e,this))},"__fj<mousedown>":function(e){if("element_table"!=e.from){e.from="element_table";var t=e.params,s=t.row,l=t.col,c=this,u=c.__eD;u.props.rowIndex=s,u.props.colIndex=l,c.assign(u),c.render(),B.State.fire("__aA"),w.StageSelectElements.__bv(u);var d=B.Vframe.get("m_app_stage"),f=b.default.__bG({x:e.pageX,y:e.pageY}),p=_.default(e.eventTarget),h=b.default.__aC(p,{x:e.pageX,y:e.pageY,find:0}),g=!1,v=!1,r=u.props.rows[s].cells[l];r.children||(r.children=[]);var m=w.StageElements.__bH(r);c.dragdrop(e.eventTarget,c.__bg(function(e){if(!v){g=!0;var t=b.default.__bG({x:e.pageX,y:e.pageY});d.invoke("__aW",[f,t]);var r=b.default.__aC(p,{x:e.pageX,y:e.pageY,find:0}),n=Math.abs(f.x-t.x),i=Math.abs(f.y-t.y),A={x:Math.min(h.x,r.x),y:Math.min(h.y,r.y),width:n,height:i},o=w.StageElements.__bJ(m,A,{}),a=JSON.stringify(o,["id"]);a!=c.__bK&&(c.__bK=a,o.length?w.StageSelectElements.__bL(o):(u.props.rowIndex=s,u.props.colIndex=l,c.assign(u),setTimeout(c.wrapAsync(function(){c.render()}),0),w.StageSelectElements.__bv(u)))}},50),function(){g&&(delete c.__bK,v=!0,d.invoke("__aX"))})}},"__aB<mousedown>":function(e){if("element_table"!=e.from){e.from="element_table";var t=this.__eD,u=t.props,d=t.id;if(!u.locked){var r=u.rows,n=e.params,f=n.cell,p=n.type,i=n.ri,A=n.ci;B.State.fire("__av",{cursor:"col"==p?"ew-resize":"ns-resize"}),f||(f=y.default.__fk(r,i,A));var h=e.pageX,g=e.pageY,v=f.height,m=f.width,_=!1;f.id||(f.id=B.default.guid("td_")),B.State.fire("__au",{locked:1});var w={};u.lockSize&&y.default.__h(u,w),this.dragdrop(e.eventTarget,function(e){var t,r=e.pageX-h,n=e.pageY-g,i=0;if(u.lockSize){var A=f.rowspan||1,o=w.rowHeights[f.row+A];(i=o-n)<0?(n=o,i=0):o+v<i&&(i=o+v-1);var a=f.colspan||1,s=w.colWidths[f.col+a];(t=s-r)<0?(r=s,t=0):s+m<t&&(t=s+m)}var l=Math.max(v+n,0),c=Math.max(0,m+r);"row"==p?l!=f.height&&(_=!0,f.height=l):"col"==p&&c!=f.width&&(_=!0,f.width=c),y.default.__h(u,{col:f,changeType:p,nextRow:i,nextCol:t}),B.State.fire("__am",{data:u,eId:d}),B.State.fire("__aA")},function(){_&&B.State.fire("__D"),B.State.fire("__au"),B.State.fire("__av")})}}},"__fm<contextmenu>":function(e){if("element_table"!=e.from){e.from="element_table",e.preventDefault();var r=w.StageSelectElements.__bF(),n=this,t=n.__eD,i=t.id,A=t.props,o=e.params,a=o.row,s=o.col,l=A.rows[a],c=x.default.TABLE_ROWS_HEIGHT,u=x.default.TABLE_CELLS_WIDTH,d=[];if(l&&l.cells[s]){var f=l.cells[s];c=f.height,u=f.width,f.children?d=f.children:f.children=d=[]}for(var p=[],h=0,g=d;h<g.length;h++){var v=g[h];"#script"==v.type||v.props.useCNStyle||p.push(v)}var m=_.default(e.eventTarget).offset();n.__cc={x:e.pageX-m.left,y:e.pageY-m.top},w.StageElements.__cd(n,e,i,p,function(e){if(0==e.id)p.length&&w.StageSelectElements.__bL(p);else if(1==e.id)w.Clipboard.__bU();else if(14==e.id)w.Clipboard.__c_();else if(2==e.id)w.Clipboard.__bY({coll:d,collType:"td",width:u,height:c},n.__cc),B.State.fire("__D");else if(7==e.id){var t=w.StageElements.__bS(!0);n.updater.digest({elements:t}),B.State.fire("__D")}else 3<=e.id&&e.id<=6?(w.StageElements.__ce(e.id,r[0],p),n.updater.digest(A),B.State.fire("__D")):8<=e.id&&e.id<=13&&(y.default.__fl(A,C[e.id]),B.State.fire("__aA"),B.State.fire("__am",{data:A,eId:i}),B.State.fire("__D"))})}},"__fn<mousedown>":function(e){e.from="element_table"},"__fo<click>":function(){var e=this.__eD.id;w.StageElements.__ba(e,!1),B.State.fire("__aZ"),B.State.fire("__D")}})}),define("element/vcode/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/vcode/index"}),s.init.apply(this,arguments)}},{title:"__fp",type:"vcode",modifier:{resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,width:151.18,alpha:1,height:90.71,locked:!1,text:"",rotate:90,showText:!1,type:"code128",tip:a.default("__fp")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__e_",key:"width",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__ea",key:"height",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eb",type:i.default.NUMBER,fixed:1,step:.1,max:1,min:"0",key:"alpha"},{tip:"__ec",type:i.default.TEXTAREA,styleVTop:1,key:"text"},{tip:"__ed",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",key:"type",items:o.default.BARCODES},{tip:"__ee",type:i.default.BOOLEAN,key:"showText"},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",role:"free",type:i.default.INPUT}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><rect width="30" height="4" x="15" y="10" style="fill:#fff;"/><rect width="30" height="2" x="15" y="16" style="fill:#fff;"/><rect width="30" height="2" x="15" y="20" style="fill:#fff;"/><rect width="30" height="8" x="15" y="24" style="fill:#fff;"/><rect width="30" height="2" x="15" y="35" style="fill:#fff;"/><rect width="30" height="3" x="15" y="39" style="fill:#fff;"/><rect width="30" height="2" x="15" y="43" style="fill:#fff;"/><rect width="30" height="4" x="15" y="46" style="fill:#fff;"/></svg>'})}),define("element/vcode/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i="https://img.alicdn.com/tfs/",A={upca:i+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upce:i+"TB1VkRRqcUrBKNjSZPxXXX00pXa-190-112.svg",upca_text:i+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",upce_text:i+"TB1NTQHqlsmBKNjSZFsXXaXSVXa-222-122.svg",code128:i+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code93:i+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",c25inter:i+"TB1t77KqljTBKNjSZFNXXasFXXa-312-100.svg",code128_text:i+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code93_text:i+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",c25inter_text:i+"TB1A_MKqljTBKNjSZFNXXasFXXa-312-122.svg",code39:i+"TB1NXIiqkomBKNjSZFqXXXtqVXa-448-100.svg",code39_text:i+"TB1TdocqiMnBKNjSZFoXXbOSFXa-448-122.svg",ean8:i+"TB1mIuAqlnTBKNjSZPfXXbf1XXa-134-100.svg",ean8_text:i+"TB1rOARqiAnBKNjSZFvXXaTKXXa-134-122.svg",ean13:i+"TB1n8RrqCcqBKNjSZFgXXX_kXXa-190-112.svg",ean13_text:i+"TB1stsuqcj_B1NjSZFHXXaDWpXa-214-122.svg",itf14:i+"TB1Y247qdknBKNjSZKPXXX6OFXa-270-100.svg",itf14_text:i+"TB1PDcUqkUmBKNjSZFOXXab2XXa-270-122.svg"};t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.width,c=e.height,u=e.alpha,d=e.x,f=e.y,p=e.rotate,h=e.zIndex,g=e.codeMap,v=e.type,m=e.showText,_=l<=1||c<=1||0==u;s+='<div style="left:'+n(d)+"px;top:"+n(f)+"px;width:"+n(l)+"px;height:"+n(c)+"px;transform:rotate("+n(p)+"deg);z-index:"+n(h)+";",_&&(s+="border:dotted 1px #ff000030"),s+='" class="pe-t">';var w=g[v+(m?"_text":"")];return s+=" ",s+=w?'<img style="width:100%;height:100%;opacity:'+n(u)+';" src="'+n(w)+'">':" \u6682\u4e0d\u652f\u6301"+n(v)+"\u7684\u9884\u89c8 ",s+="</div>"},init:function(e){this.assign(e),this.updater.set({codeMap:A})},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/vline/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/vline/index"}),s.init.apply(this,arguments)}},{title:"__fq",type:"vline",modifier:{resize:!0,resizeY:!0},getProps:function(e,t){return{zIndex:0,x:0+e,y:0+t,rotate:0,width:1.33,type:"solid",height:75.59,locked:!1,tip:a.default("__fq")}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__ei",key:"height",type:i.default.NUMBER,min:.01,fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__ej",key:"width",type:i.default.NUMBER,min:.01,fixed:2,max:2800,read:A.default.__j,write:A.default.__g},{tip:"__ek",key:"type",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:o.default.LINE_TYPES},{type:i.default.SPLITER},{tip:"__ef",key:"locked",type:i.default.BOOLEAN,role:"free"},{tip:"__eg",key:"tip",type:i.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path d="M 29 10 L 29 50" style="stroke:#fff;stroke-width:2"/></svg>'})}),define("element/vline/index",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.x,c=e.y,u=e.height,d=e.type,f=e.width,p=e.zIndex;return s+='<div style="left:'+n(l)+"px;top:"+n(c)+"px;height:"+n(u<1?1:u)+"px;border-left:"+n(d)+" "+n(f<1?1:f)+"px #000;z-index:"+n(p)+'" class="pe-t"></div>'},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e.props),e.forceUpdate},render:function(){this.updater.digest()}})}),define("element/vtext/designer",["../../editor/core/designer","../../editor/const/props-desc","../../util/converter","../../cainiao/const","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("../../editor/core/designer"),i=e("../../editor/const/props-desc"),A=e("../../util/converter"),o=e("../../cainiao/const"),a=e("../../i18n/index"),s=n.default.prototype;t.default=n.default.extend({init:function(){this.updater.set({elementPath:"element/vtext/index"}),s.init.apply(this,arguments)}},{title:"__fr",type:"vtext",modifier:{rotate:!0,resize:!0,resizeX:!0,resizeY:!0,resizeXY:!0},writeAdapter:function(e,t){return e?(t._x=t.x,t._y=t.y,t._width=t.width,t._height=t.height,t.x=.76,t.y=.76,t.width=-3.77,t.height=-3.77):(t.x=t._x,t.y=t._y,t.width=t._width,t.height=t._height),t.xLocked=e,t.yLocked=e,t.widthLocked=e,t.heightLocked=e,t.zIndex=0,e},getProps:function(e,t){return{x:e,y:t,zIndex:0,width:22.68,height:128.5,locked:!1,rotate:0,alpha:1,supportCNStyle:!1,useCNStyle:!1,fontFamily:"SimHei",fontSize:8,lineHeight:["","mm"],fontStyle:[],align:["left","top"],letterSpacing:0,fontWeight:"normal",text:"",alias:"",direction:"ltr",color:"-1",tip:a.default("__fr"),allowEdit:1}},props:[{tip:"__dY",key:"x",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__dZ",key:"y",type:i.default.NUMBER,fixed:2,read:A.default.__i,write:A.default.__e},{tip:"__em",key:"width",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__en",key:"height",type:i.default.NUMBER,min:"0",fixed:2,max:2800,read:A.default.__i,write:A.default.__e},{tip:"__eo",key:"rotate",type:i.default.NUMBER,min:-360,max:360},{tip:"__eb",key:"alpha",type:i.default.NUMBER,min:"0",max:1,fixed:1,step:.1},{tip:"__ep",key:"fontFamily",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:o.default.FONT_FAMILIES},{tip:"__eq",key:"fontSize",type:i.default.NUMBER,min:"0"},{tip:"__er",key:"letterSpacing",type:i.default.NUMBER,min:"0"},{tip:"__es",key:"lineHeight",type:i.default.LINEHEIGHT,min:"0"},{tip:"__et",key:"color",type:i.default.DROPDOWN,textKey:"text",valueKey:"value",items:[{text:"__eu",value:"-1"},{text:"__ev",value:1}]},{tip:"__ew",key:"fontWeight",type:i.default.DROPDOWN,items:o.default.FONT_WEIGHTS},{tip:"__ex",key:"direction",type:i.default.DROPDOWN,items:o.default.DIRECTIONS},{tip:"__ey",key:"fontStyle",type:i.default.FONTSTYLE},{tip:"__ez",key:"align",type:i.default.FONTALIGN},{tip:"__eA",key:"text",type:i.default.TEXTAREA,styleVTop:1,gtKey:"allowEdit",gtValue:0},{tip:"__eB",key:"alias",type:i.default.INPUT,gtKey:"allowEdit",gtValue:0},{type:i.default.SPLITER},{tip:"__ef",type:i.default.BOOLEAN,key:"locked",role:"free"},{tip:"__eg",key:"tip",type:i.default.INPUT,role:"free"}],icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 60 60"><path style="stroke:#fff;stroke-width:2" d="M 20 15 L 20 45 M 31 17 L 31 30 M 40 15 L 40 38" /></svg>'})}),define("element/vtext/index",["magix","../../util/converter"],function(e,t,r){"use strict";t.__esModule=!0;var i=e("magix"),n=e("../../util/converter");t.default=i.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.color,c=e.useCNStyle,u=e.width,d=e.height,f=e.alpha,p=e.x,h=e.y,g=e.rotate,v=e.fontFamily,m=e.fontSize,_=e.scale,w=e.letterSpacing,B=e.lineHeight,y=e.direction,x=e.fontWeight,b=e.fontStyle,C=e.flexMap,Q=e.align,E=e.zIndex,U=e.vId,F=e.alias,S=e.toHTML,H=e.text,T=e.i18n,k="1"!=l&&!c&&(u<=1||d<=1||0==f);return s+='<div class="pe-t" style="left:'+n(p)+"px;top:"+n(h)+"px;transform:rotate("+n(g)+"deg);font-family:'"+n(v)+"';font-size:"+n(m*_)+"pt;letter-spacing:"+n(w)+"pt;",""!==B[0]&&(s+="line-height:"+n(B[0])+n(B[1])+";"),s+="width:",s+=c?"92%":n(u)+"px",s+=";height:",s+=c?"92%":n(d)+"px",s+=";direction:"+n(y)+";overflow:hidden;writing-mode:tb-rl;",s+="1"==l?"color:#fff;background-color:#000;":"color:#000;background-color:#fff;",s+="font-weight:"+n(x)+";",b[0]&&(s+="font-style:italic;"),b[1]&&(s+="text-decoration:underline;"),s+="display:flex;align-items:"+n(C[Q[1]])+";justify-content:"+n(C[Q[0]])+";z-index:"+n(E)+";cursor:text;",k&&(s+="border:dotted 1px #ff000030"),s+='"><div style="-webkit-user-modify:read-write-plaintext-only;outline:none;cursor:text;opacity:'+n(f)+';" contenteditable="true" data-role="text-element" mx-focusout="'+t+'\x1e__eG()" mx-input="'+t+'\x1e__eF()" id="area_'+n(U)+'">',s+=F?i(S(F)):H?i(S(H)):n(T("_eH")),s+="</div></div>"},init:function(e){this.assign(e),this.updater.set({flexMap:{left:"flex-start",center:"center",right:"flex-end",bottom:"flex-end",top:"flex-start",middle:"center"},originMap:{"left,top":"top right","left,middle":"top center","left,bottom":"top left","center,top":"center right","center,middle":"center center","center,bottom":"center left","right,top":"bottom right","right,middle":"bottom center","right,bottom":"bottom left"},toHTML:n.default.__eC})},assign:function(e){return this.__eD=e,this.updater.set(e.props),this.updater.set({scale:i.State.get("__f")}),e.forceUpdate},render:function(){if(this.updater.digest(),this.updater.get("editable")){var e=$("#area_"+this.id);e.focus();var t=document.createRange();t.selectNodeContents(e[0]),t.collapse(!1);var r=window.getSelection();if(0!=r.anchorOffset)return;r.removeAllRanges(),r.addRange(t)}},"__eF<input>":function(e){var t=n.default.__eE(e.eventTarget.innerHTML);this.__eD.props.text=t},"__eG<focusout>":function(e){var t=this.__eD,r=t.id,n=t.props;n.editable=!1,i.State.fire("__aA"),i.State.fire("__am",{data:n,eId:r}),i.State.fire("__D")}})}),define("editor/index",["magix","./const/click-desc","../gallery/mx-dialog/index","../cainiao/const","./core/history","./core/store","../element/index","../i18n/index","./core/cursor","./core/mask","../cainiao/serializer","../service/index","../gallery/mx-runner/index","./core/draft","./core/toolbox","./core/toolbar","./core/axis","./core/stage","./core/property"],function(e,t,r){e("./core/draft"),e("./core/toolbox"),e("./core/toolbar"),e("./core/axis"),e("./core/stage"),e("./core/property"),t.__esModule=!0;var f=e("magix"),A=e("./const/click-desc"),n=e("../gallery/mx-dialog/index"),a=e("../cainiao/const"),s=e("./core/history"),l=e("./core/store"),p=e("../element/index"),c=e("../i18n/index"),i=e("./core/cursor"),u=e("./core/mask"),d=e("../cainiao/serializer"),o=e("../service/index"),h=e("../gallery/mx-runner/index"),g=f.default.mix;f.default.applyStyle("pe-h",".pe-aJ{height:40px;line-height:40px;font-size:16px;padding:0 10px;background:#06f;color:#fff;position:relative;z-index:3000}.pe-aK{height:calc(100% - 40px)}.pe-aL{width:calc(100% - 475px);height:calc(100% - 45px)}.pe-aM{transition:width .15s}.pe-aN{width:calc(100% - 265px)}.pe-aO{width:calc(100% - 21px);overflow:scroll;height:100%;background-color:#edeef3;transition:all .3s}.pe-aP{box-shadow:inset 1px 1px 6px 2px #dadada}.pe-aO::-webkit-scrollbar{width:10px;height:10px}.pe-aO::-webkit-scrollbar-thumb{background-color:#c2c0c0;min-height:25px;min-width:25px;border:1px solid #e0e0e0}.pe-aO::-webkit-scrollbar-track{background-color:#f7f7f7;border:1px solid #efefef}.pe-aQ{line-height:25px;position:relative;z-index:3000}.pe-aR{outline:none;color:hsla(0,0%,100%,.65);border:1px solid hsla(0,0%,100%,.65);background:transparent;border-radius:4px;height:20px;line-height:16px;font-size:14px;padding:2px 8px;width:60px}.pe-aR:hover{color:#fff;border:1px solid #fff}.pe-aS{width:235px}.pe-aT{font-size:14px;line-height:45px;height:40px}.pe-aU{margin-left:10px;color:hsla(0,0%,100%,.65);font-size:10px}"),f.default.View.merge(n,{__bg:function(n,i){var A=this;i=i||150;var o,a=Date.now();return function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Date.now();clearTimeout(o),i<r-a?(a=r,n.apply(A,e)):o=setTimeout(function(){n.apply(A,e)},i-(r-a))}},__dv:function(e,t,r,n){var i=Math.max(r-(t-e),16);setTimeout(n,i)}});function v(e){var t=f.State.get("page"),r=f.State.get("__aK"),n=f.State.get("__as"),i=f.State.get("__l"),A=f.State.get("__m"),o=p.default.byJSON(e.elements),a=o.elements,s=o.map;e.page&&g(t,e.page),r.length=0,r.push.apply(r,a),n.length=0;var l={};if(e.select)for(var c=0,u=e.select;c<u.length;c++){var d=s[u[c].id];d&&(l[d.id]=1,n.push(d))}i.length=0,e.xLines&&i.push.apply(i,e.xLines),A.length=0,e.yLines&&A.push.apply(A,e.yLines),f.State.set({__f:e.scale||1,__ar:l})}var m={id:1,colIndex:1,rowIndex:1,locked:1,lockSize:1,top:1,left:1,hasLeft:1,hasTop:1,hasBottom:1,hasRight:1};t.default=f.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.i18n,c=e.name,u=e.lang,d=e.vId,f=e.anim,p=e.collapse;return s+='<div mxa="pe-k:_" class="pe-aJ"><div mxa="pe-k:a" class="pe-p pe-aS"><i mxs="pe-k:_" class="pe-N pe-d">&#xe63c;</i>'+n(l("_dV"))+'&trade;</div><div mxa="pe-k:b" class="pe-p pe-aT">'+n(c)+'<span mx-view="editor/core/draft?lang='+A(u)+'" id="draft_'+n(d)+'" class="pe-aU"></span></div><div mxa="pe-k:c" class="pe-q pe-e" id="header_btns"><button mxa="pe-k:d" class="pe-aR pe-e" mx-click="'+t+'\x1e__aR()">'+n(l("_dW"))+'</button><button mxa="pe-k:e" class="pe-aR" mx-click="'+t+'\x1e__dU()">',s+="en-us"==u?"\u4e2d\u6587":"EN",s+='</button></div></div><div mxa="pe-k:f" class="pe-aK"><div mx-view="editor/core/toolbox" id="toolbox_'+n(d)+'" class="pe-n pe-p pe-x"></div><div class="pe-aL pe-p',f&&(s+=" pe-aM"),p&&(s+=" pe-aN"),s+='" id="canvas_'+n(d)+'"><div mxs="pe-k:a" mx-view="editor/core/toolbar" class="pe-aQ pe-x"></div><div mx-view="editor/core/axis?cnt='+A(d)+'_stage" class="pe-u pe-x"></div><div mx-view="editor/core/stage" id="'+n(d)+'_stage" class="pe-aO pe-x pe-aP"></div></div><div mx-view="editor/core/property" id="property_'+n(d)+'" class="pe-n pe-q"></div></div>'},mixins:[o.default],init:function(){var t=this;window.onbeforeunload=function(e){if(t.__dw())return c.default("__dx")},f.State.on("__aL",function(e){v(e.json)}),f.State.on("__av",function(e){e.cursor?i.default.__ak(e.cursor):i.default.__al()}),f.State.on("__o",function(){t.__dy(!0)}),this.__dy()},__dD:function(){var t=this;if(!this.__dz&&1e3<a.default.AUTO_SAVE){this.__dz=Date.now();var r=f.Vframe.get("draft_"+this.id);this.__dA=function(){var e=Date.now()-t.__dz;(e=a.default.AUTO_SAVE-e)<=0?t.__dB(!0):r.invoke("__an",[{after:Math.round(e/1e3)}])},h.__dC(1e3,this.__dA)}},__dG:function(){clearInterval(this.__dE),h.__dF(this.__dA),delete this.__dz},__dy:function(e){if(this.__dH=f.default.guid("ss"),e){var t=this.__dw();if(t){if(!this.__dz)(r=f.Vframe.get("draft_"+this.id))&&r.invoke("__an",[{saving:0,draft:t,after:Math.round(a.default.AUTO_SAVE/1e3)}]);l.default.__aR(),this.__dD()}else{var r;l.default.__aN(),this.__dG(),(r=f.Vframe.get("draft_"+this.id))&&r.invoke("__an",[{saving:0,draft:0}])}}},__dI:function(n){var i=this,r=this,A=Date.now();setTimeout(r.wrapAsync(function(){html2canvas(f.default.node("stage_stage")).then(function(e){var t=function(e){for(var t=e.split(","),r=t[0].match(/:(.*?);/)[1],n=atob(t[1]),i=n.length,A=new Uint8Array(i);i--;)A[i]=n.charCodeAt(i);return new Blob([A],{type:r})}(e.toDataURL("image/png"));r.request().all({name:"__dI",files:t,params:{temp_id:f.default.config("tempId"),biz_id:f.default.config("bizId")}},function(e,t){var r=Date.now();i.__dv(A,r,300,function(){e?(i.alert(e.msg),n(e)):n(null,t.get("data.url",""))})})})}),50)},__dL:function(n,e,i){var A=this,t={page:f.State.get("page"),elements:f.State.get("__aK")},o=this.__dH,r=d.default.encode(t),a=Date.now();this.save({name:"__dB",params:{temp_id:f.default.config("tempId"),content:r,thumb_url:e}},function(e,t){var r=Date.now();A.__dv(a,r,300,function(){o==A.__dH&&(A.__dG(),i(e),e?n||A.alert(c.default("_aJ")+e.msg):(l.default.__aN(),A.__dJ=A.__dK()))})})},__dB:function(r){var n=this;f.State.fire("__bw",{zone:A.default.OTHER}),this.__dz=1;var i=f.Vframe.get("draft_"+this.id);i&&i.invoke("__an",[{saving:1,draft:0}]),f.State.fire("__bE",{start:!0}),this.__dI(function(e,t){f.State.fire("__bE"),e?(i&&i.invoke("__an",[{saving:0,draft:1}]),n.__dz=0):n.__dL(r,t,function(e){i&&i.invoke("__an",[{saving:0,draft:0,error:e}]),n.__dz=0})})},__dw:function(){return this.__dJ!=this.__dK()},__dK:function(){return JSON.stringify({page:f.State.get("page"),elements:f.State.get("__aK")},function(e,t){if(!f.default.has(m,e))return t})},__dN:function(){var r=this,n=l.default.__cn(),e=f.default.config("bizId"),t=f.default.config("tempId");n.success&&n.bizId==e&&n.tempId==t&&this.confirm(c.default("__dM"),function(){v(n),f.State.fire("__n",{keepSelect:1}),f.State.fire("__aZ"),f.State.fire("__ap");var e=r.__dw;if(e){f.State.fire("__D");var t=f.Vframe.get("draft_"+r.id);t&&t.invoke("__an",[{draft:e}])}},function(){l.default.__aN()})},render:function(){var A=this,e=f.default.parseUrl(location.search).params,t=f.default.config("mock"),r=e.temp_id,n=e.biz_id;t&&(n=r="-1"),r&&n?u.default.__ak("__dP"):u.default.__ak("__dO"),f.default.config({tempId:r,bizId:n});var i={page:{xmlns:a.default.CLOUD_PRINT_NAME_SPACE,"xmlns:xsi":a.default.XSI_NAME_SPACE,"xsi:schemaLocation":a.default.SCHEMA_LOCATION_NAME_SPACE,"xmlns:editor":a.default.EDITOR_NAME_SPACE,width:a.default.PAGE_WIDTH_DEFAULT*a.default.SCALE_DEFAULT,height:a.default.PAGE_HEIGHT_DEFAULT*a.default.SCALE_DEFAULT,header:0,footer:0,splitable:!0},__f:a.default.SCALE_DEFAULT,__ch:null,__aK:[],__aS:null,__as:[],__ar:{},__l:[],__m:[]};if(f.State.set(i),this.updater.digest({lang:f.default.config("lang")}),r&&n){var o=Date.now();this.fetch({name:"__dQ",params:{temp_id:r,biz_id:n}},function(n,i){var e=Date.now();A.__dv(o,e,500,function(){if(n)u.default.__ak(n.msg);else{var e=i.get("data.content",""),t=i.get("data.temp_name","");A.updater.digest({name:t});try{var r=d.default.decode(e);v(r),s.default.__aM(),f.State.fire("__aZ"),f.State.fire("__n"),f.State.fire("__ap"),A.__dJ=A.__dK(),A.__dN(),u.default.__al()}catch(e){u.default.__ak(e.message)}}})})}},"$doc<mousedown,mouseup>":function(e){if("mousedown"==e.type)this.__dR=e.pageX,this.__dS=e.pageY;else{var t=e.pageX-this.__dR,r=e.pageY-this.__dS;(5<t||5<r)&&(this.__dT=!0)}},"$doc<click>":function(e){if(this.__dT)delete this.__dT;else if(f.default.inside(e.target,document.body)){var t=A.default.OUTER;if(f.default.inside(e.target,"app")){if(f.default.inside(e.target,"toolbox_list")||f.default.inside(e.target,"toolbox_prelist")||f.default.inside(e.target,"header_btns"))return;f.default.inside(e.target,"canvas_"+this.id)?t=A.default.CANVAS:f.default.inside(e.target,"property_"+this.id)&&(t=A.default.PROPERTY),f.State.fire("__bw",{zone:t})}}},"$doc<drop,dragover>":function(e){e.preventDefault(),"dragover"==e.type?f.State.fire("__bx",{hoverNode:e.target}):f.State.fire("__bx")},"$doc<toolboxtoggle>":function(e){this.updater.digest({anim:!0,collapse:e.collapse})},"__dU<click>":function(){var e=f.default.config("lang");e="zh-cn"==e?"en-us":"zh-cn",f.default.config({lang:e}),f.State.fire("__p",{lang:e}),this.updater.digest({lang:e})},"__aR<click>":function(){this.__dB()}})}),define("editor/const/click-desc",[],function(e,t,r){"use strict";t.__esModule=!0,t.default={TOOLBOX:1,CANVAS:2,PROPERTY:4,OTHER:8,OUTER:16}}),define("editor/const/keys",[],function(e,t,r){"use strict";t.__esModule=!0,t.default={UP:38,DOWN:40,LEFT:37,RIGHT:39,DELETE:8,TAB:9,C:67,V:86,A:65,F:70,L:76,N:78,U:85,D:68,R:82,T:84,B:66,X:88,Z:90,Y:89}}),define("editor/const/props-desc",[],function(e,t,r){"use strict";t.__esModule=!0,t.default={LABEL:1,INPUT:2,NUMBER:4,DROPDOWN:8,IMAGE:16,ORIGINSIZE:32,TEXTAREA:64,SPLITER:128,BOOLEAN:256,LINEHEIGHT:512,FONTSTYLE:1024,FONTALIGN:2048,CELLOPERATE:4096,CELLSIZE:8192,CELLFOCUS:16384,CELLCOLSHARE:32768,CELLROWSHARE:65536}}),define("editor/core/axis",["magix","$","../../util/converter","../../gallery/mx-dragdrop/index"],function(e,t,r){"use strict";t.__esModule=!0;var a=e("magix"),p=e("$"),n=e("../../util/converter"),i=e("../../gallery/mx-dragdrop/index"),h=a.default.State,g=n.default.__i;a.default.applyStyle("pe-a",".pe-P{height:20px;border-bottom:1px solid #ccc;overflow:hidden;width:100%;background:#fff;z-index:2000;position:relative}.pe-Q{float:left;width:21px;height:100%;border-right:1px solid #ccc;overflow:hidden}.pe-R{top:0;width:1px}.pe-R,.pe-S{position:absolute;background:#06f;z-index:2000;display:none}.pe-S{left:0;height:1px}.pe-T{left:0;top:0;width:21px;height:20px;border-bottom:1px solid #ccc;border-right:1px solid #ccc;z-index:2001}.pe-T,.pe-U{position:absolute;background:#fff}.pe-U{left:5px}.pe-U,.pe-V{cursor:default;font-size:10px}.pe-V{position:absolute;top:-5px;background:#fff;-webkit-transform:rotate(-90deg);transform:rotate(-90deg);-webkit-transform-origin:0 0;transform-origin:0 0}.pe-W,.pe-X{position:relative;z-index:1000}.pe-W{top:20px}.pe-X{left:20px}.pe-Y{width:4px;border-left:1px solid #06f}.pe-Y,.pe-Z{position:absolute;pointer-events:none}.pe-Z{height:1px;background:#06f}.pe-a_{left:-15px;top:6px;cursor:pointer;pointer-events:all}.pe-a_,.pe-aa{position:absolute;font-size:10px;color:#666}.pe-aa{left:4px;top:2px;cursor:default}.pe-ab{left:6px;top:-15px;cursor:pointer;pointer-events:all}.pe-ab,.pe-ac{position:absolute;font-size:10px;color:#666}.pe-ac{left:4px;top:2px;cursor:default}.pe-ad{width:25px;top:-1px;height:3px;left:30px;cursor:ns-resize}.pe-ae,.pe-ad{position:absolute;overflow:hidden;background:#0075f7;pointer-events:all}.pe-ae{width:3px;left:-2px;height:25px;top:20px;cursor:ew-resize}"),t.default=a.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.scale,c=e.sTop,u=e.vId,d=e.draw,f=e.yHelpers,p=e.toMM,h=e.yStart,g=e.vWidth,v=e.i18n,m=e.sLeft,_=e.xHelpers,w=e.xStart,B=e.vHeight,y=e.width,x=e.xEnd,b=e.height,C=e.yEnd;s+=" ";s+=" ";var Q=3.7795275593333*l;s+=" ";var E=15;s+=" ",l<=.5?(s+=" ",E=30,s+=" "):l<1?(s+=" ",E=25,s+=" "):4.5<=l?(s+=" ",E=3,s+=" "):4<=l?(s+=" ",E=4,s+=" "):3.5<=l?(s+=" ",E=5,s+=" "):3<=l?(s+=" ",E=6,s+=" "):2.5<=l?(s+=" ",E=8,s+=" "):2<=l?(s+=" ",E=10,s+=" "):1.5<=l&&(s+=" ",E=12,s+=" "),s+=" ",s+=" ";var U,F=E/5*Q;s+=" ",s+=" ";var S="#aaa;";if(s+='<div class="pe-X" style="top:-'+n(c)+'px" id="'+n(u)+'_y_help">',d){s+=" ";for(var H=0,T=f.length;H<T;H++){var k=f[H];s+=" ";var N=Q*(Math.abs(p(h))+k.mm)+20;s+='<div class="pe-Z" style="width:'+n(g)+"px;top:"+n(N)+'px;"><i class="pe-N pe-ab" title="'+n(v("_J"))+'" mx-click="'+t+"\x1e__G({type:'y',id:'"+n(a(k.id))+'\'})">&#xe600;</i><span mxa="pe-_:_" class="pe-ac">'+n(k.mm)+'</span><span class="pe-ad" mx-mousedown="'+t+"\x1e__H({type:'y',id:'"+n(a(k.id))+"',c:"+n(N)+'})" title="'+n(v("_K"))+'"></span></div>'}s+=" "}if(s+='</div><div class="pe-W" style="left:-'+n(m)+'px" id="'+n(u)+'_x_help">',d){s+=" ";for(var I=0,M=_.length;I<M;I++){k=_[I];s+=" ";N=Q*(Math.abs(p(w))+k.mm);s+='<div class="pe-Y" style="height:'+n(B)+"px;left:"+n(N)+'px;"><i class="pe-N pe-a_" title="'+n(v("_J"))+'" mx-click="'+t+"\x1e__G({type:'x',id:'"+n(a(k.id))+'\'})">&#xe600;</i><span mxa="pe-_:a" class="pe-aa">'+n(k.mm)+'</span><span class="pe-ae" mx-mousedown="'+t+"\x1e__H({type:'x',id:'"+n(a(k.id))+"',c:"+n(N)+'})" title="'+n(v("_K"))+'"></span></div>'}s+=" "}if(s+='</div><div mxa="pe-_:b" mx-mousemove="'+t+'\x1e__z()" mx-mouseout="'+t+'\x1e__A()" mx-click="'+t+'\x1e__E()"><div class="pe-P" id="'+n(u)+'_x"><div style="width:'+n(y)+'px;height:100%">',d){s+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 '+n(y)+' 20" style="cursor:default;">';for(var L=0;L<w;L+=F)s+=" ",s+=" ",s+=(U=p(L))%E==0?'<rect width="1" height="'+n(12)+'" x="'+n(w-L)+'" y="'+n(7)+'" style="fill:'+n(S)+';"/><text x="'+n(w-L+2)+'" y="14" style="font-size:10px;fill:#999;">'+n(0===U?0:-U)+"</text>":'<rect width="1" height="'+n(4)+'" x="'+n(w-L)+'" y="'+n(15)+'" style="fill:'+n(S)+';"/>',s+=" ";s+=" ";for(L=F;L<x;L+=F)s+=" ",s+=" ",s+=(U=p(L))%E==0?'<rect width="1" height="'+n(12)+'" x="'+n(w+L)+'" y="'+n(7)+'" style="fill:'+n(S)+';"/><text x="'+n(w+L+2)+'" y="14" style="font-size:10px;fill:#999;">'+n(U)+"</text>":'<rect width="1" height="'+n(4)+'" x="'+n(w+L)+'" y="'+n(15)+'" style="fill:'+n(S)+';"/>',s+=" ";s+="</svg>"}if(s+='</div></div><div class="pe-R" id="'+n(u)+'_x_line" style="height:'+n(B+20)+'px"><span mxs="pe-_:_" class="pe-U"></span></div></div><div mxa="pe-_:c" mx-mousemove="'+t+'\x1e__B()" mx-mouseout="'+t+'\x1e__C()" mx-click="'+t+'\x1e__F()"><div class="pe-Q" style="height:'+n(B)+'px;" id="'+n(u)+'_y"><div style="height:'+n(b)+'px;">',d){s+='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 '+n(b)+'" style="cursor:default">';for(L=0;L<h;L+=F)s+=" ",s+=" ",s+=(U=p(L))%E==0?'<rect width="'+n(12)+'" height="1" x="'+n(8)+'" y="'+n(h-L)+'" style="fill:'+n(S)+';"/><text x="14" y="'+n(h-L+2)+'" style="font-size:10px;fill:#999;" transform="rotate(-90,13,'+n(h-L)+')">'+n(0===U?0:-U)+"</text>":'<rect width="'+n(4)+'" height="1" x="'+n(16)+'" y="'+n(h-L)+'" style="fill:'+n(S)+';"/>',s+=" ";s+=" ";for(L=F;L<C;L+=F)s+=" ",s+=" ",s+=(U=p(L))%E==0?'<rect width="'+n(12)+'" height="1" x="'+n(8)+'" y="'+n(h+L)+'" style="fill:'+n(S)+';"/><text x="14" y="'+n(h+L)+'" style="font-size:10px;fill:#999;;" transform="rotate(-90,13,'+n(h+L-2)+')">'+n(U)+"</text>":'<rect width="'+n(4)+'" height="1" x="'+n(16)+'" y="'+n(h+L)+'" style="fill:'+n(S)+';"/>',s+=" ";s+="</svg>"}return s+='</div></div><div class="pe-S" id="'+n(u)+'_y_line" style="width:'+n(g+20)+'px"><span mxs="pe-_:a" class="pe-V"></span></div></div><div mxs="pe-_:b" class="pe-T"></div>'},mixins:[i],init:function(e){var t=this,r=p.default("#"+e.cnt);r.on("scroll",function(){t.syncScroll()}),this.__k=r;function n(){A.set({xHelpers:h.get("__l"),yHelpers:h.get("__m")})}function i(){clearTimeout(o),o=setTimeout(function(){n(),t.rerender(!0),t.syncScroll()},30)}var A=this.updater,o=0;A.set({sLeft:0,sTop:0}),n(),h.on("__n",i),h.on("__o",i),h.on("__p",i),this.__q=p.default("#"+this.id)},rerender:function(e){var t=this.__k,r=t.prop("scrollWidth")+50,n=t.prop("scrollHeight")+50,i=0,A=0,o=0,a=0,s=10,l=10;if(e){var c=p.default("#stage_stage"),u=p.default("#stage_outer"),d=c.offset(),f=u.offset();A=r-(i=Math.round(d.left-f.left)+20),a=n-(o=Math.round(d.top-f.top)),s=t.height(),l=t.width()}this.updater.digest({toMM:g,scale:h.get("__f"),width:r,height:n,draw:e,xStart:i,xEnd:A,yStart:o,vHeight:s,vWidth:l,yEnd:a}),this.__r=p.default("#"+this.id+"_x"),this.__s=p.default("#"+this.id+"_y"),this.__t=p.default("#"+this.id+"_y_help"),this.__u=p.default("#"+this.id+"_x_help"),this.__v=p.default("#"+this.id+"_x_line"),this.__w=this.__v.find("span"),this.__x=p.default("#"+this.id+"_y_line"),this.__y=this.__x.find("span")},syncScroll:function(){var e=this.__r,t=this.__s,r=this.__t,n=this.__u,i=this.__k,A=i.prop("scrollTop"),o=i.prop("scrollLeft");e.prop("scrollLeft",o),t.prop("scrollTop",A),r.css({top:-A}),n.css({left:-o}),this.updater.set({sLeft:o,sTop:A})},render:function(){var e=this;this.rerender();var t=setInterval(function(){p.default("#stage_stage").length&&(clearInterval(t),e.rerender(!0))},30)},"__z<mousemove>":function(e){var t=this.__q.offset(),r=this.__r,n=e.pageX-t.left,i=this.updater.get("xStart");this.__v.css({display:"block",left:n});var A=g(n-i+r.prop("scrollLeft"));this.__w.html(A)},"__A<mouseout>":function(e){a.default.inside(e.relatedTarget,e.eventTarget)||this.__v.css({display:"none"})},"__B<mousemove>":function(e){var t=this.__q.offset(),r=e.pageY-t.top,n=this.updater.get("yStart"),i=this.__s;this.__x.css({display:"block",top:r});var A=g(r-n-20+i.prop("scrollTop"));this.__y.html(A)},"__C<mouseout>":function(e){a.default.inside(e.relatedTarget,e.eventTarget)||this.__x.css({display:"none"})},"__E<click>":function(e){var t=this.__q.offset(),r=this.__r,n=e.pageX-t.left,i=this.updater.get("xStart"),A=g(n-i+r.prop("scrollLeft")),o=this.updater.get("xHelpers");o.push({mm:A,id:a.default.guid("x_")}),this.updater.digest({xHelpers:o}),h.fire("__D")},"__F<click>":function(e){var t=this.__q.offset(),r=e.pageY-t.top,n=this.updater.get("yStart"),i=this.__s,A=g(r-n-20+i.prop("scrollTop")),o=this.updater.get("yHelpers");o.push({mm:A,id:a.default.guid("x_")}),this.updater.digest({yHelpers:o}),h.fire("__D")},"__G<click>":function(e){for(var t,r=e.params,n=r.type,i=r.id,A=n+"Helpers",o=this.updater,a=o.get(A),s=a.length;s--;){if(a[s].id==i){a.splice(s,1);break}}o.digest(((t={})[A]=a,t)),h.fire("__D")},"__H<mousedown>":function(n){if(n.target==n.eventTarget){for(var i,e=n.params,A=e.type,t=e.id,o=e.c,a=A+"Helpers",s=this.updater,l=s.get(a),r=0,c=l;r<c.length;r++){var u=c[r];if(u.id==t){i=u;break}}if(i){var d=s.get(A+"Start"),f=!1;this.dragdrop(n.target,function(e){var t,r;f=!0,r="x"==A?e.pageX-n.pageX+o:e.pageY-n.pageY+o-20,i.mm=g(r-d),s.digest(((t={})[a]=l,t))},function(){f&&h.fire("__D")})}}},"$win<resize>":function(){this.rerender(!0),this.syncScroll()},"$doc<toolboxtoggle>":function(){var e=this;clearTimeout(e.__I),e.__I=setTimeout(function(){e.rerender(!0),e.syncScroll()},160)}})}),define("editor/core/code",["magix","../../cainiao/serializer","gallery/mx-codemirror/index"],function(e,t,r){e("gallery/mx-codemirror/index"),t.__esModule=!0;var n=e("magix"),i=e("../../cainiao/serializer");n.default.applyStyle("pe-b",""),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.i18n,c=e.xml;return s+='<div mxa="pe-a:_" class="pe-K"><b mxa="pe-a:a" class="pe-d">'+n(l("_S"))+'</b></div><div mxv mxa="pe-a:b" class="pe-L"><textarea mxa="pe-a:c" class="pe-C" style="width:100%;height:500px;" mx-view="gallery/mx-codemirror/index" mx-change="'+t+'\x1e__P()">'+n(c)+'</textarea></div><div mxa="pe-a:d" class="pe-M pe-w"><button mxa="pe-a:e" class="pe-z pe-q" mx-click="'+t+'\x1e__R()">'+n(l("_T"))+'</button><button mxa="pe-a:f" class="pe-z pe-A pe-d pe-q" mx-click="'+t+'\x1e__Q()">'+n(l("_U"))+"</button></div>"},init:function(e){this.__L=e.stage,this.__M=e.dialog,this.__N=e.enter},render:function(){var e=this.__L,t=i.default.encode(e),r=JSON.stringify(e.page);this.__O=r,this.updater.digest({xml:t})},"__P<change>":function(e){this.updater.set({xml:e.value})},"__Q<click>":function(){var e,t=this,r=t.updater.get("xml");try{e=i.default.decode(r)}catch(e){return void t.alert(e.message)}t.__O!=JSON.stringify(e.page)&&(e.pageChange=!0),this.__N(e),this.__M.close()},"__R<click>":function(){this.__M.close()}})}),define("editor/core/contextmenu",["magix","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;function n(o){return function(e){o.__aj||(o.__aj=a.default.guid("_m"));var t=e+o.__aj;if(!y[t]){for(var r=[],n=0,i=o;n<i.length;n++){var A=i[n];A.spliter?r.push(A):r.push({id:A.id,text:s.default(A.text)+(A.short||"")})}y[t]=r}return y[t]}}var a=e("magix"),s=e("../../i18n/index"),i={spliter:!0},A={id:0,text:"__V",short:" (Ctrl+A)"},o={id:1,text:"__W",short:" (Ctrl+C)"},l={id:14,text:"__X",short:" (Ctrl+X)"},c={id:2,text:"__Y",short:" (Ctrl+V)"},u={id:5,text:"__Z"},d={id:6,text:"__a_"},f={id:3,text:"__aa"},p={id:4,text:"__ab"},h={id:7,text:"__ac",short:" (Delete)"},g={id:8,text:"__ad"},v={id:9,text:"__ae"},m={id:10,text:"__af"},_={id:11,text:"__ag"},w={id:12,text:"__ah"},B={id:13,text:"__ai"},y={};t.Contextmenu={allId:A.id,pasteId:c.id,topId:f.id,upId:u.id,bottomId:p.id,downId:d.id,cutId:l.id,cellBottomId:v.id,cellTopId:g.id,cellLeftId:_.id,cellRightId:w.id,cellDeleteColId:B.id,cellDeleteRowId:m.id,singleElement:n([o,l,h,i,u,f,i,d,p]),multipleElement:n([o,l,h]),stage:n([A,c]),tableCell:n([A,c,i,g,v,m,i,_,w,B])}}),define("editor/core/cursor",["$","magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("$"),i=e("magix"),A=i.default.guid("cursor_");i.default.applyStyle("pe-c",".pe-af{opacity:0;background:#fff;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10000}"),t.default={__ak:function(e){var t=n.default("#"+A);t.length||(n.default("body").append('<div class="pe-af" id="'+A+'"/>'),t=n.default("#"+A)),t.css({cursor:e}),t.show()},__al:function(){n.default("#"+A).hide()}}}),define("editor/core/designer",["magix","../../cainiao/const","../../util/converter","../../util/transform","$","../../gallery/mx-dragdrop/index"],function(e,t,r){"use strict";t.__esModule=!0;var N=e("magix"),o=e("../../cainiao/const"),I=e("../../util/converter"),M=e("../../util/transform"),L=e("$"),n=e("../../gallery/mx-dragdrop/index");N.default.applyStyle("pe-d",".pe-ah{width:24px;height:24px;padding:4px;cursor:move;color:#c3c3c3;transition:color .4s}.pe-ah:hover{color:#000}.pe-ag .pe-ah{visibility:hidden}");var a=N.default.has,D={0:1,2:1,4:1,6:1,1:2,5:2,3:3,7:3},i={},A={};N.State.on("__am",function(e){var t=N.Vframe.get(e.eId);t&&t.invoke("__an",[e.data])}),N.State.on("__p",function(){for(var e in i){var t=N.Vframe.get(e);t&&t.invoke("__ao")}}),N.State.on("__ap",function(){for(var e in A){var t=N.Vframe.get(e);t&&(t.invoke("__aq"),t.invoke("render"))}}),t.default=N.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.elementPath,c=e.ctor,u=e.id,d=e.type,f=e.props,p=e.onlyMove,h=e.vId,g=e.i18n,v=e.space,m=e.selected,_=e.count,w=e.size;s+='<div mxv="ctor,props,onlyMove" mx-view="'+n(l)+"?ctor="+o(r,c)+"&id="+A(u)+"&type="+A(d)+"&props="+o(r,f)+"&onlyMove="+o(r,p)+'&forceUpdate=true" id="entity_'+n(h)+'"></div>';var B=f.height;s+=" ";var y=f.width;if(s+=" ","table"==c.type?(s+=" ",B++,s+='<div style="left:'+n(f.x-24)+"px;top:"+n(f.y-6)+"px;z-index:"+n(f.zIndex)+';" class="pe-t pe-ah" title="'+n(g("_aG"))+'"><i mxs="pe-b:_" class="pe-N">&#xe660;</i></div>'):(s+='<div style="width:',f.useCNStyle?s+="calc(92% + "+n(v)+"px)":s+=n(y+2*v)+"px",s+=";height:",f.useCNStyle?s+="calc(92% + "+n(v)+"px)":s+=n(B+2*v)+"px",s+=";left:"+n(f.x-v)+"px;top:"+n(f.y-v)+"px;",f.rotate&&(s+="transform:rotate("+n(f.rotate)+"deg);"),s+="background:#fff;opacity:0.01;z-index:"+n(f.zIndex)+";\ncursor:pointer;","htext"!=c.type&&"vtext"!=c.type||!f.editable||(s+="pointer-events:none;"),s+='" class="pe-t" ',"htext"!=c.type&&"vtext"!=c.type||(s+=' mx-dblclick="'+t+'\x1e__aF()" '),s+="></div>"),s+=" ",m){s+=" ";var x=f.locked||f.useCNStyle?"red":"#5390ef";if(s+='<div style="',f.rotate&&(s+="transform:rotate("+n(f.rotate)+"deg);"),s+="left:"+n(f.x-v)+"px;top:"+n(f.y-v)+"px;width:",f.useCNStyle?s+="calc(92% + "+n(v)+"px)":s+=n(Math.round(y+2*v))+"px",s+=";height:",f.useCNStyle?s+="calc(92% + "+n(v)+"px)":s+=n(B+2*v)+"px",s+=";border:dotted 1px "+n(x)+";pointer-events:none;z-index:"+n(f.zIndex)+'" class="pe-t">',!c.modifier.rotate||f.locked||f.useCNStyle||1!=_||(s+='<div style="left:'+n(y+v-1)+"px;top:-"+n(v)+"px;width:"+n(2*w)+"px;height:"+n(2*w)+"px;background:#5390ef;border-radius:"+n(w)+'px;cursor:url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAMAAADXqc3KAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAJcEhZcwAACxMAAAsTAQCanBgAAAEIUExURUdwTOnp6QICAv7+/h0dHXJyco2NjQAAAAUFBQAAAKSkpP///////wQEBKqqqr+/v/Hx8f///6ioqAAAAP///6ysrD09Pf///+Li4tXV1be3t0xMTCYmJrKyssjIyPv7+2VlZYGBgfv7+5qams3Nzba2tv///yoqKkdHR5aWlgUFBfz8/PHx8f///////5OTk////7i4uO/v78TExOHh4a2trYiIiMDAwM/Pz0FBQf///2dnZ76+vv///93d3dra2q2trQAAADg4OBMTE3V1dQgICCYmJhwcHEdHR39/f0BAQF1dXTAwMLS0tI+Pj1VVVZaWlmVlZU9PT5ycnJiYmP39/Wlpaefn5+BeE2oAAABBdFJOUwDHBQkNd5QJFgH5p10b+vYeJLcQM6I8O/Lf30kowOaca4uOkEXPQjJQpihot4JyNH/4S9ferlW26mPfK85PkoTcnudyewAAAVlJREFUKM+FkeeWgjAQhQHpCirYe9e1be81AZFm3fb+b7JMotvOnrPzIwnfJcncG4b5p2L5aas1SaRhfZj4wtOi54YODtRxnskV4nueYYMZojVXs6crdsd7SQuQ74Ygb3xUjBGerkUcq4bYPHiyyc5jchUzdhCyqzlTkky5nQRhnQd+7yH0luXJP7clDIJN2nrwkXNHeepGd/F8hrZH8NVY4EWZdlG5FkSjW9IX0K+kCdUG5QoHA6/1B51owWmyLP2KQVHIJEl/hpQadVKxH6AezxB7hZdkkY1PEr2dcLnCZzDztahxy3HfHym/WCKkEqE7B0/LJr0wc2Uhi4ZogFlcyJH4R5Dn+oQIYgA7HJWtt+q1TRSi3aaHCh7ywkiaOSE51D7nqFB+XmertrV7KKyLe1uVV3E4FErLwPW3tm6UPw3JgmbyZmUgiGKz0f+egiwrjCJBccoX/QAYCzizwB7F9QAAAABJRU5ErkJggg==\') 12 12,auto;pointer-events:all" class="pe-t" mx-mousedown="'+t+'\x1e__aE()"></div>'),s+=" ",f.useCNStyle||(s+='<div class="pe-t" style="width:5px;height:1px;background:'+n(x)+";left:"+n((y+2*v)/2-3)+"px;top:"+n((B+2*v)/2-1)+'px;"></div><div class="pe-t" style="width:1px;height:5px;background:'+n(x)+";left:"+n((y+2*v)/2-1)+"px;top:"+n((B+2*v)/2-3)+'px;"></div>'),s+=" ",c.modifier.resize&&1==_){s+=" ";var b=((f.rotate||0)+360)%360;if(s+=" ",c.modifier.resizeX&&!f.locked&&!f.widthLocked){s+=" ";var C=0|Math.max(0,Math.min(8*w,f.height-2*w-2*v));s+=" ",C<2*w&&!c.modifier.resizeY&&(s+=" ",C=2*w,s+=" "),s+='<div style="right:-'+n(Math.round(w/2))+"px;top:"+n((B+2*v-C)/2|0)+"px;width:"+n(w)+"px;height:"+n(C)+"px;background:#5390ef;cursor:",b<=22.5||337.5<b||157.5<b&&b<=202.5?s+="ew":b<=67.5||202.5<b&&b<=247.5?s+="nwse":b<=112.5||247.5<b&&b<=292.5?s+="ns":(b<=157.5||292.5<b&&b<=337.5)&&(s+="nesw"),s+='-resize;pointer-events:all;" class="pe-t" mx-mousedown="'+t+"\x1e__aB({key:'rm'})\"></div>"}if(s+=" ",c.modifier.resizeY&&!f.locked&&!f.heightLocked){s+=" ";var Q=0|Math.max(0,Math.min(8*w,f.width-2*w-2*v));s+=" ",Q<2*w&&!c.modifier.resizeX&&(s+=" ",Q=2*w,s+=" "),s+='<div style="left:'+n((y+2*v-Q)/2|0)+"px;bottom:-"+n(Math.round(w/2))+"px;width:"+n(Q)+"px;height:"+n(w)+"px;background:#5390ef;cursor:",b<=22.5||337.5<b||157.5<b&&b<=202.5?s+="ns":b<=67.5||202.5<b&&b<=247.5?s+="nesw":b<=112.5||247.5<b&&b<=292.5?s+="ew":(b<=157.5||292.5<b&&b<=337.5)&&(s+="nwse"),s+='-resize;pointer-events:all;" class="pe-t" mx-mousedown="'+t+"\x1e__aB({key:'mb'})\"></div>"}if(s+=" ",c.modifier.resizeXY&&!f.locked&&!f.widthLocked&&!f.heightLocked){s+=" ";var E=0|Math.max(2*w,Math.min(4*w,f.width-10*w,f.height-10*w));s+='<div style="right:-2px;bottom:-2px;width:'+n(E)+"px;height:"+n(E)+"px;cursor:",b<=22.5||337.5<b||157.5<b&&b<=202.5?s+="nwse":b<=67.5||202.5<b&&b<=247.5?s+="ns":b<=112.5||247.5<b&&b<=292.5?s+="nesw":(b<=157.5||292.5<b&&b<=337.5)&&(s+="ew"),s+="-resize;pointer-events:all;border-right:solid "+n(w)+"px #5390ef;border-bottom:solid "+n(w)+'px #5390ef" class="pe-t" mx-mousedown="'+t+"\x1e__aB({key:'rb'})\"></div>"}s+=" "}s+="</div>"}return s},mixins:[n],init:function(e){var t=this;t.assign(e),A[t.id]=1,"table"==e.type?i[t.id]=1:e.cell||"htext"!=e.type&&"vtext"!=e.type||(i[t.id]=1),t.on("destroy",function(){delete A[t.id],delete i[t.id]}),t.__q=L.default("#"+t.id)},__aq:function(){var e=N.State.get("__ar"),t=N.State.get("__as").length,r=this.updater,n=r.get(),i=n.id;if(n.selected){if(!a(e,i)){var A=N.Vframe.get("entity_"+this.id);A&&A.invoke("__at")}}else a(e,i);r.set({selected:a(e,i),count:t})},assign:function(e,t){var r=e.id,n=e.ctor,i=e.props,A=e.type;return this.updater.set({ctor:n,id:r,type:A,onlyMove:t&&t.move,space:o.default.ELEMENT_CTRL_SPACE,size:o.default.RESIZER_SIZE,props:i}),this.__aq(),!0},render:function(){this.updater.digest()},__ao:function(){var e=this.updater,t=e.get("props");e.digest({onlyMove:!1,props:t})},__an:function(e){this.updater.digest({onlyMove:!1,props:e})},"__aB<mousedown>":function(e){var c=this;e.stopPropagation();var t=c.updater.get(),u=t.props,r=t.ctor;if(!u.locked){N.State.fire("__au",{locked:1});var n=L.default(e.eventTarget).css("cursor");n&&N.State.fire("__av",{cursor:n});var d=u.rotate||0,i=e.params.key;d=(d+360)%360,0==u.width&&(u.width=.01),0==u.height&&(u.height=.01);for(var A=u.width,o=u.height,a=u.x,s=u.y,f=0,p=0,h=Number.MAX_VALUE,g=Number.MAX_VALUE,l=0,v=r.props;l<v.length;l++){var m=v[l];"width"==m.key?(N.default.has(m,"max")&&(h=m.max),N.default.has(m,"min")&&(f=m.min)):"height"==m.key&&(N.default.has(m,"max")&&(g=m.max),N.default.has(m,"min")&&(p=m.min))}var _=M.default.__aw(u,d),w=M.default.__ax(_.point,i),B=w.opposite,y=w.current,x=B.index,b=B.point,C=y.point,Q=b.x,E=b.y,U=Math.abs(C.x-Q),F=Math.abs(C.y-E),S={x:a,y:s,rotate:d,width:A,height:o},H=e.pageX,T=e.pageY,k=!1;c.dragdrop(e.eventTarget,function(e){var t={x:1,y:1};k=!0;var r=F<U,n=1,i=e.pageX-H,A=e.pageY-T;0==x||7==x?r&&90<d&&d<270?i=-i:!r&&180<d&&d<360&&(A=-A):0!=x&&1!=x||(r&&45<d&&d<135?i=-i:!r&&90<d&&d<270&&(A=-A)),(n=r?(i+U)/U:(A+F)/F)<0&&(n=0);var o=D[x];1===o?t.x=t.y=n:2===o?t.y=n:3===o&&(t.x=n);var a=M.default.__ay(S,t,_,x),s=I.default.__az(a.width),l=I.default.__az(a.height);s<f?s=f:h<s&&(s=h),l<p?l=p:g<l&&(l=g),s==u.width&&l==u.height||(u.x=I.default.__az(a.left),u.y=I.default.__az(a.top),u.width=s,u.height=l,c.updater.digest({props:u}),N.State.fire("__aA"))},function(){k&&N.State.fire("__D"),N.State.fire("__au"),N.State.fire("__av")})}},"__aE<mousedown>":function(e){e.stopPropagation();var n=this,i=n.updater.get("props");if(!i.locked){var t=L.default(e.eventTarget).css("cursor");t&&N.State.fire("__av",{cursor:t});var r=I.default.__aC(n.__q,{x:e.pageX,y:e.pageY,find:1}),A=M.default.__aD(i),o=i.rotate,a=Math.atan2(r.y-A.y,r.x-A.x)-o*Math.PI/180,s=!1;N.State.fire("__au",{locked:1}),n.dragdrop(e.eventTarget,function(e){var t=I.default.__aC(n.__q,{x:e.pageX,y:e.pageY,find:1});s=!0;var r=Math.atan2(t.y-A.y,t.x-A.x);r=180*(r-a)/Math.PI,i.rotate=(360+(0|r))%360,n.updater.digest({props:i}),N.State.fire("__aA")},function(){s&&N.State.fire("__D"),N.State.fire("__au"),N.State.fire("__av")})}},"__aF<dblclick>":function(e){var t=this.updater,r=t.get("props");r.allowEdit&&(r.editable=!0,t.digest({props:r}))}})}),define("editor/core/draft",["magix"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix");t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.draft,c=e.i18n,u=e.after,d=e.saving,f=e.error;return l?s+=" "+n(c("_aH",0<u?u:""))+" ":d?s+=" "+n(c("_aI"))+" ":f&&(s+=" "+n(c("_aJ"))+n(f.msg)+" "),s},init:function(e){this.assign(e)},assign:function(e){return this.updater.set(e),!0},render:function(){this.updater.digest()},__an:function(e){this.updater.digest(e)}})}),define("editor/core/history",["magix","../../cainiao/const"],function(e,t,r){"use strict";t.__esModule=!0;function n(){return JSON.stringify({page:A.State.get("page"),scale:A.State.get("__f"),elements:A.State.get("__aK"),select:A.State.get("__as"),xLines:A.State.get("__l"),yLines:A.State.get("__m")})}function i(e){var t=JSON.parse(e);A.State.fire("__aL",{json:t}),A.State.fire("__o",{history:!0}),A.State.fire("__ap")}var A=e("magix"),o=e("../../cainiao/const"),a=[],s=[],l=null,c=-1,u="",d=null;t.default={__aM:function(){d||(d=n())},__aN:function(){a.length=0,s.length=0,A.State.fire("__o")},__aO:function(){return{canUndo:a.length,canRedo:s.length}},__aP:function(){if(0<a.length){var e=a.pop();s.push(e);var t=a[a.length-1]||d;i(t)}},__aQ:function(){var e=s.pop();e&&(a.push(e),i(e))},__aR:function(e,t){void 0===e&&(e="_save"),void 0===t&&(t=0);var r=n();e!=u&&l&&(a.push(l),l=null,u=e),s.length=0,t?(l=r,clearTimeout(c),c=setTimeout(function(){a.push(l),l=null},t)):a.push(r),a.length>o.default.HISTORY_MAX&&(d=a.shift()),A.State.fire("__o")}}}),define("editor/core/mask",["$","magix","../../i18n/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("$"),i=e("magix"),A=e("../../i18n/index"),o=i.default.guid("mask_");i.default.applyStyle("pe-f",".pe-ai{opacity:0;background:#000;position:fixed;left:0;right:0;top:0;bottom:0;z-index:10001;transition:opacity .2s}.pe-aj{opacity:.2}.pe-ak{position:fixed;left:50%;top:50%;width:200px;height:30px;line-height:30px;background:#fff;margin-top:-15px;margin-left:-100px;z-index:10002;text-align:center}");var a=0;t.default={__ak:function(e){clearTimeout(a);var t=n.default("#"+o);t.length||(n.default("body").append('<div id="'+o+'"><div class="pe-ai" id="'+o+'_bk"/><div class="pe-ak" id="'+o+'_text"></div></div>'),t=n.default("#"+o)),n.default("#"+o+"_text").html(A.default(e)),n.default("#"+o+"_bk").addClass("pe-aj"),t.show()},__al:function(){a=setTimeout(function(){n.default("#"+o+"_bk").removeClass("pe-aj"),n.default("#"+o).hide()},200)}}}),define("editor/core/modifier",["magix","../../util/converter","../../cainiao/const"],function(e,t,r){"use strict";t.__esModule=!0;var i=e("magix"),A=e("../../util/converter"),n=e("../../cainiao/const");t.default=i.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.hoverElement,c=e.transformProps,u=e.space,d=e.showRect,f=e.rectX,p=e.rectY,h=e.rectWidth,g=e.rectHeight;if(l){s+=" ";var v=l.ctor;s+=" ";var m=c(l.props);s+=" ";var _=m.height;s+=" ","table"==v.type&&(s+=" ",_+=1.5,s+=" "),s+='<div class="pe-t" style="',m.rotate&&(s+="transform:rotate("+n(m.rotate)+"deg);"),s+="left:"+n(m.x-u)+"px;top:"+n(m.y-u)+"px;width:"+n(m.width+2*u)+"px;height:"+n(_+2*u)+'px;border:solid 1px red;z-index:9998"></div>'}return s+=" ",d&&(s+='<div style="border:dashed 1px #666;pointer-events:none;display:',s+=d?"block":"none",s+=";left:"+n(f)+"px;top:"+n(p)+"px;width:"+n(h)+"px;height:"+n(g)+'px;z-index:9999;" class="pe-t"><div mxs="pe-d:_" style="width:100%;height:100%;background:#000;opacity:0.02"></div></div>'),s},init:function(){var e=this;e.updater.set({showRect:!1,space:n.default.ELEMENT_CTRL_SPACE,rectX:0,rectY:0,rectWidth:0,rectHeight:0,hoverElement:i.State.get("__aS"),transformProps:function(e){var t={rotate:e.rotate,width:e.width,height:e.height,x:e.x,y:e.y},r=i.State.get("__aT");r&&(t.x+=r.pos.x,t.y+=r.pos.y,e.useCNStyle&&(t.width=.92*r.width,t.height=.92*r.height));var n=A.default.__aU(t);return t.x=n.x,t.y=n.y,t}}),i.State.on("__aV",function(){e.updater.set({hoverElement:i.State.get("__aS")}),e.render()})},render:function(){this.updater.digest()},__aW:function(e,t){var r=Math.abs(e.x-t.x),n=Math.abs(e.y-t.y),i=Math.min(e.x,t.x),A=Math.min(e.y,t.y);this.updater.digest({showRect:!0,rectX:i,rectY:A,rectWidth:r,rectHeight:n})},__aX:function(){this.updater.digest({showRect:!1})}})}),define("editor/core/p-table",["magix","$","../../util/converter","./workaround","../../util/transform","gallery/mx-dragsort/index"],function(e,t,r){e("gallery/mx-dragsort/index"),t.__esModule=!0;var s=e("magix"),l=e("$"),c=e("../../util/converter"),n=e("./workaround"),i=e("../../util/transform");t.default=s.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){for(var s="",l=e.rows,c=e.sorted,u=e.eId,d=e.i18n,f=0,p=l.length;f<p;f++){var h=l[f];if(s+=" ","tr"==h.tag){s+=" ";for(var g=0,v=h.cells,m=v.length;g<m;g++){var _=v[g];if(s+=" ","td"==_.tag){if(s+=" ",_.children&&_.children.length){s+='<div class="pe-ax" mx-view="gallery/mx-dragsort/index?selector=.pe-ay" mx-dragfinish="'+t+"\x1e__b_({cell:'"+o(r,_)+"'})\">";var w=c(_.children);s+=" ";for(var B=0,y=w.length;B<y;B++){var x=w[B];s+='<div class="pe-aC pe-w" title="'+n(x.props.tip)+'" mx-mouseover="'+t+"\x1e__bd({element:'"+o(r,x)+"',cellId:'"+n(a(u))+"_c_"+n(a(f))+"_"+n(a(g))+"',cell:'"+o(r,_)+'\'})" data-eid="'+n(x.id)+'" mx-mouseout="'+t+'\x1e__bd()"><div class="pe-p pe-ay" title="'+n(d("_be"))+'">'+i(x.ctor.icon)+'</div><div mxa="pe-e:_" class="pe-aA pe-w"><div mxa="pe-e:a" class="pe-p">'+n(x.props.tip)+'</div><i title="'+n(d("_bf"))+'" class="pe-N pe-aB pe-q" mx-click="'+t+"\x1e__bb({id:'"+n(a(x.id))+"'})\">&#xe600;</i></div></div>","table"==x.type&&(s+='<div mx-view="editor/core/p-table?eId='+A(x.id)+"&rows="+o(r,x.props.rows)+'" ds-draggable="false"></div>'),s+=" "}s+="</div>"}s+=" "}s+=" "}s+=" "}s+=" "}return s},init:function(e){this.assign(e),this.updater.set({sorted:function(e){return i.default.__aY(e).reverse()}})},assign:function(e){return this.updater.set(e),!0},render:function(){this.updater.digest()},"__b_<dragfinish>":function(e){for(var t=l.default(e.eventTarget).children(),r=e.params.cell.children,n=s.default.toMap(r,"id"),i=r.length,A=0,o=t;A<o.length;A++){var a=o[A].getAttribute("data-eid");a&&(n[a].props.zIndex=i--)}this.render(),s.State.fire("__aZ"),s.State.fire("__D")},"__bb<click>":function(e){n.StageElements.__ba(e.params.id,!0),this.updater.set({rows:this.updater.get("rows")}).digest(),s.State.set({__aS:null,__aT:null}),s.State.fire("__aV"),s.State.fire("__aZ"),s.State.fire("__D")},"__bd<mouseover,mouseout>":function(e){if("p-table"!=e.from&&(e.from="p-table",!s.default.inside(e.relatedTarget,e.eventTarget))){var t=e.params,r=t.element,n=t.cellId,i=t.cell,A=null;if("mouseover"==e.type){var o=l.default("#entity_"+n);if(!o.length)return;var a=o.offset();A={width:i.width,height:i.height,pos:c.default.__bc({x:a.left+1,y:a.top+1})}}s.State.set({__aS:r,__aT:A}),s.State.fire("__aV")}}})}),define("editor/core/property",["magix","../const/props-desc","../../util/transform","../../util/table","../../i18n/index","$","./workaround","gallery/mx-number/index","gallery/mx-dropdown/index","gallery/mx-picture/index","gallery/mx-font/lineheight","gallery/mx-font/style","gallery/mx-font/align","gallery/mx-cell/index","gallery/mx-cell/size","gallery/mx-cell/focus","gallery/mx-dragsort/index","./p-table"],function(e,t,r){e("gallery/mx-number/index"),e("gallery/mx-dropdown/index"),e("gallery/mx-picture/index"),e("gallery/mx-font/lineheight"),e("gallery/mx-font/style"),e("gallery/mx-font/align"),e("gallery/mx-cell/index"),e("gallery/mx-cell/size"),e("gallery/mx-cell/focus"),e("gallery/mx-dragsort/index"),e("./p-table"),t.__esModule=!0;var h=e("magix"),o=e("../const/props-desc"),g=e("../../util/transform"),i=e("../../util/table"),l=e("../../i18n/index"),v=e("$"),n=e("./workaround");h.default.applyStyle("pe-g",".pe-al{width:245px;height:100%;background:#edeef3;border-left:1px solid #ccc;position:relative;z-index:3000}.pe-am{height:calc(100% - 25px);overflow-y:scroll;padding:0 0 100px}.pe-an{background:#ccc;padding:0 10px;height:25px;line-height:25px;background-image:-webkit-gradient(linear,0 0,0 100%,from(#eee),to(#ccc),color-stop(0,#eee))}.pe-ao{line-height:32px}.pe-ap:hover{background:hsla(0,0%,100%,.67)}.pe-aq{height:1px;line-height:1px;margin:5px 0;background:rgba(0,0,0,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.pe-ar{width:80px;text-align:right;display:inline-block;margin-right:5px;vertical-align:middle}.pe-as{width:25px;height:25px;background:#474761;cursor:move;margin-top:4px;border-radius:4px}.pe-at{cursor:pointer;width:180px}.pe-au{width:158px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.pe-av{margin-top:8px;color:#848282;visibility:hidden}.pe-at:hover .pe-av{visibility:visible}.pe-aw{vertical-align:top}.pe-ax{border-top:1px solid #e4e4e4;line-height:20px;margin-left:5px;cursor:default;font-size:12px}.pe-ay{width:16px;height:16px;background:#474761;margin-top:2px;cursor:move}.pe-az{padding-right:10px}.pe-aA{cursor:pointer;padding-right:20px;margin-left:19px}.pe-aB{font-size:12px;margin-top:4px;color:#848282;visibility:hidden}.pe-aA:hover .pe-aB{visibility:visible}.pe-aC{padding-left:2px}.pe-aC:hover{background:hsla(0,0%,100%,.54)}"),t.default=h.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s,l="",c=e.hasElement,u=e.i18n,d=e.title,f=e.props,p=e.desc,h=e.data,g=e.lang,v=e.elements,m=e.vId;if(l+='<div mxv mxa="pe-f:_" class="pe-al"><div mxa="pe-f:a" class="pe-an">',l+=n(u(c?"_bo":"_bp")),l+="</div>",c){l+='<ul mxv mxa="pe-f:b" class="pe-am"><li mxa="pe-f:c" class="pe-ao"><span mxa="pe-f:d" class="pe-ar">'+n(u("_bq"))+":</span>"+n(u(d))+"</li>";for(var _=0,w=f.length;_<w;_++){var B=f[_];l+='<li mxv class="pe-ao',B.type==p.SPLITER&&(l+=" pe-aq"),l+='">',B.type!=p.SPLITER&&(l+=" ",(!B.ifKey&&!B.gtKey||B.ifKey&&h[B.ifKey]==B.ifValue||B.gtKey&&h[B.gtKey]>B.gtValue)&&(l+='<span class="pe-ar',B.styleVTop&&(l+=" pe-aw"),l+='">'+n(u(B.tip))+":</span>",B.type==p.LABEL?l+=" "+n(B.read?B.read(h[B.key]):h[B.key])+" ":B.type==p.INPUT?(l+='<input class="pe-B" value="'+n(h[B.key])+'" mx-input="'+t+"\x1e__bk({key:'"+n(a(B.key))+"',sync:'"+o(r,B.sync)+"',refresh:'"+o(r,B.refresh)+"'})\" ",(s=h.locked&&!B.role)&&(l+="disabled"),l+="/>"):B.type==p.TEXTAREA?(l+='<textarea class="pe-C" mx-input="'+t+"\x1e__bk({key:'"+n(a(B.key))+"'})\" ",(s=h.locked&&!B.role)&&(l+="disabled"),l+=' style="height:100px;">'+n(h[B.key])+"</textarea>"):B.type==p.NUMBER?(l+='<div mxv="props,data" mx-input="'+t+"\x1e__bk({key:'"+n(a(B.key))+"',read:'value',write:'"+o(r,B.write)+"',sync:'"+o(r,B.sync)+"',refresh:'"+o(r,B.refresh)+"'})\" ",(s=h.locked||h[B.key+"Locked"])&&(l+='readonly="'+n(s)+'" '),l+=' class="pe-B pe-u" mx-view="gallery/mx-number/index?value='+o(r,B.read?B.read(h[B.key]):h[B.key]),(s=B.min)&&(l+="&min="+A(s)),(s=B.max)&&(l+="&max="+A(s)),(s=B.step)&&(l+="&step="+A(s)),(s=B.fixed)&&(l+="&fixed="+A(s)),(s=h.locked||h.lockedX||h[B.key+"Locked"])&&(l+="&disabled="+A(s)),l+='"></div>'):B.type==p.DROPDOWN?(l+='<div mxv="props" mx-change="'+t+"\x1e__bk({key:'"+n(a(B.key))+"',read:'value',refresh:'"+o(r,B.refresh)+'\'})" mx-view="gallery/mx-dropdown/index?list='+o(r,B.items),(s=B.textKey)&&(l+="&textKey="+A(s)),(s=B.valueKey)&&(l+="&valueKey="+A(s)),l+="&selected="+A(h[B.key]),(s=h.locked)&&(l+="&disabled="+A(s)),l+='"></div>'):B.type==p.IMAGE?(l+='<div class="pe-r" mx-change="'+t+"\x1e__bl({key:'"+n(a(B.key))+"',updateSize:"+n(B.updateSize)+'})" mx-view="gallery/mx-picture/index?pic='+A(h[B.key])+"&lang="+A(g),(s=h.locked)&&(l+="&disabled="+A(s)),l+='"></div>'):B.type==p.ORIGINSIZE?(l+="<button ",(s=h.locked)&&(l+="disabled"),l+=' type="button" class="pe-z pe-O" mx-click="'+t+'\x1e__bn()">'+n(u("_br"))+"</button>"):B.type==p.BOOLEAN?(l+='<input type="checkbox" class="pe-E" mx-change="'+t+"\x1e__bk({key:'"+n(a(B.key))+"',bool:true,write:'"+o(r,B.write)+"',refresh:'"+o(r,B.refresh)+"'})\" ",(s=h[B.key])&&(l+="checked"),l+=" ",(s=h.locked&&!B.role||h.barred)&&(l+="disabled"),l+="/>"):B.type==p.LINEHEIGHT?(l+='<div mxv="data,props" mx-input="'+t+"\x1e__bk({key:'"+n(a(B.key))+'\',read:\'value\'})" class="pe-r" mx-view="gallery/mx-font/lineheight?',(s=h.locked)&&(l+="disabled="+A(s)),(s=B.min)&&(l+="&min="+A(s)),l+="&value="+o(r,h[B.key])+'"></div>'):B.type==p.FONTSTYLE?(l+='<div mxv="data,props" mx-input="'+t+"\x1e__bk({key:'"+n(a(B.key))+'\',read:\'value\'})" class="pe-r" mx-view="gallery/mx-font/style?',(s=h.locked)&&(l+="disabled="+A(s)),l+="&value="+o(r,h[B.key])+'"></div>'):B.type==p.FONTALIGN?(l+='<div mxv="data,props" mx-input="'+t+"\x1e__bk({key:'"+n(a(B.key))+'\',read:\'value\'})" class="pe-r" mx-view="gallery/mx-font/align?',(s=h.locked)&&(l+="disabled="+A(s)),l+="&value="+o(r,h[B.key])+'"></div>'):B.type==p.CELLOPERATE?(l+='<div mxv="data" mx-change="'+t+'\x1e__bh()" class="pe-r" mx-view="gallery/mx-cell/index?',(s=h.locked||h.__invalid)&&(l+="disabled="+A(s)),l+="&props="+o(r,h)+'"></div>'):B.type==p.CELLSIZE?(l+='<div mxv="data" mx-change="'+t+'\x1e__bh()" class="pe-r" mx-view="gallery/mx-cell/size?',(s=h.locked||h.__invalid)&&(l+="disabled="+A(s)),l+="&props="+o(r,h)+'"></div>'):B.type==p.CELLFOCUS?(l+='<div mxv="data" mx-change="'+t+'\x1e__bh({ui:true})" class="pe-r" mx-view="gallery/mx-cell/focus?',(s=h.locked||h.__invalid)&&(l+="disabled="+A(s)),l+="&props="+o(r,h)+'"></div>'):B.type==p.CELLCOLSHARE?(l+="<button ",(s=h.locked||h.__invalid)&&(l+="disabled"),l+=' type="button" class="pe-z pe-O" mx-click="'+t+"\x1e__bi({type:'x'})\">"+n(u("_bs"))+"</button>"):B.type==p.CELLROWSHARE&&(l+="<button ",(s=h.locked||h.__invalid)&&(l+="disabled"),l+=' type="button" class="pe-z pe-O" mx-click="'+t+"\x1e__bi({type:'y'})\">"+n(u("_bt"))+"</button>"),l+=" "),l+=" "),l+="</li>"}l+="</ul>"}else{l+='<ul mxv mxa="pe-f:e" mx-view="gallery/mx-dragsort/index?selector=li%20.pe-as" class="pe-x pe-am" mx-dragfinish="'+t+'\x1e__b_()">';for(var y=v.length;y--;){l+=" ";var x=v[y];l+='<li mxv class="pe-ao pe-l pe-w pe-ap" data-eid="'+n(x.id)+'" id="'+n(m)+"_"+n(x.id)+'"><div class="pe-w" mx-mouseover="'+t+"\x1e__bd({element:'"+o(r,x)+'\'})" mx-mouseout="'+t+'\x1e__bd()"><div class="pe-as pe-p pe-c" title="'+n(u("_be"))+'">'+i(x.ctor.icon)+'</div><div mxa="pe-f:f" class="pe-p pe-w pe-at"><div class="pe-p pe-au" title="'+n(x.props.tip)+'">'+n(x.props.tip)+'</div><i title="'+n(u("_bf"))+'" class="pe-N pe-p pe-av" mx-click="'+t+"\x1e__bb({id:'"+n(a(x.id))+"'})\">&#xe600;</i></div></div>","table"==x.type&&(l+='<div mxv="elements" mx-view="editor/core/p-table?eId='+A(x.id)+"&rows="+o(r,x.props.rows)+'" class="pe-az"></div>'),l+="</li>"}l+="</ul>"}return l+="</div>"},init:function(){var e=this,t=e.__bg(function(){e.render()},100);h.State.on("__ap",t),h.State.on("__aA",t),h.State.on("__p",t)},render:function(){var e=h.State.get("__as"),t=h.default.config("lang");if(this.updater.set({lang:t}),1===e.length){var r=e[0],n=r.ctor,i=r.props,A=r.id;this.updater.digest({hasElement:!0,title:n.title,desc:o.default,props:n.props,data:i,eId:A})}else this.updater.digest({elements:g.default.__aY(h.State.get("__aK")),hasElement:!1})},"__bh<change>":function(e){var t=this.updater,r=t.get("data"),n=t.get("eId");h.State.fire("__am",{data:r,eId:n}),e.params.ui||(this.render(),h.State.fire("__D"))},"__bi<click>":function(e){var t=this.updater,r=t.get("data"),n=t.get("eId");i.default.__h(r,{share:e.params.type})&&(h.State.fire("__am",{data:r,eId:n}),this.render(),h.State.fire("__D"))},"__bk<input,change>":function(e){var t,r,n=this.updater,i=n.get("data"),A=n.get("eId"),o=e.params,a=o.key,s=o.read,l=o.bool,c=o.write,u=o.refresh,d=o.sync,f="width"==a||"height"==a;if(f&&(t=g.default.__bj(i,i.rotate)),r=l?e.eventTarget.checked:s?e[s]:v.default(e.eventTarget).val(),c&&(r=c(r,i)),d&&(i[d]=r),i[a]=r,f){var p=g.default.__bj(i,i.rotate);i.x+=t.x-p.x,i.y+=t.y-p.y,u=!0}(l||u)&&this.render(),h.State.fire("__am",{data:i,eId:A}),h.State.fire("__D",{key:a,time:500})},"__bl<change>":function(e){var t=this.updater,r=h.State.get("__f"),n=t.get("data"),i=t.get("eId"),A=e.params,o=e.pic;n[A.key]=o.src,A.updateSize&&(n.width=o.width*r,n.height=o.height*r),this.render(),h.State.fire("__am",{data:n,eId:i}),h.State.fire("__D")},"__bn<click>":function(){var t=this,e=this.updater,r=e.get("data"),n=e.get("eId"),i=h.State.get("__f"),A=r.src,o=new Image,a=this,s=g.default.__bj(r,r.rotate);o.onerror=function(){a.alert(l.default("__bm"))},o.onload=function(){r.width=o.width*i,r.height=o.height*i;var e=g.default.__bj(r,r.rotate);r.x+=s.x-e.x,r.y+=s.y-e.y,t.render(),h.State.fire("__am",{data:r,eId:n}),h.State.fire("__D")},o.src=A},"__b_<dragfinish>":function(e){for(var t=v.default(e.eventTarget).find("li"),r=h.State.get("__aK"),n=h.default.toMap(r,"id"),i=r.length,A=0,o=t;A<o.length;A++){n[o[A].getAttribute("data-eid")].props.zIndex=i--}this.render(),h.State.fire("__aZ"),h.State.fire("__D")},"__bb<click>":function(e){n.StageElements.__ba(e.params.id,!0),this.render(),h.State.set({__aS:null}),h.State.fire("__aV"),h.State.fire("__aZ"),h.State.fire("__D")},"__bd<mouseover,mouseout>":function(e){"p-table"!=e.from&&(h.default.inside(e.relatedTarget,e.eventTarget)||(h.State.set({__aS:e.params.element}),h.State.fire("__aV")))}})}),define("editor/core/stage",["$","magix","../../cainiao/const","../../element/image/designer","../../gallery/mx-dragdrop/index","../../service/index","../../util/converter","../../util/table","../const/click-desc","../const/keys","./history","./workaround","./modifier"],function(e,t,r){e("./modifier"),t.__esModule=!0;var Fe=e("$"),Se=e("magix"),d=e("../../cainiao/const"),f=e("../../element/image/designer"),n=e("../../gallery/mx-dragdrop/index"),i=e("../../service/index"),g=e("../../util/converter"),He=e("../../util/table"),o=e("../const/click-desc"),p=e("../const/keys"),h=e("./history"),Te=e("./workaround");Se.default.applyStyle("pe-e",".pe-aD{pointer-events:all}.pe-aE{outline:0;display:flex}.pe-aF{margin:0 auto;flex:0 0 auto;padding:50px 100px}.pe-aG{background:#fff;box-shadow:0 3px 6px 0 rgba(0,0,0,.3);line-height:1.28571}.pe-aH{background:transparent}.pe-aI{background:#fafafa}.pe-ag{pointer-events:none}"),t.default=Se.View.extend({mixins:[n,i.default],tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.vId,c=e.header,u=e.width,d=e.height,f=e.elements,p=e.footer;s+='<div mxv mxa="pe-g:_" class="pe-aE pe-u" mx-mousedown="'+t+'\x1e__bM()" id="stage_outer" tabindex="0" mx-keydown="'+t+'\x1e__ca()" mx-focusout="'+t+'\x1e__cl()" mx-focusin="'+t+'\x1e__cm()" mx-drop="'+t+'\x1e__ck()"><div mxv class="pe-aF" id="cx_'+n(l)+'"><div class="pe-aI" style="height:',s+=0<c?n(c):"0",s+="px;width:"+n(u)+'px;"></div><div mxv class="pe-u pe-aG" style="width:'+n(u)+"px;height:"+n(d)+'px;" id="stage_stage" mx-contextmenu="'+t+'\x1e__cf()">';for(var h=0,g=f.length;h<g;h++){var v=f[h];s+=" ";var m=v.ctor,_=v.props,w=v.id,B=v.type;s+=" ","#script"!=B&&(s+='<div mxv="elements" id="'+n(w)+'" mx-view="element/'+n(m.type)+"/designer?type="+A(B)+"&id="+A(w)+"&ctor="+o(r,m)+"&props="+o(r,_)+'" class="pe-aD" mx-mousedown="'+t+"\x1e__bO({id:'"+n(a(w))+"',ctor:'"+o(r,m)+"',props:'"+o(r,_)+"',type:'"+n(a(B))+"'})\"></div>"),s+=" "}return s+='</div><div class="pe-aI" style="height:',s+=0<p?n(p):"0",s+="px;width:"+n(u)+'px;"></div></div><div mx-view="editor/core/modifier" id="m_'+n(l)+'"></div><div mxs="pe-g:_" id="outer_cm"></div></div><div mxs="pe-g:a" class="pe-aH" id="stayBar"></div>'},init:function(){function t(e){var t=Se.State.get("__aK");if(e&&e.scale){Te.StageElements.__bu(e.from,e.to);var r=Se.State.get("page");r.width=r.width/e.from*e.to,r.height=r.height/e.from*e.to,r.header=r.header/e.from*e.to,r.footer=r.footer/e.from*e.to,A.updater.set({elements:t})}else A.updater.digest({elements:t})}var A=this;Se.State.on("__D",function(e){e.key?h.default.__aR(e.key,e.time):h.default.__aR()}),Se.State.on("__o",function(e){if(e.history){var t=Se.State.get("__aK");A.updater.set({elements:t}),A.render()}}),Se.State.on("__n",function(e){e.scale?t(e):e.keepSelect||Te.StageSelectElements.__bv(),A.render()}),Se.State.on("__aZ",t),Se.State.on("__bw",function(e){e.zone!=o.default.CANVAS&&e.zone!=o.default.PROPERTY&&Te.StageSelectElements.__bv()});var n=null;Se.State.on("__bx",function(e){var t=e.hoverNode;if(Se.default.inside(t,"stage_stage")){var r=Te.StageElements.__by(t);r&&r.dashed==n||n&&n.addClass("pe-v"),r&&r.dashed&&r.dashed!=n&&(n=Fe.default(r.dashed)).removeClass("pe-v")}else t||(n&&n.addClass("pe-v"),n=null)}),Se.State.on("__bz",function(e){if(Se.default.inside(e.dropNode,"stage_stage")){var t=Te.StageElements.__by(e.dropNode),r=Te.StageElements.__bA(e,!1,t,e.ignoreSnapshot);r&&A.updater.digest({elements:r})}}),Se.State.on("__bB",function(){var e=Se.State.get("__f"),t=Fe.default("#stage_stage").offset(),r=80*Math.random()*e,n={pageX:t.left+r+A.__q.prop("scrollLeft"),pageY:t.top+r+A.__q.prop("scrollTop")},i=Te.StageElements.__bA(n,!0);i&&(A.updater.digest({elements:i}),Se.State.fire("__D"))}),Se.State.on("__bC",function(e){A.__bD(e)}),Se.State.on("__au",function(e){var t=Fe.default("#stayBar"),r=Fe.default("#app_stage");if(e.locked){var n=r.prop("scrollWidth"),i=r.prop("scrollHeight"),A=Se.State.get("page");t.css({height:i,width:n,marginTop:-(A.height+100),display:"block"})}else t.hide()}),A.updater.set({elements:Se.State.get("__aK")}),A.__q=Fe.default("#"+A.id),Se.State.on("__bE",function(e){A.__q[e.start?"addClass":"removeClass"]("pe-ag")})},render:function(){var e=Se.State.get("page");this.updater.digest({header:e.header,footer:e.footer,width:e.width,height:e.height})},"__bM<mousedown>":function(e){var l=this,t=e.target.id;if("stage_outer"==t||"stage_stage"==t||t=="cx_"+l.id){var c=null;if(e.shiftKey){c={};for(var r=0,n=Te.StageSelectElements.__bF();r<n.length;r++){var i=n[r];c[i.id]=1}}else Te.StageSelectElements.__bv();var u=g.default.__bG({x:e.pageX,y:e.pageY}),d=Se.Vframe.get("m_"+l.id),f=!1,p=!1,h=Te.StageElements.__bH();l.dragdrop(e.eventTarget,l.__bg(function(e){if(!p){f=!0;var t=g.default.__bG({x:e.pageX,y:e.pageY});d.invoke("__aW",[u,t]);var r=Math.abs(u.x-t.x),n=Math.abs(u.y-t.y),i=Math.min(u.x,t.x),A=Math.min(u.y,t.y),o=g.default.__bI({x:i,y:A});o.width=r,o.height=n;var a=Te.StageElements.__bJ(h,o,c),s=JSON.stringify(a,["id"]);s!=l.__bK&&(l.__bK=s,Te.StageSelectElements.__bL(a))}},50),function(){f&&(delete l.__bK,p=!0,d.invoke("__aX"))})}},"__bO<mousedown>":function(e){"element_table"!=e.from&&Te.StageElements.__bN(e,this)},"__ca<keydown>":function(e){var t=e.target;if("text-element"!=Fe.default(t).data("role")){e.metaKey||e.shiftKey||e.altKey||e.ctrlKey||(e.keyCode==p.default.F?(e.preventDefault(),Te.StageElements.__bP()):e.keyCode!=p.default.L&&e.keyCode!=p.default.R&&e.keyCode!=p.default.U&&e.keyCode!=p.default.D&&e.keyCode!=p.default.T&&e.keyCode!=p.default.B||(e.preventDefault(),Se.State.fire("__bQ",{key:e.keyCode})));var r=Te.StageSelectElements.__bF(),n=Se.State.get("__aK");if(e.keyCode==p.default.TAB)return e.preventDefault(),void Te.StageElements.__bR(e);if(r.length)if(e.ctrlKey||e.metaKey)(e.ctrlKey||e.metaKey)&&e.keyCode==p.default.C&&(e.preventDefault(),Te.Clipboard.__bU());else{e.preventDefault();var i=!1,A=!1;if(e.keyCode==p.default.DELETE)i=!0,Te.StageElements.__bS();else for(var o=e.shiftKey?10:1,a=0,s=r;a<s.length;a++){var l=s[a];if(l.props.locked||(e.keyCode==p.default.UP?(A=!0,l.props.y-=o):e.keyCode==p.default.DOWN?(A=!0,l.props.y+=o):e.keyCode==p.default.LEFT?(A=!0,l.props.x-=o):e.keyCode==p.default.RIGHT&&(A=!0,l.props.x+=o)),A){var c=Se.Vframe.get(l.id);c&&c.invoke("assign",l)&&c.invoke("render")}}(A||i)&&(i&&(r.length=0),Se.State.fire("__aA"),Se.State.fire("__D",{key:"__bT",time:500})),i&&this.updater.digest({elements:n})}if(e.ctrlKey||e.metaKey)if(e.keyCode==p.default.N)e.preventDefault(),Se.State.fire("__bV");else if(e.keyCode==p.default.V){if(e.preventDefault(),Te.Clipboard.__bW()){var u=Te.StageElements.__bX();Te.Clipboard.__bY(u),Se.State.fire("__D")}}else if(e.keyCode==p.default.A){e.preventDefault(),(u=Te.StageElements.__bX()).coll.length&&Te.StageElements.__bZ(u.coll)}else e.keyCode==p.default.X?(e.preventDefault(),Te.Clipboard.__c_()):e.keyCode==p.default.Z?(e.preventDefault(),e.shiftKey?h.default.__aQ():h.default.__aP()):e.keyCode==p.default.Y&&(e.preventDefault(),h.default.__aQ())}},__bD:function(e){if("align"==e.action){for(var t=Fe.default("#"+this.id).offset(),r=Te.StageSelectElements.__bF(),n=-Number.MAX_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,A=Number.MAX_SAFE_INTEGER,o=-Number.MAX_SAFE_INTEGER,a=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,l=0,c=r;l<c.length;l++){var u=c[l],d=Fe.default("#"+u.id+" [mx-view]>*")[0].getBoundingClientRect();if("right"==e.to)d.right>n&&(n=d.right);else if("left"==e.to)d.left<i&&(i=d.left);else if("top"==e.to)d.top<A&&(A=d.top);else if("bottom"==e.to)d.bottom>o&&(o=d.bottom);else if("vcenter"==e.to){var f=(d.bottom-d.top)/2;d.top+f<a&&(a=d.top+f)}else if("hcenter"==e.to){f=(d.right-d.left)/2;d.left+f<s&&(s=d.left+f)}}n-=t.left,i-=t.left,A-=t.top,o-=t.top,a-=t.top,s-=t.left;for(var p=0,h=0,g=r;h<g.length;h++){u=g[h],d=Fe.default("#"+u.id+" [mx-view]>*")[0].getBoundingClientRect();var v=0;if("right"==e.to)0!=(m=n-(d.right-t.left))&&(v=p=1,u.props.x+=m);else if("left"==e.to){0!=(m=i-(d.left-t.left))&&(v=p=1,u.props.x+=m)}else if("top"==e.to){0!=(m=A-(d.top-t.top))&&(v=p=1,u.props.y+=m)}else if("bottom"==e.to){0!=(m=o-(d.bottom-t.top))&&(v=p=1,u.props.y+=m)}else if("vcenter"==e.to){0!=(m=a-(d.top-t.top+(d.bottom-d.top)/2))&&(v=p=1,u.props.y+=m)}else if("hcenter"==e.to){var m;0!=(m=s-(d.left-t.left+(d.right-d.left)/2))&&(v=p=1,u.props.x+=m)}if(v)(Ue=Se.Vframe.get(u.id))&&Ue.invoke("assign",u)&&Ue.invoke("render")}p&&(Se.State.fire("__aA"),Se.State.fire("__D"))}else if("put"==e.action){for(var _=Te.StageElements.__cb(),w=Se.State.get("page"),B=(p=0,0),y=_;B<y.length;B++){var x=0,b=0;r=(P=y[B]).elements;if("stage"==P.type)x=w.width,b=w.height;else x=(ie=P.table.props.rows[P.row].cells[P.col]).width,b=ie.height;var C=x/2,Q=b/2;if(e.shift)for(var E=0,U=r;E<U.length;E++){var F=(u=U[E]).props;v=0;if("hc"==e.to)(M=C-F.width/2)!=F.x&&(F.x=M,v=p=1);else(L=Q-F.height/2)!=F.y&&(F.y=L,v=p=1);if(v)(Ue=Se.Vframe.get(u.id))&&Ue.invoke("assign",u)&&Ue.invoke("render")}else{for(var S=Number.MAX_SAFE_INTEGER,H=Number.MAX_SAFE_INTEGER,T=-Number.MAX_SAFE_INTEGER,k=-Number.MAX_SAFE_INTEGER,N=0,I=r;N<I.length;N++){(F=(u=I[N]).props).x<S&&(S=F.x),F.x+F.width>T&&(T=F.x+F.width),F.y<H&&(H=F.y),F.y+F.height>k&&(k=F.y+F.height)}for(var M=C-(S+(T-S)/2),L=Q-(H+(k-H)/2),D=0,O=r;D<O.length;D++){F=(u=O[D]).props,v=0;if("hc"==e.to){var K=F.x+M;F.x!=K&&(p=v=1,F.x=K)}else{var R=F.y+L;F.y!=R&&(p=v=1,F.y=R)}if(v)(Ue=Se.Vframe.get(u.id))&&Ue.invoke("assign",u)&&Ue.invoke("render")}}}p&&(Se.State.fire("__aA"),Se.State.fire("__D"))}else if("avg"==e.action){if(1==(_=Te.StageElements.__cb()).length){var P;p=0;if(2<(r=(P=_[0]).elements).length||e.ctrl){for(var z=-Number.MAX_SAFE_INTEGER,X=Number.MAX_SAFE_INTEGER,W=-Number.MAX_SAFE_INTEGER,V=Number.MAX_SAFE_INTEGER,G=[],Y=0,j=r;Y<j.length;Y++){var J=(F=(u=j[Y]).props).x+F.width/2,q=F.y+F.height/2;z<J&&(z=J),J<X&&(X=J),W<q&&(W=q),q<V&&(V=q),G.push({m:u,mx:J,my:q})}var $=-1,Z=-1,ee=0,te=(G="av"==e.to?G.sort(function(e,t){return e.my-t.my}):G.sort(function(e,t){return e.mx-t.mx})).length,re=te+1,ne=null;if(e.ctrl){var ie;if("stage"==P.type)Z=(w=Se.State.get("page")).width,$=w.height;else Z=(ie=P.table.props.rows[P.row].cells[P.col]).width,$=ie.height;ne={props:{x:0,y:0,width:0,height:0}}}else{var Ae=G[0],oe=G[G.length-1],ae=Ae.m.props,se=oe.m.props;$=se.y-ae.y-ae.height,Z=se.x-ae.x-ae.width,ee+=1,te-=1,re-=2,ne=Ae.m}if(e.shift){e.ctrl&&(z=Z,V=X=0,W=$);for(var le=(W-V)/re,ce=(z-X)/re,ue=ee;ue<te;ue++){u=G[ue].m,v=0;if("av"==e.to){var de=ne.props.y+ne.props.height/2;de+=le,de-=u.props.height/2,u.props.y!=de&&(v=p=1,u.props.y=de)}else{var fe=ne.props.x+ne.props.width/2;fe+=ce,fe-=u.props.width/2,u.props.x!=fe&&(v=p=1,u.props.x=fe)}if(v)(Ue=Se.Vframe.get(u.id))&&Ue.invoke("assign",u)&&Ue.invoke("render");ne=u}}else{var pe=0,he=0;for(ue=ee;ue<te;ue++){pe+=(F=G[ue].m.props).height,he+=F.width}var ge=($-pe)/re,ve=(Z-he)/re;for(ue=ee;ue<te;ue++){u=G[ue].m,v=0;if("av"==e.to){var me=ne.props.y+ne.props.height+ge;u.props.y!=me&&(v=p=1,u.props.y=me)}else{var _e=ne.props.x+ne.props.width+ve;u.props.x!=_e&&(v=p=1,u.props.x=_e)}if(v)(Ue=Se.Vframe.get(u.id))&&Ue.invoke("assign",u)&&Ue.invoke("render");ne=u}}p&&(Se.State.fire("__aA"),Se.State.fire("__D"))}}}else if("same"==e.action){r=Te.StageSelectElements.__bF();for(var we=-Number.MAX_SAFE_INTEGER,Be=-Number.MAX_SAFE_INTEGER,ye=Number.MAX_SAFE_INTEGER,xe=Number.MAX_SAFE_INTEGER,be=0,Ce=r;be<Ce.length;be++){(F=(u=Ce[be]).props).width>we&&(we=F.width),F.width<ye&&(ye=F.width),F.height>Be&&(Be=F.height),F.height<xe&&(xe=F.height)}p=0;for(var Qe=0,Ee=r;Qe<Ee.length;Qe++){var Ue;F=(u=Ee[Qe]).props,v=0;if("maw"==e.to?F.width!=we&&(p=v=1,F.width=we):"miw"==e.to?F.width!=ye&&(p=v=1,F.width=ye):"mah"==e.to?F.width!=Be&&(p=v=1,F.height=Be):"mih"==e.to&&F.width!=xe&&(p=v=1,F.height=xe),v)"table"==u.type?He.default.__h(u.props,{fsize:!0}):"qrcode"==u.type&&("mah"==e.to||"mih"==e.to?F.width=F.height:F.height=F.width),(Ue=Se.Vframe.get(u.id))&&Ue.invoke("assign",u)&&Ue.invoke("render")}p&&(Se.State.fire("__aA"),Se.State.fire("__D"))}},"__cf<contextmenu>":function(e){if(e.preventDefault(),"element_table"!=e.from){var r=Te.StageSelectElements.__bF(),n=Se.State.get("__aK"),i=this;i.__cc=g.default.__bc({x:e.pageX,y:e.pageY}),Te.StageElements.__cd(i,e,null,n,function(e){if(0==e.id)Te.StageElements.__bZ(n);else if(1==e.id)Te.Clipboard.__bU();else if(14==e.id)Te.Clipboard.__c_();else if(2==e.id)Te.Clipboard.__bY({coll:n,collType:"stage",width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER},i.__cc),Se.State.fire("__D");else if(7==e.id){var t=Te.StageElements.__bS(!0);i.updater.digest({elements:t}),Se.State.fire("__D")}else{t=Te.StageElements.__ce(e.id,r[0],n);i.updater.digest({elements:t}),Se.State.fire("__D")}})}},"__ck<drop>":function(A){var c=this,e=A.originalEvent.dataTransfer.files,u=[],o=[],a=A.pageX,s=A.pageY,l=Se.default.guid("g_");Te.StageElements.__cg(e,function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t],i=Se.default.guid("file_");u.push(i),o.push(n.file),Se.State.set({__ch:f.default,__ci:{locked:!0,barred:i,groupId:l,src:d.default.DROP_STAGE_LOADING,width:n.width,height:n.height}}),Se.State.fire("__bz",{dropNode:A.target,pageX:a,pageY:s,ignoreSnapshot:1}),a+=40,s+=40}o.length&&(Se.State.set({__ch:null,__ci:null}),Se.State.fire("__n")),c.upload(o,l,function(i,e){for(var t=Se.State.get("__aK"),A=[],o={},a=0,r=0;r<u.length;r++)e[r]&&(o[u[r]]=e[r]);if(Te.StageElements.__cj(t,function(e,t){if("element"==t){var r=e.props.barred;if(e.props.groupId==i&&r){var n=o[r];n&&!n.error?(a=1,Se.default.mix(e.props,n),e.props.locked=!1,delete e.props.barred,delete e.props.groupId):A.push(e)}}}),A.length)for(var n=0,s=A;n<s.length;n++){var l=s[n];Te.StageElements.__ba(l.id,!0)}a&&Se.State.fire("__D"),(a||A.length)&&c.updater.digest({elements:t})})})},"__cl<focusout>":function(){this.__q.addClass("pe-aP")},"__cm<focusin>":function(){this.__q.removeClass("pe-aP")}})}),define("editor/core/store",["magix"],function(e,t,r){"use strict";t.__esModule=!0;e("magix");t.default={__aR:function(){},__cn:function(){var e={};try{var t=localStorage.getItem("l.state");t&&((e=JSON.parse(t)).success=!0)}catch(e){}return e},__aN:function(){try{localStorage.removeItem("l.state")}catch(e){}}}}),define("editor/core/template",["magix","../../cainiao/serializer","../../service/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("magix"),i=e("../../cainiao/serializer"),A=e("../../service/index");n.default.applyStyle("pe-i",".pe-aV{width:80px;height:80px;border:1px solid #ccc;text-align:center;line-height:80px;margin:3px;cursor:pointer;float:left}.pe-aV:hover{border-color:#999}.pe-aW,.pe-aW:hover{border-color:#06f}.pe-aX{min-height:500px}"),t.default=n.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.i18n,c=e.error,u=e.templates,d=e.selected;if(s+='<div mxa="pe-h:_" class="pe-K"><b mxa="pe-h:a" class="pe-d">'+n(l("_cq"))+'</b></div><div mxa="pe-h:b" class="pe-L pe-w pe-aX">',c)s+=" "+n(c.msg)+" ";else if(u.length){s+=" ";for(var f=0,p=u.length;f<p;f++){var h=u[f];s+='<div class="pe-aV',d==h.id&&(s+=" pe-aW"),s+='" mx-click="'+t+"\x1e__Q({t:'"+o(r,h)+"'})\">"+n(h.name)+"</div>"}s+=" "}else s+=" "+n(l("_cr"))+" ";return s+="</div>"},mixins:[A.default],init:function(e){this.__co=JSON.stringify(e.page),this.__M=e.dialog,this.__N=e.enter},render:function(){var r=this;this.fetch({name:"__cp",params:{biz_id:n.default.config("bizId")}},function(e,t){r.updater.digest({selected:"-1",error:e,templates:t.get("data",[])})})},"__Q<click>":function(e){var t,r=this,n=e.params.t.code;try{(t=i.default.decode(n)).xLines=[],t.yLines=[]}catch(e){return void r.alert(e.message)}r.__co!=JSON.stringify(t.page)&&(t.pageChange=!0),this.__N(t),this.__M.close()},"__R<click>":function(){this.__M.close()}})}),define("editor/core/toolbar",["magix","$","../../gallery/mx-monitor/index","../../util/converter","../../cainiao/const","../core/history","../../i18n/index","./workaround","gallery/mx-number/index"],function(e,t,r){e("gallery/mx-number/index"),t.__esModule=!0;var o=e("magix"),n=e("$"),i=e("../../gallery/mx-monitor/index"),A=e("../../util/converter"),a=e("../../cainiao/const"),s=e("../core/history"),l=e("../../i18n/index"),c=e("./workaround");o.default.applyStyle("pe-j",".pe-aY{padding:0 12px;background:#ccc;color:#333;height:100%;background-image:-webkit-gradient(linear,0 0,0 100%,from(#eee),to(#ccc),color-stop(0,#eee))}.pe-aZ{cursor:pointer;height:25px;line-height:25px;float:left;padding:0 4px;width:25px}.pe-aZ:hover{background:#eee;color:#111}.pe-b_,.pe-b_:hover{background:#fff;z-index:200000}.pe-ba{height:21px;width:1px;background:#ccc;margin:2px 12px;float:left}.pe-bb{position:absolute;right:0;top:calc(100% - 1px);background:#fff;width:400px;z-index:199999;border:1px solid #ccc}.pe-bc{width:125px}.pe-bd{width:105px}.pe-be{width:20px;text-align:center}.pe-bf{width:60px;text-align:right;vertical-align:middle}.pe-bg{overflow:auto;min-height:50px;margin-left:100px;display:block;max-height:160px}.pe-bh{width:41px;height:50px;float:left;border:1px solid #ccc;line-height:50px;font-size:16px;cursor:pointer;text-align:center;margin:2px}.pe-bh:hover{border-color:#999}.pe-bi,.pe-bi:hover{border-color:#06f}.pe-bj{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.pe-bk{color:#aaa;cursor:not-allowed}.pe-bk:hover{color:#aaa;background:transparent}.pe-bl{-webkit-transform:rotate(90deg);transform:rotate(90deg)}");function u(e){e.scale=e.scale||o.State.get("__f"),o.State.fire("__aL",{json:e}),e.pageChange&&o.State.fire("__n"),o.State.fire("__aZ"),o.State.fire("__ap"),o.State.fire("__D")}t.default=o.default.View.extend({tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.hs,c=e.i18n,u=e.canCenter,d=e.canAvg,f=e.selectCount,p=e.page,h=e.toMM,g=e.showBg,v=e.vId,m=e.CNC,_=e.scale;s+='<div mxv mxa="pe-i:_" class="pe-aY pe-w pe-x pe-u"><div mxa="pe-i:a" class="pe-p pe-n"><i class="pe-N pe-aZ',l.canUndo||(s+=" pe-bk"),s+='" title="'+n(c("_cI"))+'(Ctrl+Z)" ',l.canUndo&&(s+=' mx-click="'+t+"\x1e__cH({type:'undo'})\" "),s+='>&#xe682;</i><i class="pe-N pe-aZ pe-bj',l.canRedo||(s+=" pe-bk"),s+='" title="'+n(c("_cJ"))+'(Ctrl+Y)" ',l.canRedo&&(s+=' mx-click="'+t+"\x1e__cH({type:'redo'})\" "),s+='>&#xe682;</i><i mxs="pe-i:_" class="pe-ba"></i><i class="pe-N pe-aZ" title="'+n(c("_cK"))+'" mx-click="'+t+'\x1e__cF()">&#xe615;</i><i class="pe-N pe-aZ" mx-click="'+t+'\x1e__aR()" title="'+n(c("_S"))+'">&#xe611;</i><i class="pe-N pe-aZ" mx-click="'+t+'\x1e__cx()" title="'+n(c("_cq"))+'">&#xe601;</i>',u()&&(s+='<i mxs="pe-i:_" class="pe-ba"></i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({action:'put',to:'vc'})\" title=\""+n(c("_cL"))+'">&#xe679;</i><i class="pe-N pe-aZ pe-bl" mx-click="'+t+"\x1e__cE({action:'put',to:'hc'})\" title=\""+n(c("_cM"))+'">&#xe679;</i>'),s+=" ",d()&&(s+='<i class="pe-N pe-aZ pe-bl" mx-click="'+t+"\x1e__cE({action:'avg',to:'av'})\" title=\""+n(c("_cN"))+'">&#xe604;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({action:'avg',to:'ah'})\" title=\""+n(c("_cO"))+'">&#xe604;</i>'),s+=" ",1<f&&(s+='<i mxs="pe-i:_" class="pe-ba"></i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({to:'left'})\" title=\""+n(c("_cP"))+'">&#xe70b;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({to:'hcenter'})\" title=\""+n(c("_cQ"))+'">&#xe711;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({to:'right'})\" title=\""+n(c("_cR"))+'">&#xe70c;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({to:'top'})\" title=\""+n(c("_cS"))+'">&#xe70d;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({to:'vcenter'})\" title=\""+n(c("_cT"))+'">&#xe712;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({to:'bottom'})\" title=\""+n(c("_cU"))+'">&#xe70e;</i><i mxs="pe-i:_" class="pe-ba"></i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({action:'same',to:'maw'})\" title=\""+n(c("_cV"))+'">&#xe789;</i><i class="pe-N pe-aZ" mx-click="'+t+"\x1e__cE({action:'same',to:'miw'})\" title=\""+n(c("_cW"))+'">&#xe788;</i><i class="pe-N pe-aZ pe-bl" mx-click="'+t+"\x1e__cE({action:'same',to:'mah'})\" title=\""+n(c("_cX"))+'">&#xe789;</i><i class="pe-N pe-aZ pe-bl" mx-click="'+t+"\x1e__cE({action:'same',to:'mih'})\" title=\""+n(c("_cY"))+'">&#xe788;</i>'),s+="</div>";var w=""===p.width?"":h(p.width);s+=" ";var B=""===p.height?"":h(p.height);s+='<div mxv class="pe-bb pe-i',g||(s+=" pe-v"),s+='" id="bg_'+n(v)+'"><div mxa="pe-i:b" class="pe-F pe-w"><label mxa="pe-i:c" class="pe-G">'+n(c("_cZ"))+'\uff1a</label><div mxa="pe-i:d" class="pe-H"><div class="pe-B pe-bc pe-B pe-u" mx-input="'+t+"\x1e__cD({key:'width'})\" mx-view=\"gallery/mx-number/index?value="+A(w)+"&min="+A(m.PAGE_WIDTH_MIN)+"&fixed=2&max="+A(m.PAGE_WIDTH_MAX)+'"></div><span mxs="pe-i:a" class="pe-r pe-be">X</span><div class="pe-B pe-bc pe-B pe-u" mx-input="'+t+"\x1e__cD({key:'height'})\" mx-view=\"gallery/mx-number/index?value="+A(B)+"&min="+A(m.PAGE_HEIGHT_MIN)+"&fixed=2&max="+A(m.PAGE_HEIGHT_MAX)+'"></div></div></div>';var y=""===p.header?"":h(p.header);s+=" ";var x=""===p.footer?"":h(p.footer);s+='<div mxa="pe-i:e" class="pe-F pe-w"><label mxa="pe-i:f" class="pe-G">'+n(c("_d_"))+'\uff1a</label><div mxa="pe-i:g" class="pe-H"><div class="pe-B pe-bd pe-B pe-u" mx-input="'+t+"\x1e__cD({key:'header'})\" mx-view=\"gallery/mx-number/index?value="+A(y)+"&min=0&fixed=2&max="+A(m.PAGE_WIDTH_MAX)+'"></div><span mxa="pe-i:h" class="pe-r pe-bf">'+n(c("_da"))+'\uff1a</span><div class="pe-B pe-bd pe-B pe-u" mx-input="'+t+"\x1e__cD({key:'footer'})\" mx-view=\"gallery/mx-number/index?value="+A(x)+"&min=0&fixed=2&max="+A(m.PAGE_HEIGHT_MAX)+'"></div></div></div><div mxv mxa="pe-i:i" class="pe-F pe-w"><label mxa="pe-i:j" class="pe-G">'+n(c("_db"))+'\uff1a</label><div mxv mxa="pe-i:k" class="pe-H"><input ',p.splitable&&(s+="checked"),s+=' class="pe-E" type="checkbox" mx-change="'+t+'\x1e__cD({key:\'splitable\'})"/></div></div><div mxa="pe-i:l" class="pe-F pe-w"><label mxa="pe-i:m" class="pe-G pe-p">'+n(c("_dc"))+'\uff1a</label><div mxa="pe-i:n" class="pe-H pe-bg">';for(var b=0,C=m.PAGES,Q=C.length;b<Q;b++){var E=C[b];s+='<div class="pe-bh',w==E.width&&B==E.height&&(s+=" pe-bi"),s+='" ',w==E.width&&B==E.height||(s+=' mx-click="'+t+"\x1e__cB({page:'"+o(r,E)+"'})\" "),s+=">"+n(E.text)+"</div>"}return s+='</div></div></div><div mxa="pe-i:o" class="pe-q"><div mxa="pe-i:p" class="pe-p pe-w pe-f"><i class="pe-N pe-aZ" mx-click="'+t+'\x1e__cG({out:true})" title="'+n(c("_dd"))+'">&#xe602;</i><span mxa="pe-i:q" class="pe-r pe-p pe-c pe-o" style="width:40px;">'+n((100*_).toFixed(0))+'%</span><i class="pe-N pe-aZ" mx-click="'+t+'\x1e__cG()" title="'+n(c("_de"))+'">&#xe699;</i></div><span mxa="pe-i:r" class="pe-r pe-p pe-c">'+n(Number(w).toFixed(2))+" x "+n(Number(B).toFixed(2))+'</span><i class="pe-N pe-aZ',g&&(s+=" pe-b_"),s+='" title="'+n(c("_df"))+'" mx-click="'+t+'\x1e__cA()" id="bgt_'+n(v)+'">&#xe627;</i></div></div>'},init:function(){var e=this;e.__q=n.default("#"+e.id);var t=e.__bg(function(){e.render()},100);o.State.on("__ap",t),o.State.on("__o",t),o.State.on("__p",t),o.State.on("__bV",function(){0<o.State.get("__aK").length&&e.confirm(l.default("__cs"),function(){u({elements:[],select:[],xLines:[],yLines:[]})})}),i.__ct(),e.on("destroy",function(){i.__cu(e),i.__cv()}),e.updater.set({CNC:a.default,canCenter:function(){var e=o.State.get("__as");return 1!=e.length?1<e.length:!e[0].props.useCNStyle},canAvg:function(){var e=c.StageElements.__cb();return 1==e.length?1<e[0].elements.length:0},toMM:A.default.__i})},render:function(){var e=o.State.get("page");this.updater.digest({selectCount:o.State.get("__as").length,page:e,hs:s.default.__aO(),scale:o.State.get("__f")})},__cw:function(e){return!o.default.inside(e,"app")||(o.default.inside(e,"bg_"+this.id)||o.default.inside(e,"bgt_"+this.id))},"__aR<click>":function(){var e={elements:o.State.get("__aK"),page:o.State.get("page")},t=this;t.mxDialog("editor/core/code",{width:1100,enter:function(e){u(e),e.pageChange&&t.render()},stage:e})},"__cx<click>":function(){var t=this;t.mxDialog("editor/core/template",{width:900,enter:function(e){u(e),e.pageChange&&t.render()},page:o.State.get("page")})},__ak:function(){this.__cy||(this.__cy=!0,this.updater.digest({showBg:!0}),i.__cz(this))},__al:function(){this.__cy&&(this.__cy=!1,this.updater.digest({showBg:!1}),i.__cu(this))},"__cA<click>":function(){this.__cy?this.__al():this.__ak()},"__cB<click>":function(e){var t=e.params.page,r=A.default.__e(t.width),n=A.default.__e(t.height),i=this.updater.get("page");i.width=r,i.height=n,this.render(),o.State.fire("__n"),o.State.fire("__D")},"__cD<change,input>":function(e){var t,r=e.params.key,n=this.updater.get("page");t="splitable"==r?e.target.checked:""===e.value?"":A.default.__e(e.value),n[r]=t,this.render(),o.State.fire("__n"),"input"==e.type?o.State.fire("__D",{key:"__cC",time:300}):o.State.fire("__D")},"__cE<click>":function(e){var t=e.params,r=t.action,n=t.to;o.State.fire("__bC",{action:r||"align",shift:e.shiftKey,ctrl:e.ctrlKey||e.metaKey,to:n})},"__cF<click>":function(){o.State.fire("__bV")},"__cG<click>":function(e){var t=e.params.out,r=a.default.SCALE_STEP,n=o.State.get("__f"),i=n,A=!1;t?n>a.default.SCALE_MIN&&(n-=r,A=!0):n<a.default.SCALE_MAX&&(n+=r,A=!0),A&&(o.State.set({__f:n}),this.render(),o.State.fire("__n",{scale:!0,from:i,to:n}),o.State.fire("__D"))},"__cH<click>":function(e){"redo"==e.params.type?s.default.__aQ():s.default.__aP()}})}),define("editor/core/toolbox",["$","magix","../../element/index","../../gallery/mx-dragdrop/index","../../service/index"],function(e,t,r){"use strict";t.__esModule=!0;var n=e("$"),s=e("magix"),i=e("../../element/index"),l=e("../../gallery/mx-dragdrop/index"),A=e("../../service/index");s.default.applyStyle("pe-k",".pe-bm{width:230px;height:100%;background:#1b1b29;color:#bfbebe;padding:10px 6px 30px;transition:margin-left .15s;position:relative;z-index:3000}.pe-bn{margin-left:-210px}.pe-bo{position:relative;height:20px;color:#fff}.pe-bp{position:absolute;cursor:pointer;right:3px;top:-2px;font-size:20px;transition:all .15s}.pe-bn .pe-bp{right:-4px;-webkit-transform:scaleX(-1);transform:scaleX(-1)}.pe-bq{height:calc(100% - 20px);overflow:auto;transition:all .5s}.pe-br{height:80px;overflow:hidden}.pe-bs{cursor:default}.pe-bt{border:1px solid #464646;width:60px;height:60px;margin:4px;border-radius:2px;transition:all .5s}.pe-bt:hover{border-color:#c2c2c2}.pe-bu{width:34px;height:34px;margin:3px}.pe-bv{text-align:center}.pe-bw{background:#474761;position:absolute;opacity:.5;left:-1000px;top:-1000px;width:40px;height:40px;border-radius:6px;z-index:5000}.pe-bx{height:1px;line-height:1px;margin:5px 0;background:hsla(0,0%,100%,.2);background:-webkit-gradient(linear,left top,right top,from(rgba(165,69,243,0)),color-stop(.5,rgba(125,118,132,.33)),to(rgba(165,69,243,0)))}.pe-by{width:190px}.pe-bz{height:calc(100% - 116px);overflow:auto}.pe-bA{height:30px;line-height:30px;padding:0 5px}.pe-bB{width:25px;height:25px;margin-top:2px}.pe-bC{width:160px}.pe-bA:hover{color:#fff}");var o=s.default.guid("de_"),c=function(e){var t=n.default("#"+o);t.length||(n.default(document.body).append('<div class="pe-bw" id="'+o+'"/>'),t=n.default("#"+o)),t.html(e.icon)},u=function(e){n.default("#"+o).css({left:e.pageX+10,top:e.pageY+18})},d=function(){n.default("#"+o).css({left:-1e3,top:-1e3})};t.default=s.default.View.extend({mixins:[l,A.default],tmpl:function(e,t,r,n,i,A,o,a){var s="",l=e.collapse,c=e.i18n,u=e.preList,d=e.designers,f=e.keyword;s+='<div mxv class="pe-bm pe-x',l&&(s+=" pe-bn"),s+='"><div mxa="pe-j:_" class="pe-bo"><i class="pe-N pe-bp" mx-click="'+t+'\x1e__dh()" title="',s+=n(c(l?"_dk":"_dl")),s+='">&#xe616;</i></div><div id="toolbox_list" class="pe-bq',u.length&&(s+=" pe-br"),s+='">';for(var p=0,h=d.list,g=h.length;p<g;p++){var v=h[p];s+='<div class="pe-p pe-bs" title="'+n(c(v.title))+'" mx-mousedown="'+t+"\x1e__bM({element:'"+o(r,v)+'\'})"><div class="pe-bt',u.length&&(s+=" pe-bu"),s+='">'+i(v.icon)+'</div><div class="pe-bv',u.length&&(s+=" pe-v"),s+='">'+n(c(v.title))+"</div></div>"}if(s+="</div>",u.length){s+='<div mxs="pe-j:_" class="pe-bx"></div><input class="pe-B pe-g pe-by" placeholder="'+n(c("_dm"))+'" mx-input="'+t+'\x1e__dj()" value="'+n(f)+'"/><div mxa="pe-j:a" class="pe-bz pe-i" id="toolbox_prelist">';for(var m=0,_=u.length;m<_;m++){var w=u[m];if(s+=" ",!f||0<=w.name.indexOf(f)){s+=" ";var B=d.byType(w.type);s+='<div class="pe-bA pe-w" mx-mousedown="'+t+"\x1e__bM({element:'"+o(r,B)+"',props:'"+o(r,w.props)+"',pre:true,name:'"+n(a(w.name))+'\'})"><div mxa="pe-j:b" class="pe-bB pe-p">'+i(B.icon)+'</div><div class="pe-bC pe-p pe-y" title="'+n(w.name)+'">'+n(w.name)+"</div></div>"}s+=" "}s+="</div>"}return s+="</div>"},init:function(){var t=this;s.State.on("__p",function(e){t.updater.digest({lang:e.lang})})},render:function(){var n=this;this.updater.digest({designers:i.default,keyword:"",preList:[]}),this.fetch({name:"__dg",params:{biz_id:s.default.config("bizId")}},function(e,t){var r=t.get("data",[]);r.length&&n.updater.digest({preList:r})})},"__bM<mousedown>":function(e){var t=e.params,r=t.element,n=t.props,i=t.pre,A=t.name;c(r),i&&(n||(n={}),n.allowEdit=0,n.tip=n.alias||n.tip||A),s.State.set({__ch:r,__ci:n});var o=!1,a=null;this.dragdrop(e.eventTarget,function(e){u(e),o=!0;var t=l.fromPoint(e.clientX,e.clientY);t!=a&&(a=t,s.State.fire("__bx",{hoverNode:a}))},function(e){if(a=null,s.State.fire("__bx"),!o)return s.State.fire("__bB"),void s.State.set({__ch:null,__ci:null});if(d(),e){var t=l.fromPoint(e.clientX,e.clientY);s.State.fire("__bz",{dropNode:t,pageX:e.pageX,pageY:e.pageY}),s.State.set({__ch:null,__ci:null})}})},"__dh<click>":function(){var e=this.updater,t=!e.get("collapse");e.digest({collapse:t}),n.default(document).trigger({type:"toolboxtoggle",collapse:t})},"__dj<input>":function(e){clearTimeout(this.__di);var t=this.updater;t.set({keyword:e.eventTarget.value}),this.__di=setTimeout(this.wrapAsync(function(){t.digest()}),300)}})}),define("editor/core/workaround",["magix","../../util/converter","../../util/transform","../../gallery/mx-menu/index","./contextmenu","$","../../util/table"],function(e,b,t){"use strict";var m=this&&this.__assign||function(){return(m=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};b.__esModule=!0;var C=e("magix"),g=e("../../util/converter"),Q=e("../../util/transform"),v=e("../../gallery/mx-menu/index"),_=e("./contextmenu"),w=e("$"),h=e("../../util/table"),o=C.default.toMap,B=C.default.has,y=C.default.mix;b.StageSelectElements={__bv:function(e){var t=C.State.get("__as"),r=t.length;if(r||e){var n=1<r?null:t[0];t.length=0;var i=!1;e?(t.push(e),i=e!=n):r&&(i=!0),i&&(C.State.set({__ar:o(t,"id")}),C.State.fire("__ap"),C.State.fire("__D"))}},__cz:function(e){for(var t=C.State.get("__as"),r=!1,n=0,i=t;n<i.length;n++){if(i[n].id===e.id){r=!0;break}}r||(t.push(e),C.State.set({__ar:o(t,"id")}),C.State.fire("__ap"),C.State.fire("__D"))},__cu:function(e){for(var t=C.State.get("__as"),r=!1,n=-1,i=0,A=t;i<A.length;i++){if(n++,A[i].id===e.id){r=!0;break}}r&&(t.splice(n,1),C.State.set({__ar:o(t,"id")}),C.State.fire("__ap"),C.State.fire("__D"))},__bL:function(e){var t=C.State.get("__as");t.length=0,t.push.apply(t,e),C.State.set({__ar:o(t,"id")}),C.State.fire("__ap"),C.State.fire("__D")},__dn:function(){return C.State.get("__as").length},__bF:function(){return C.State.get("__as")}},b.StageElements={__bA:function(e,t,r,n){var i,A=C.State.get("__ch");if(A){var o=C.State.get("__aK"),a=C.State.get("__f"),s=(i=b.StageElements.__do(e,t,r)).xy,l=i.collection,c=i.focus,u=i.collType,d=A.getProps(s.x,s.y);d.zIndex=l.length+1;var f=C.State.get("__ci");f&&y(d,f),b.StageElements.__dp(A,d,a);var p={id:C.default.guid("e_"),ctor:A,type:A.type,props:d};return"vtext"==A.type||"htext"==A.type?d.supportCNStyle="td"==u:"table"==A.type&&h.default.__h(d),l.push(p),c&&!n&&b.StageSelectElements.__bv(p),o}},__cb:function(){var g=C.State.get("__ar"),v={},m=[],_=function(e,t,r,n){for(var i=0,A=e;i<A.length;i++){var o=A[i];if(B(g,o.id)){var a=t?[t.id,r,n].join("-"):"stage";v[a]||m.push(v[a]={type:t?"td":"stage",table:t,row:r,col:n,elements:[]}),v[a].elements.push(o)}if("table"==o.type)for(var s=0,l=0,c=o.props.rows;l<c.length;l++){var u=c[l];if("tr"==u.tag)for(var d=0,f=0,p=u.cells;f<p.length;f++){var h=p[f];"td"==h.tag&&h.children&&_(h.children,o,s,d),d++}s++}}},e=C.State.get("__aK");return _(e),m},__bP:function(){var e=this.__cb();if(1===e.length){var t=e[0];if("td"==t.type){var r=t.table;r.props.rowIndex=t.row,r.props.colIndex=t.col,C.State.fire("__am",{eId:r.id,data:r.props}),b.StageSelectElements.__bv(r)}}},__cj:function(e,d){var f=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t];if(d(n,"element"),"table"==n.type)for(var i=0,A=0,o=n.props.rows;A<o.length;A++){var a=o[A];if(d(a,"row",{row:i}),"tr"==a.tag)for(var s=0,l=0,c=a.cells;l<c.length;l++){var u=c[l];d(u,"td",{row:i,col:s}),"td"==u.tag&&u.children&&f(u.children),s++}i++}}};f(e)},__do:function(e,t,r){var n,i=b.StageSelectElements.__bF(),A=i[0],o=g.default.__bc({x:e.pageX,y:e.pageY}),a=C.State.get("__aK"),s=!0,l="stage";if(t&&1==i.length&&"table"==A.type&&-1<A.props.rowIndex){var c=(n=A.props).rows,u=n.rowIndex,d=n.colIndex,f=c[u];if(f){var p=f.cells[d];p&&(p.children||(p.children=[]),a=p.children,l="td",s=!(o={x:5,y:5}))}}else if(!t&&r){var h=w.default(r.node).offset();o={x:e.pageX-h.left,y:e.pageY-h.top},a=r.children,l="td"}return{collection:a,xy:o,focus:s,collType:l}},__by:function(u){var e=C.State.get("__aK"),d=null,f=function(e){for(var t=0,r=e;t<r.length;t++){var n=r[t],i=C.default.node(n.id);if(C.default.inside(u,i)){if("table"==n.type)for(var A=n.props.rows,o=A.length;o--;){var a=A[o];if(a.cells)for(var s=a.cells.length;s--;){var l=C.default.node("entity_"+n.id+"_c_"+o+"_"+s),c=a.cells[s];C.default.inside(u,l)&&(c.children||(c.children=[]),d={node:l,dashed:"#entity_"+n.id+"_dashed_"+o+"_"+s,children:c.children},f(d.children))}}break}}};return f(e),d},__bX:function(){var e,t=b.StageSelectElements.__bF();if(1===t.length){var r=(e=(A=t[0]).props).rows,n=e.rowIndex,i=e.colIndex;if(-1<n&&-1<i)return{coll:(o=r[n].cells[i]).children,type:"td",width:o.width,height:o.height}}var A,o,a=this.__cb(),s={coll:C.State.get("__aK"),type:"stage",width:Number.MAX_SAFE_INTEGER,height:Number.MAX_SAFE_INTEGER};1===a.length&&("td"==(A=a[0]).type&&(s={coll:(o=A.table.props.rows[A.row].cells[A.col]).children,type:"td",width:o.width,height:o.height}));return s},__dq:function(e,t){if(e.shiftKey||e.ctrlKey||e.metaKey){if(!t.props.locked&&!t.props.xLocked&&!t.props.yLocked){var r=b.StageSelectElements.__bF(),u={},d={},n=[];"table"==t.type&&n.push(t);for(var i=!1,A=r.length;A--;){(s=r[A]).id==t.id&&(i=!0),s.props.locked||s.props.xLocked||s.props.yLocked?r.splice(A,1):"table"==s.type&&n.push(s)}if(i&&1<r.length)return void b.StageSelectElements.__cu(t);var f=function(e,t){for(var r=0,n=e;r<n.length;r++){var i=n[r];if("#script"!=i.type&&(t&&(u[i.id]=1,d[i.id]=t),"table"==i.type))for(var A=0,o=i.props.rows;A<o.length;A++){var a=o[A];if("tr"==a.tag)for(var s=0,l=a.cells;s<l.length;s++){var c=l[s];"td"==c.tag&&c.children&&f(c.children,i.id)}}}};if(f(n,0),B(u,t.id))for(var o=t.id;;){var a=d[o];if(!a)break;u[a]=1,o=a}for(A=r.length;A--;){var s=r[A];B(u,s.id)&&r.splice(A,1)}b.StageSelectElements.__cz(t)}}else b.StageSelectElements.__bv(t)},__bH:function(e){for(var t,r,n=[],i=0,A=e&&e.children||C.State.get("__aK");i<A.length;i++){var o=A[i];if(t=o.props,"#script"!=o.type&&!t.locked){r=t.rotate||0;var a={x:t.x,y:t.y,width:t.width,height:t.height};t.useCNStyle&&e&&(a.width=.92*e.width,a.height=.92*e.height);for(var s=Q.default.__aw(a,r),l=s.point[0],c=s.point[2],u=s.point[6],d=s.point[4],f=l,p=l,h=l,g=l,v=0,m=[c,u,d];v<m.length;v++){var _=m[v];_.x<f.x&&(f=_),_.x>h.x&&(h=_),_.y<p.y&&(p=_),_.y>g.y&&(g=_)}n.push({element:o,left:f,top:p,right:h,bottom:g,points:[l,c,u,d],lines:[{start:l,end:c},{start:c,end:d},{start:d,end:u},{start:u,end:l}]})}}return n},__ce:function(e,t,r){for(var n=-1,i=t.props,A=Q.default.__aY(r),o=A.length,a=A.length;a--;){if(A[a].id===t.id){n=a;break}}if(3==e){for(a=n+1;a<o;a++)A[a].props.zIndex=a;i.zIndex=o}else if(4==e){for(a=0;a<n;a++)A[a].props.zIndex=a+2;i.zIndex=1}else if(5==e){var s=A[n+1];if(s){var l=i.zIndex,c=s.props.zIndex;s.props.zIndex=l,i.zIndex=c}}else if(6==e){var u=A[n-1];if(u){l=i.zIndex,c=u.props.zIndex;u.props.zIndex=l,i.zIndex=c}}return r},__bZ:function(e){for(var t=[],r=0,n=e;r<n.length;r++){var i=n[r];"#script"==i.type||i.props.locked||i.props.xLocked||i.props.yLocked||t.push(i)}b.StageSelectElements.__bL(t)},__bS:function(e){var t=b.StageSelectElements.__bF(),c=o(t,"id"),r=C.State.get("__aK"),u=function(e){for(var t=!1,r=e.length;r--;){if("#script"!=(l=e[r]).type)if(B(c,l.id))e.splice(r,1),t=!0;else if("table"==l.type)for(var n=0,i=l.props.rows;n<i.length;n++){var A=i[n];if("tr"==A.tag)for(var o=0,a=A.cells;o<a.length;o++){var s=a[o];"td"==s.tag&&s.children&&u(s.children)}}}if(t)for(r=e.length;r--;){var l;"#script"!=(l=e[r]).type&&(l.props.zIndex=r+1)}};if(u(r),e)return t.length=0,C.State.fire("__ap"),r},__ba:function(c,e){var t=C.State.get("__aK"),u=function(e){for(var t=!1,r=e.length;r--;){if("#script"!=(l=e[r]).type)if(c==l.id)e.splice(r,1),t=!0;else if("table"==l.type)for(var n=0,i=l.props.rows;n<i.length;n++){var A=i[n];if("tr"==A.tag)for(var o=0,a=A.cells;o<a.length;o++){var s=a[o];"td"==s.tag&&s.children&&u(s.children)}}}if(t)for(r=e.length;r--;){var l;"#script"!=(l=e[r]).type&&(l.props.zIndex=r+1)}};(u(t),e)||(b.StageSelectElements.__bF().length=0,C.State.fire("__ap"))},__dp:function(e,t,r,n){if(n&&(t.x*=r,t.y*=r),t.width*=r,t.height*=r,"table"==e.type)for(var i=0,A=t.rows;i<A.length;i++){var o=A[i];if("tr"==o.tag)for(var a=0,s=o.cells;a<s.length;a++){var l=s[a];"td"==l.tag&&(l.width*=r,l.height*=r,l.children&&b.StageElements.__dr(l.children,r,n))}}},__dr:function(e,t,r){for(var n=0,i=e;n<i.length;n++){var A=i[n];"#script"!=A.type&&b.StageElements.__dp(A,A.props,t,r)}},__bu:function(e,t){var r=C.State.get("__aK"),n=t/e;b.StageElements.__dr(r,n,!0)},__bN:function(l,e){var t=l.params;if(!t.props.barred){var c=b.StageSelectElements.__bF();if(void 0===l.button||0==l.button)if(l.shiftKey||l.ctrlKey||l.metaKey)b.StageElements.__dq(l,t);else{C.State.fire("__au",{locked:1}),C.State.fire("__av",{cursor:"move"});for(var u=[],r=(A=!1,0),n=c;r<n.length;r++){var i=n[r];t.id==i.id&&(A=!0),u.push({x:i.props.x,y:i.props.y})}A||(b.StageSelectElements.__bv(t),u.length=0,u.push({x:t.props.x,y:t.props.y}),c.length=0,c.push(t));var d=!1,f=!1;e.dragdrop(l.eventTarget,function(e){d=!0;for(var t=e.pageX-l.pageX,r=e.pageY-l.pageY,n=0,i=0,A=c;i<A.length;i++){var o=A[i];if(!o.props.locked&&!o.props.xLocked&&!o.props.yLocked){f=!0;var a=u[n++];o.props.x=a.x+t,o.props.y=a.y+r;var s=C.Vframe.get(o.id);s&&s.invoke("assign",[o,{move:!0}])&&s.invoke("render")}}C.State.fire("__ap")},function(){d&&f&&C.State.fire("__D"),C.State.fire("__au"),C.State.fire("__av")})}else{for(var A=!1,o=0,a=c;o<a.length;o++){if(a[o].id===t.id){A=!0;break}}A||b.StageSelectElements.__bv(t)}}},__cd:function(e,t,r,n,i){var A=b.StageSelectElements.__bF(),o=C.default.config("lang"),a=_.Contextmenu.stage(o),s=1,l={},c=b.Clipboard.__ds();if(n=Q.default.__aY(n),l[_.Contextmenu.allId]=!n.length,l[_.Contextmenu.pasteId]=!c.length,1===A.length){var u=A[0],d=u.props.locked||u.props.__invalid;if(r&&A[0].id==r)s=4,a=_.Contextmenu.tableCell(o),l[_.Contextmenu.cellTopId]=d,l[_.Contextmenu.cellBottomId]=d,l[_.Contextmenu.cellLeftId]=d,l[_.Contextmenu.cellRightId]=d,l[_.Contextmenu.cellDeleteColId]=d,l[_.Contextmenu.cellDeleteRowId]=d;else{s=2,a=_.Contextmenu.singleElement(o);var f=d||u.props.useCNStyle,p=n.length,h=!p||n[p-1].id==u.id,g=!p||n[0].id==u.id;l[_.Contextmenu.cutId]=d,l[_.Contextmenu.topId]=h||f,l[_.Contextmenu.bottomId]=g||f,l[_.Contextmenu.upId]=h||f,l[_.Contextmenu.downId]=g||f}}else 1<A.length&&(s=3,a=_.Contextmenu.multipleElement(o));v.show(e,t,{cnt:"#outer_cm",offset:"#stage_outer",scroller:"#app_stage",width:150,disabled:l,list:a,listKey:o+s,picked:i})},__bR:function(e){var t=b.StageSelectElements.__bF(),r=C.State.get("__aK"),n=Q.default.__aY(r),i=t.length,A=null;if(0===i||1<i)A=n[e.shiftKey?0:n.length-1];else{var v=null,m=null,_=null,w=null,B=!1,y=t[0].id,x=function(e){for(var t,r=0,n=e;r<n.length;r++){var i=n[r];if("#script"!=i.type&&(i.id==y?(B=!0,v=i):v&&!m?m=i:B?w=i:_=i,"table"==i.type)){var A=(t=i.props).rows,o=t.rowIndex,a=t.colIndex,s=0;if(-1<o&&-1<a){var l=A[o].cells[a];if(l.children)(g=Q.default.__aY(l.children)).length&&(s=1,x(g))}if(!s)for(var c=0,u=A;c<u.length;c++){var d=u[c];if("tr"==d.tag)for(var f=0,p=d.cells;f<p.length;f++){var h=p[f];if("td"==h.tag&&h.children){var g=Q.default.__aY(h.children);x(g)}}}}}};x(n),e.shiftKey?_?A=_:"table"==(A=n[n.length-1]).type&&w&&(A=w):A=m||n[0]}b.StageSelectElements.__bv(A)},__bJ:function(e,t,r){for(var n,i,A,o,a,s,l,c,u,d=[],f=[{start:{x:t.x,y:t.y},end:{x:t.x+t.width,y:t.y}},{start:{x:t.x+t.width,y:t.y},end:{x:t.x+t.width,y:t.y+t.height}},{start:{x:t.x+t.width,y:t.y+t.height},end:{x:t.x,y:t.y+t.height}},{start:{x:t.x,y:t.y+t.height},end:{x:t.x,y:t.y}}],p=0,h=e;p<h.length;p++){var g=h[p];if(n=!1,r&&r[g.element.id])r&&d.push(g.element);else{for(var v=0,m=g.points;v<m.length;v++){var _=m[v];if(_.x>=t.x&&_.y>=t.y&&_.x<=t.x+t.width&&_.y<=t.y+t.height){d.push(g.element),n=!0;break}}if(!n)for(var w=0,B=g.lines;w<B.length;w++){for(var y=B[w],x=0,b=f;x<b.length;x++){if(A=b[x],void 0,o=(i=y).start,a=i.end,s=A.start,l=A.end,c=((a.x-o.x)*(s.y-o.y)-(a.y-o.y)*(s.x-o.x))*((a.x-o.x)*(l.y-o.y)-(a.y-o.y)*(l.x-o.x)),u=((l.x-s.x)*(o.y-s.y)-(l.y-s.y)*(o.x-s.x))*((l.x-s.x)*(a.y-s.y)-(l.y-s.y)*(a.x-s.x)),c<0&&u<0){n=!0,d.push(g.element);break}}if(n)break}}}return d},__cg:function(e,t){for(var i=[],A=0,r=0,n=0,o=function(){A==r&&t(i)},a=function(r,n){var e=new FileReader;e.onload=function(e){var t=new Image;t.onload=function(){i[n]={file:r,width:t.width,height:t.height},A++,o()},t.onerror=function(){A++,o()},t.src=e.target.result},e.readAsDataURL(r)},s=0;s<e.length;s++){var l=e[s];0===l.type.indexOf("image/")&&(r++,a(l,n++))}o()}};b.Clipboard={__bW:function(){return(this.__dt||[]).length},__ds:function(){return this.__dt||[]},__bU:function(){for(var e=[],t=0,r=b.StageSelectElements.__bF();t<r.length;t++){var n=r[t];e.push(n)}this.__dt=e},__c_:function(){var e=b.StageSelectElements.__bF();1==e.length&&e[0].props.locked||(this.__bU(),this.__du=!0)},__bY:function(g,n){var i=this,e=i.__dt,v=g.coll;if(e){for(var A=[],o=0,a=0,s=0,l=function(e){for(var t=0,r=v;t<r.length;t++){var n=r[t];if(n.props.x==e.x&&n.props.y==e.y)return 1}return 0},t=function(e){var t=function(e,t){return w.default.extend(!0,t,e)}(e,{});!function(e){if(0===o)if(n)a=e.x-n.x,s=e.y-n.y,e.x=n.x,e.y=n.y;else{for(var t=e.x,r=e.y;l(e);)e.x+=20,e.y+=20;for(e.x>g.width?e.x=g.width-e.width/2:e.x+e.width<0&&(e.x=-e.width/2),e.y>g.height?e.y=g.height-e.height/2:e.y+e.height<0&&(e.y=-e.height/2);l(e);)e.x-=4,e.y-=4;a=t-e.x,s=r-e.y}else e.x-=a,e.y-=s}(t.props),o++;var r={},h=function(e,t){if(y(t,e),"#script"!=e.type&&(t.id=C.default.guid("e_"),t.props={},y(t.props,e.props),"htext"!=e.type&&"vtext"!=e.type||(t.props.useCNStyle&&"td"==g.type?(t.props.x=.76,t.props.y=.76):(t.props.zIndex=v.length+1,t.props.locked=!1,t.props.supportCNStyle="td"==g.type,t.props.useCNStyle&&(t.props.xLocked=!1,t.props.yLocked=!1,t.props.widthLocked=!1,t.props.heightLocked=!1,t.props.useCNStyle=!1,t.props.width=t.props._width||("htext"==e.type?94.49:22.68),t.props.height=t.props._height||("htext"==e.type?18.9:128.5))))),"table"==e.type){t.props.rows=[];for(var r=0,n=e.props.rows;r<n.length;r++){var i=n[r],A=m({},i);if("tr"==i.tag){for(var o=[],a=0,s=i.cells;a<s.length;a++){var l=s[a],c=m({},l,{children:[]});if("td"==l.tag&&l.children)for(var u=0,d=l.children;u<d.length;u++){var f=d[u],p={};h(f,p),c.children.push(p)}o.push(c)}A.cells=o}t.props.rows.push(A)}}};h(t,r),v.push(r),A.push(r),i.__du&&b.StageElements.__ba(e.id,!0)},r=0,c=e;r<c.length;r++){t(c[r])}i.__du&&(delete i.__du,delete i.__dt),b.StageSelectElements.__bL(A),C.State.fire("__aZ"),C.State.fire("__ap")}}}});